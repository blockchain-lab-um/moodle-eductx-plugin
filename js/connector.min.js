/*! For license information please see bundle.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.webpackNumbers=t():e.webpackNumbers=t()}(this,(()=>(()=>{var e={898:e=>{"use strict";e.exports=function({mustBeMetaMask:e=!1,silent:t=!1,timeout:r=3e3}={}){!function(){if("boolean"!=typeof e)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!=typeof t)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof r)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let n=!1;return new Promise((i=>{function o(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",o);const{ethereum:r}=window;if(!r||e&&!r.isMetaMask){const n=e&&r?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!t&&console.error("@metamask/detect-provider:",n),i(null)}else i(r)}window.ethereum?o():(window.addEventListener("ethereum#initialized",o,{once:!0}),setTimeout((()=>{o()}),r))}))}},7689:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9159);function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function o(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function s(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function u(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function f(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function d(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function h(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),f(e/4294967296>>>0,t,r),f(e>>>0,t,r+4),t}function l(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),d(e>>>0,t,r),d(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=o,t.writeInt16LE=o,t.readInt32BE=s,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=u,t.writeUint32BE=f,t.writeInt32BE=f,t.writeUint32LE=d,t.writeInt32LE=d,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=s(e,t),n=s(e,t+4);return 4294967296*r+n-4294967296*(n>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 4294967296*c(e,t+4)+r-4294967296*(r>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=u(e,t);return 4294967296*u(e,t+4)+r},t.writeUint64BE=h,t.writeInt64BE=h,t.writeUint64LE=l,t.writeInt64LE=l,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=e/8+r-1;o>=r;o--)n+=t[o]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+e/8;o++)n+=t[o]*i,i*=256;return n},t.writeUintBE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var o=1,s=e/8+i-1;s>=i;s--)r[s]=t/o&255,o*=256;return r},t.writeUintLE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var o=1,s=i;s<i+e/8;s++)r[s]=t/o&255,o*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},7279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2787),i=r(329),o=r(9044),s=r(7689),a=r(3653);t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var c=new Uint8Array(16),u=function(){function e(e){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,e.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var a=new Uint8Array(32);n.stream(this._key,s,a,4);var c,u=t.length+this.tagLength;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(u);return n.streamXOR(this._key,s,t,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),a,c.subarray(0,c.length-this.tagLength),r),o.wipe(s),c},e.prototype.open=function(e,t,r,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var c=new Uint8Array(32);n.stream(this._key,s,c,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,c,t.subarray(0,t.length-this.tagLength),r),!a.equal(u,t.subarray(t.length-this.tagLength,t.length)))return null;var f,d=t.length-this.tagLength;if(i){if(i.length!==d)throw new Error("ChaCha20Poly1305: incorrect destination length");f=i}else f=new Uint8Array(d);return n.streamXOR(this._key,s,t.subarray(0,t.length-this.tagLength),f,4),o.wipe(s),f},e.prototype.clean=function(){return o.wipe(this._key),this},e.prototype._authenticate=function(e,t,r,n){var a=new i.Poly1305(t);n&&(a.update(n),n.length%16>0&&a.update(c.subarray(n.length%16))),a.update(r),r.length%16>0&&a.update(c.subarray(r.length%16));var u=new Uint8Array(8);n&&s.writeUint64LE(n.length,u),a.update(u),s.writeUint64LE(r.length,u),a.update(u);for(var f=a.digest(),d=0;d<f.length;d++)e[d]=f[d];a.clean(),o.wipe(f),o.wipe(u)},e}();t.ChaCha20Poly1305=u},2787:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7689),i=r(9044),o=20;function s(e,t,r){for(var i=1634760805,s=857760878,a=2036477234,c=1797285236,u=r[3]<<24|r[2]<<16|r[1]<<8|r[0],f=r[7]<<24|r[6]<<16|r[5]<<8|r[4],d=r[11]<<24|r[10]<<16|r[9]<<8|r[8],h=r[15]<<24|r[14]<<16|r[13]<<8|r[12],l=r[19]<<24|r[18]<<16|r[17]<<8|r[16],p=r[23]<<24|r[22]<<16|r[21]<<8|r[20],y=r[27]<<24|r[26]<<16|r[25]<<8|r[24],b=r[31]<<24|r[30]<<16|r[29]<<8|r[28],g=t[3]<<24|t[2]<<16|t[1]<<8|t[0],v=t[7]<<24|t[6]<<16|t[5]<<8|t[4],m=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],x=i,A=s,E=a,M=c,S=u,_=f,I=d,k=h,j=l,O=p,C=y,R=b,N=g,P=v,B=m,D=w,T=0;T<o;T+=2)S=(S^=j=j+(N=(N^=x=x+S|0)>>>16|N<<16)|0)>>>20|S<<12,_=(_^=O=O+(P=(P^=A=A+_|0)>>>16|P<<16)|0)>>>20|_<<12,I=(I^=C=C+(B=(B^=E=E+I|0)>>>16|B<<16)|0)>>>20|I<<12,k=(k^=R=R+(D=(D^=M=M+k|0)>>>16|D<<16)|0)>>>20|k<<12,I=(I^=C=C+(B=(B^=E=E+I|0)>>>24|B<<8)|0)>>>25|I<<7,k=(k^=R=R+(D=(D^=M=M+k|0)>>>24|D<<8)|0)>>>25|k<<7,_=(_^=O=O+(P=(P^=A=A+_|0)>>>24|P<<8)|0)>>>25|_<<7,S=(S^=j=j+(N=(N^=x=x+S|0)>>>24|N<<8)|0)>>>25|S<<7,_=(_^=C=C+(D=(D^=x=x+_|0)>>>16|D<<16)|0)>>>20|_<<12,I=(I^=R=R+(N=(N^=A=A+I|0)>>>16|N<<16)|0)>>>20|I<<12,k=(k^=j=j+(P=(P^=E=E+k|0)>>>16|P<<16)|0)>>>20|k<<12,S=(S^=O=O+(B=(B^=M=M+S|0)>>>16|B<<16)|0)>>>20|S<<12,k=(k^=j=j+(P=(P^=E=E+k|0)>>>24|P<<8)|0)>>>25|k<<7,S=(S^=O=O+(B=(B^=M=M+S|0)>>>24|B<<8)|0)>>>25|S<<7,I=(I^=R=R+(N=(N^=A=A+I|0)>>>24|N<<8)|0)>>>25|I<<7,_=(_^=C=C+(D=(D^=x=x+_|0)>>>24|D<<8)|0)>>>25|_<<7;n.writeUint32LE(x+i|0,e,0),n.writeUint32LE(A+s|0,e,4),n.writeUint32LE(E+a|0,e,8),n.writeUint32LE(M+c|0,e,12),n.writeUint32LE(S+u|0,e,16),n.writeUint32LE(_+f|0,e,20),n.writeUint32LE(I+d|0,e,24),n.writeUint32LE(k+h|0,e,28),n.writeUint32LE(j+l|0,e,32),n.writeUint32LE(O+p|0,e,36),n.writeUint32LE(C+y|0,e,40),n.writeUint32LE(R+b|0,e,44),n.writeUint32LE(N+g|0,e,48),n.writeUint32LE(P+v|0,e,52),n.writeUint32LE(B+m|0,e,56),n.writeUint32LE(D+w|0,e,60)}function a(e,t,r,n,o){if(void 0===o&&(o=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var a,u;if(0===o){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");u=(a=new Uint8Array(16)).length-t.length,a.set(t,u)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");a=t,u=o}for(var f=new Uint8Array(64),d=0;d<r.length;d+=64){s(f,a,e);for(var h=d;h<d+64&&h<r.length;h++)n[h]=r[h]^f[h-d];c(a,0,u)}return i.wipe(f),0===o&&i.wipe(a),n}function c(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=a,t.stream=function(e,t,r,n){return void 0===n&&(n=0),i.wipe(r),a(e,t,r,r,n)}},3653:(e,t)=>{"use strict";function r(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},378:(e,t,r)=>{"use strict";t.zh=t.SH=t._w=t.aP=t.KS=t.jQ=void 0;r(900);const n=r(7212),i=r(9044);function o(e){const t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.jQ=64,t.KS=64,t.aP=32,new Uint8Array(32)[0]=9;const s=o(),a=o([1]),c=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function l(e,t){for(let r=0;r<16;r++)e[r]=0|t[r]}function p(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function y(e,t,r){const n=~(r-1);for(let r=0;r<16;r++){const i=n&(e[r]^t[r]);e[r]^=i,t[r]^=i}}function b(e,t){const r=o(),n=o();for(let e=0;e<16;e++)n[e]=t[e];p(n),p(n),p(n);for(let e=0;e<2;e++){r[0]=n[0]-65517;for(let e=1;e<15;e++)r[e]=n[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const e=r[15]>>16&1;r[14]&=65535,y(n,r,1-e)}for(let t=0;t<16;t++)e[2*t]=255&n[t],e[2*t+1]=n[t]>>8}function g(e,t){const r=new Uint8Array(32),n=new Uint8Array(32);return b(r,e),b(n,t),function(e,t){let r=0;for(let n=0;n<32;n++)r|=e[n]^t[n];return(1&r-1>>>8)-1}(r,n)}function v(e){const t=new Uint8Array(32);return b(t,e),1&t[0]}function m(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function w(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function x(e,t,r){let n,i,o=0,s=0,a=0,c=0,u=0,f=0,d=0,h=0,l=0,p=0,y=0,b=0,g=0,v=0,m=0,w=0,x=0,A=0,E=0,M=0,S=0,_=0,I=0,k=0,j=0,O=0,C=0,R=0,N=0,P=0,B=0,D=r[0],T=r[1],U=r[2],L=r[3],q=r[4],z=r[5],$=r[6],F=r[7],V=r[8],H=r[9],K=r[10],J=r[11],W=r[12],G=r[13],Z=r[14],X=r[15];n=t[0],o+=n*D,s+=n*T,a+=n*U,c+=n*L,u+=n*q,f+=n*z,d+=n*$,h+=n*F,l+=n*V,p+=n*H,y+=n*K,b+=n*J,g+=n*W,v+=n*G,m+=n*Z,w+=n*X,n=t[1],s+=n*D,a+=n*T,c+=n*U,u+=n*L,f+=n*q,d+=n*z,h+=n*$,l+=n*F,p+=n*V,y+=n*H,b+=n*K,g+=n*J,v+=n*W,m+=n*G,w+=n*Z,x+=n*X,n=t[2],a+=n*D,c+=n*T,u+=n*U,f+=n*L,d+=n*q,h+=n*z,l+=n*$,p+=n*F,y+=n*V,b+=n*H,g+=n*K,v+=n*J,m+=n*W,w+=n*G,x+=n*Z,A+=n*X,n=t[3],c+=n*D,u+=n*T,f+=n*U,d+=n*L,h+=n*q,l+=n*z,p+=n*$,y+=n*F,b+=n*V,g+=n*H,v+=n*K,m+=n*J,w+=n*W,x+=n*G,A+=n*Z,E+=n*X,n=t[4],u+=n*D,f+=n*T,d+=n*U,h+=n*L,l+=n*q,p+=n*z,y+=n*$,b+=n*F,g+=n*V,v+=n*H,m+=n*K,w+=n*J,x+=n*W,A+=n*G,E+=n*Z,M+=n*X,n=t[5],f+=n*D,d+=n*T,h+=n*U,l+=n*L,p+=n*q,y+=n*z,b+=n*$,g+=n*F,v+=n*V,m+=n*H,w+=n*K,x+=n*J,A+=n*W,E+=n*G,M+=n*Z,S+=n*X,n=t[6],d+=n*D,h+=n*T,l+=n*U,p+=n*L,y+=n*q,b+=n*z,g+=n*$,v+=n*F,m+=n*V,w+=n*H,x+=n*K,A+=n*J,E+=n*W,M+=n*G,S+=n*Z,_+=n*X,n=t[7],h+=n*D,l+=n*T,p+=n*U,y+=n*L,b+=n*q,g+=n*z,v+=n*$,m+=n*F,w+=n*V,x+=n*H,A+=n*K,E+=n*J,M+=n*W,S+=n*G,_+=n*Z,I+=n*X,n=t[8],l+=n*D,p+=n*T,y+=n*U,b+=n*L,g+=n*q,v+=n*z,m+=n*$,w+=n*F,x+=n*V,A+=n*H,E+=n*K,M+=n*J,S+=n*W,_+=n*G,I+=n*Z,k+=n*X,n=t[9],p+=n*D,y+=n*T,b+=n*U,g+=n*L,v+=n*q,m+=n*z,w+=n*$,x+=n*F,A+=n*V,E+=n*H,M+=n*K,S+=n*J,_+=n*W,I+=n*G,k+=n*Z,j+=n*X,n=t[10],y+=n*D,b+=n*T,g+=n*U,v+=n*L,m+=n*q,w+=n*z,x+=n*$,A+=n*F,E+=n*V,M+=n*H,S+=n*K,_+=n*J,I+=n*W,k+=n*G,j+=n*Z,O+=n*X,n=t[11],b+=n*D,g+=n*T,v+=n*U,m+=n*L,w+=n*q,x+=n*z,A+=n*$,E+=n*F,M+=n*V,S+=n*H,_+=n*K,I+=n*J,k+=n*W,j+=n*G,O+=n*Z,C+=n*X,n=t[12],g+=n*D,v+=n*T,m+=n*U,w+=n*L,x+=n*q,A+=n*z,E+=n*$,M+=n*F,S+=n*V,_+=n*H,I+=n*K,k+=n*J,j+=n*W,O+=n*G,C+=n*Z,R+=n*X,n=t[13],v+=n*D,m+=n*T,w+=n*U,x+=n*L,A+=n*q,E+=n*z,M+=n*$,S+=n*F,_+=n*V,I+=n*H,k+=n*K,j+=n*J,O+=n*W,C+=n*G,R+=n*Z,N+=n*X,n=t[14],m+=n*D,w+=n*T,x+=n*U,A+=n*L,E+=n*q,M+=n*z,S+=n*$,_+=n*F,I+=n*V,k+=n*H,j+=n*K,O+=n*J,C+=n*W,R+=n*G,N+=n*Z,P+=n*X,n=t[15],w+=n*D,x+=n*T,A+=n*U,E+=n*L,M+=n*q,S+=n*z,_+=n*$,I+=n*F,k+=n*V,j+=n*H,O+=n*K,C+=n*J,R+=n*W,N+=n*G,P+=n*Z,B+=n*X,o+=38*x,s+=38*A,a+=38*E,c+=38*M,u+=38*S,f+=38*_,d+=38*I,h+=38*k,l+=38*j,p+=38*O,y+=38*C,b+=38*R,g+=38*N,v+=38*P,m+=38*B,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=f,e[6]=d,e[7]=h,e[8]=l,e[9]=p,e[10]=y,e[11]=b,e[12]=g,e[13]=v,e[14]=m,e[15]=w}function A(e,t){x(e,t,t)}function E(e,t){const r=o();let n;for(n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)A(r,r),2!==n&&4!==n&&x(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function M(e,t){const r=o(),n=o(),i=o(),s=o(),a=o(),c=o(),f=o(),d=o(),h=o();w(r,e[1],e[0]),w(h,t[1],t[0]),x(r,r,h),m(n,e[0],e[1]),m(h,t[0],t[1]),x(n,n,h),x(i,e[3],t[3]),x(i,i,u),x(s,e[2],t[2]),m(s,s,s),w(a,n,r),w(c,s,i),m(f,s,i),m(d,n,r),x(e[0],a,c),x(e[1],d,f),x(e[2],f,c),x(e[3],a,d)}function S(e,t,r){for(let n=0;n<4;n++)y(e[n],t[n],r)}function _(e,t){const r=[o(),o(),o(),o()];l(r[0],f),l(r[1],d),l(r[2],a),x(r[3],f,d),function(e,t,r){l(e[0],s),l(e[1],a),l(e[2],a),l(e[3],s);for(let n=255;n>=0;--n){const i=r[n/8|0]>>(7&n)&1;S(e,t,i),M(t,e),M(e,e),S(e,t,i)}}(e,r,t)}t._w=function(e){if(e.length!==t.aP)throw new Error(`ed25519: seed must be ${t.aP} bytes`);const r=(0,n.hash)(e);r[0]&=248,r[31]&=127,r[31]|=64;const i=new Uint8Array(32),s=[o(),o(),o(),o()];_(s,r),function(e,t){const r=o(),n=o(),i=o();E(i,t[2]),x(r,t[0],i),x(n,t[1],i),b(e,n),e[31]^=v(r)<<7}(i,s);const a=new Uint8Array(64);return a.set(e),a.set(i,32),{publicKey:i,secretKey:a}};new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);t.SH=function(e){let t=[o(),o(),o(),o()];if(function(e,t){const r=o(),n=o(),i=o(),u=o(),f=o(),d=o(),p=o();return l(e[2],a),function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),A(i,e[1]),x(u,i,c),w(i,i,e[2]),m(u,e[2],u),A(f,u),A(d,f),x(p,d,f),x(r,p,i),x(r,r,u),function(e,t){const r=o();let n;for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)A(r,r),1!==n&&x(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}(r,r),x(r,r,i),x(r,r,u),x(r,r,u),x(e[0],r,u),A(n,e[0]),x(n,n,u),g(n,i)&&x(e[0],e[0],h),A(n,e[0]),x(n,n,u),g(n,i)?-1:(v(e[0])===t[31]>>7&&w(e[0],s,e[0]),x(e[3],e[0],e[1]),0)}(t,e))throw new Error("Ed25519: invalid public key");let r=o(),n=o(),i=t[1];m(r,a,i),w(n,a,i),E(n,n),x(r,r,n);let u=new Uint8Array(32);return b(u,r),u},t.zh=function(e){const t=(0,n.hash)(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;const r=new Uint8Array(t.subarray(0,32));return(0,i.wipe)(t),r}},9159:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},329:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3653),i=r(9044);t.DIGEST_LENGTH=16;var o=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=8191&r;var n=e[2]|e[3]<<8;this._r[1]=8191&(r>>>13|n<<3);var i=e[4]|e[5]<<8;this._r[2]=7939&(n>>>10|i<<6);var o=e[6]|e[7]<<8;this._r[3]=8191&(i>>>7|o<<9);var s=e[8]|e[9]<<8;this._r[4]=255&(o>>>4|s<<12),this._r[5]=s>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=8191&(s>>>14|a<<2);var c=e[12]|e[13]<<8;this._r[7]=8065&(a>>>11|c<<5);var u=e[14]|e[15]<<8;this._r[8]=8191&(c>>>8|u<<8),this._r[9]=u>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,i=this._h[0],o=this._h[1],s=this._h[2],a=this._h[3],c=this._h[4],u=this._h[5],f=this._h[6],d=this._h[7],h=this._h[8],l=this._h[9],p=this._r[0],y=this._r[1],b=this._r[2],g=this._r[3],v=this._r[4],m=this._r[5],w=this._r[6],x=this._r[7],A=this._r[8],E=this._r[9];r>=16;){var M=e[t+0]|e[t+1]<<8;i+=8191&M;var S=e[t+2]|e[t+3]<<8;o+=8191&(M>>>13|S<<3);var _=e[t+4]|e[t+5]<<8;s+=8191&(S>>>10|_<<6);var I=e[t+6]|e[t+7]<<8;a+=8191&(_>>>7|I<<9);var k=e[t+8]|e[t+9]<<8;c+=8191&(I>>>4|k<<12),u+=k>>>1&8191;var j=e[t+10]|e[t+11]<<8;f+=8191&(k>>>14|j<<2);var O=e[t+12]|e[t+13]<<8;d+=8191&(j>>>11|O<<5);var C=e[t+14]|e[t+15]<<8,R=0,N=R;N+=i*p,N+=o*(5*E),N+=s*(5*A),N+=a*(5*x),R=(N+=c*(5*w))>>>13,N&=8191,N+=u*(5*m),N+=f*(5*v),N+=d*(5*g),N+=(h+=8191&(O>>>8|C<<8))*(5*b);var P=R+=(N+=(l+=C>>>5|n)*(5*y))>>>13;P+=i*y,P+=o*p,P+=s*(5*E),P+=a*(5*A),R=(P+=c*(5*x))>>>13,P&=8191,P+=u*(5*w),P+=f*(5*m),P+=d*(5*v),P+=h*(5*g),R+=(P+=l*(5*b))>>>13,P&=8191;var B=R;B+=i*b,B+=o*y,B+=s*p,B+=a*(5*E),R=(B+=c*(5*A))>>>13,B&=8191,B+=u*(5*x),B+=f*(5*w),B+=d*(5*m),B+=h*(5*v);var D=R+=(B+=l*(5*g))>>>13;D+=i*g,D+=o*b,D+=s*y,D+=a*p,R=(D+=c*(5*E))>>>13,D&=8191,D+=u*(5*A),D+=f*(5*x),D+=d*(5*w),D+=h*(5*m);var T=R+=(D+=l*(5*v))>>>13;T+=i*v,T+=o*g,T+=s*b,T+=a*y,R=(T+=c*p)>>>13,T&=8191,T+=u*(5*E),T+=f*(5*A),T+=d*(5*x),T+=h*(5*w);var U=R+=(T+=l*(5*m))>>>13;U+=i*m,U+=o*v,U+=s*g,U+=a*b,R=(U+=c*y)>>>13,U&=8191,U+=u*p,U+=f*(5*E),U+=d*(5*A),U+=h*(5*x);var L=R+=(U+=l*(5*w))>>>13;L+=i*w,L+=o*m,L+=s*v,L+=a*g,R=(L+=c*b)>>>13,L&=8191,L+=u*y,L+=f*p,L+=d*(5*E),L+=h*(5*A);var q=R+=(L+=l*(5*x))>>>13;q+=i*x,q+=o*w,q+=s*m,q+=a*v,R=(q+=c*g)>>>13,q&=8191,q+=u*b,q+=f*y,q+=d*p,q+=h*(5*E);var z=R+=(q+=l*(5*A))>>>13;z+=i*A,z+=o*x,z+=s*w,z+=a*m,R=(z+=c*v)>>>13,z&=8191,z+=u*g,z+=f*b,z+=d*y,z+=h*p;var $=R+=(z+=l*(5*E))>>>13;$+=i*E,$+=o*A,$+=s*x,$+=a*w,R=($+=c*m)>>>13,$&=8191,$+=u*v,$+=f*g,$+=d*b,$+=h*y,i=N=8191&(R=(R=((R+=($+=l*p)>>>13)<<2)+R|0)+(N&=8191)|0),o=P+=R>>>=13,s=B&=8191,a=D&=8191,c=T&=8191,u=U&=8191,f=L&=8191,d=q&=8191,h=z&=8191,l=$&=8191,t+=16,r-=16}this._h[0]=i,this._h[1]=o,this._h[2]=s,this._h[3]=a,this._h[4]=c,this._h[5]=u,this._h[6]=f,this._h[7]=d,this._h[8]=h,this._h[9]=l},e.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,i,o,s=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=r,r=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,s[0]=this._h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this._h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this._h[o]=this._h[o]&n|s[o];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,o=1;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[r+i];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(i=0;i<n;i++)this._buffer[this._leftover+i]=e[r+i];this._leftover+=n}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=o,t.oneTimeAuth=function(e,t){var r=new o(e);r.update(t);var n=r.digest();return r.clean(),n},t.equal=function(e,r){return e.length===t.DIGEST_LENGTH&&r.length===t.DIGEST_LENGTH&&n.equal(e,r)}},900:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const n=r(2716),i=r(7689),o=r(9044);function s(e,r=t.defaultRandomSource){return r.randomBytes(e)}t.defaultRandomSource=new n.SystemRandomSource,t.randomBytes=s,t.randomUint32=function(e=t.defaultRandomSource){const r=s(4,e),n=(0,i.readUint32LE)(r);return(0,o.wipe)(r),n};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e,r=a,n=t.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let i="";const c=r.length,u=256-256%c;for(;e>0;){const t=s(Math.ceil(256*e/u),n);for(let n=0;n<t.length&&e>0;n++){const o=t[n];o<u&&(i+=r.charAt(o%c),e--)}(0,o.wipe)(t)}return i}t.randomString=c,t.randomStringForEntropy=function(e,r=a,n=t.defaultRandomSource){return c(Math.ceil(e/(Math.log(r.length)/Math.LN2)),r,n)}},5244:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0,t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}},922:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const n=r(9044);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=r(3804);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(e);for(let e=0;e<r.length;e++)r[e]=t[e];return(0,n.wipe)(t),r}}},2716:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const n=r(5244),i=r(922);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},7212:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7689),i=r(9044);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var o=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,r){if(void 0===r&&(r=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t/536870912|0,o=t<<3,s=t%128<112?128:256;this._buffer[r]=128;for(var c=r+1;c<s-8;c++)this._buffer[c]=0;n.writeUint32BE(i,this._buffer,s-8),n.writeUint32BE(o,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(c=0;c<this.digestLength/8;c++)n.writeUint32BE(this._stateHi[c],e,8*c),n.writeUint32BE(this._stateLo[c],e,8*c+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.stateHi),i.wipe(e.stateLo),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=o;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,r,i,o,a,c){for(var u,f,d,h,l,p,y,b,g=r[0],v=r[1],m=r[2],w=r[3],x=r[4],A=r[5],E=r[6],M=r[7],S=i[0],_=i[1],I=i[2],k=i[3],j=i[4],O=i[5],C=i[6],R=i[7];c>=128;){for(var N=0;N<16;N++){var P=8*N+a;e[N]=n.readUint32BE(o,P),t[N]=n.readUint32BE(o,P+4)}for(N=0;N<80;N++){var B,D,T=g,U=v,L=m,q=w,z=x,$=A,F=E,V=S,H=_,K=I,J=k,W=j,G=O,Z=C;if(l=65535&(f=R),p=f>>>16,y=65535&(u=M),b=u>>>16,l+=65535&(f=(j>>>14|x<<18)^(j>>>18|x<<14)^(x>>>9|j<<23)),p+=f>>>16,y+=65535&(u=(x>>>14|j<<18)^(x>>>18|j<<14)^(j>>>9|x<<23)),b+=u>>>16,l+=65535&(f=j&O^~j&C),p+=f>>>16,y+=65535&(u=x&A^~x&E),b+=u>>>16,u=s[2*N],l+=65535&(f=s[2*N+1]),p+=f>>>16,y+=65535&u,b+=u>>>16,u=e[N%16],p+=(f=t[N%16])>>>16,y+=65535&u,b+=u>>>16,y+=(p+=(l+=65535&f)>>>16)>>>16,l=65535&(f=h=65535&l|p<<16),p=f>>>16,y=65535&(u=d=65535&y|(b+=y>>>16)<<16),b=u>>>16,l+=65535&(f=(S>>>28|g<<4)^(g>>>2|S<<30)^(g>>>7|S<<25)),p+=f>>>16,y+=65535&(u=(g>>>28|S<<4)^(S>>>2|g<<30)^(S>>>7|g<<25)),b+=u>>>16,p+=(f=S&_^S&I^_&I)>>>16,y+=65535&(u=g&v^g&m^v&m),b+=u>>>16,B=65535&(y+=(p+=(l+=65535&f)>>>16)>>>16)|(b+=y>>>16)<<16,D=65535&l|p<<16,l=65535&(f=J),p=f>>>16,y=65535&(u=q),b=u>>>16,p+=(f=h)>>>16,y+=65535&(u=d),b+=u>>>16,v=T,m=U,w=L,x=q=65535&(y+=(p+=(l+=65535&f)>>>16)>>>16)|(b+=y>>>16)<<16,A=z,E=$,M=F,g=B,_=V,I=H,k=K,j=J=65535&l|p<<16,O=W,C=G,R=Z,S=D,N%16==15)for(P=0;P<16;P++)u=e[P],l=65535&(f=t[P]),p=f>>>16,y=65535&u,b=u>>>16,u=e[(P+9)%16],l+=65535&(f=t[(P+9)%16]),p+=f>>>16,y+=65535&u,b+=u>>>16,d=e[(P+1)%16],l+=65535&(f=((h=t[(P+1)%16])>>>1|d<<31)^(h>>>8|d<<24)^(h>>>7|d<<25)),p+=f>>>16,y+=65535&(u=(d>>>1|h<<31)^(d>>>8|h<<24)^d>>>7),b+=u>>>16,d=e[(P+14)%16],p+=(f=((h=t[(P+14)%16])>>>19|d<<13)^(d>>>29|h<<3)^(h>>>6|d<<26))>>>16,y+=65535&(u=(d>>>19|h<<13)^(h>>>29|d<<3)^d>>>6),b+=u>>>16,b+=(y+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,e[P]=65535&y|b<<16,t[P]=65535&l|p<<16}l=65535&(f=S),p=f>>>16,y=65535&(u=g),b=u>>>16,u=r[0],p+=(f=i[0])>>>16,y+=65535&u,b+=u>>>16,b+=(y+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[0]=g=65535&y|b<<16,i[0]=S=65535&l|p<<16,l=65535&(f=_),p=f>>>16,y=65535&(u=v),b=u>>>16,u=r[1],p+=(f=i[1])>>>16,y+=65535&u,b+=u>>>16,b+=(y+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[1]=v=65535&y|b<<16,i[1]=_=65535&l|p<<16,l=65535&(f=I),p=f>>>16,y=65535&(u=m),b=u>>>16,u=r[2],p+=(f=i[2])>>>16,y+=65535&u,b+=u>>>16,b+=(y+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[2]=m=65535&y|b<<16,i[2]=I=65535&l|p<<16,l=65535&(f=k),p=f>>>16,y=65535&(u=w),b=u>>>16,u=r[3],p+=(f=i[3])>>>16,y+=65535&u,b+=u>>>16,b+=(y+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[3]=w=65535&y|b<<16,i[3]=k=65535&l|p<<16,l=65535&(f=j),p=f>>>16,y=65535&(u=x),b=u>>>16,u=r[4],p+=(f=i[4])>>>16,y+=65535&u,b+=u>>>16,b+=(y+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[4]=x=65535&y|b<<16,i[4]=j=65535&l|p<<16,l=65535&(f=O),p=f>>>16,y=65535&(u=A),b=u>>>16,u=r[5],p+=(f=i[5])>>>16,y+=65535&u,b+=u>>>16,b+=(y+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[5]=A=65535&y|b<<16,i[5]=O=65535&l|p<<16,l=65535&(f=C),p=f>>>16,y=65535&(u=E),b=u>>>16,u=r[6],p+=(f=i[6])>>>16,y+=65535&u,b+=u>>>16,b+=(y+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[6]=E=65535&y|b<<16,i[6]=C=65535&l|p<<16,l=65535&(f=R),p=f>>>16,y=65535&(u=M),b=u>>>16,u=r[7],p+=(f=i[7])>>>16,y+=65535&u,b+=u>>>16,b+=(y+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[7]=M=65535&y|b<<16,i[7]=R=65535&l|p<<16,a+=128,c-=128}return a}t.hash=function(e){var t=new o;t.update(e);var r=t.digest();return t.clean(),r}},9044:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7689),i=r(9044),o=r(2787),s=20;function a(e,t,r,n){if(24!==t.length)throw new Error("XChaCha20 nonce must be 24 bytes");var s=c(e,t.subarray(0,16),new Uint8Array(32)),a=new Uint8Array(12);a.set(t.subarray(16),4);var u=o.streamXOR(s,a,r,n);return i.wipe(s),u}function c(e,t,r){for(var i=1634760805,o=857760878,a=2036477234,c=1797285236,u=e[3]<<24|e[2]<<16|e[1]<<8|e[0],f=e[7]<<24|e[6]<<16|e[5]<<8|e[4],d=e[11]<<24|e[10]<<16|e[9]<<8|e[8],h=e[15]<<24|e[14]<<16|e[13]<<8|e[12],l=e[19]<<24|e[18]<<16|e[17]<<8|e[16],p=e[23]<<24|e[22]<<16|e[21]<<8|e[20],y=e[27]<<24|e[26]<<16|e[25]<<8|e[24],b=e[31]<<24|e[30]<<16|e[29]<<8|e[28],g=t[3]<<24|t[2]<<16|t[1]<<8|t[0],v=t[7]<<24|t[6]<<16|t[5]<<8|t[4],m=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],x=0;x<s;x+=2)u=(u^=l=l+(g=(g^=i=i+u|0)>>>16|g<<16)|0)>>>20|u<<12,f=(f^=p=p+(v=(v^=o=o+f|0)>>>16|v<<16)|0)>>>20|f<<12,d=(d^=y=y+(m=(m^=a=a+d|0)>>>16|m<<16)|0)>>>20|d<<12,h=(h^=b=b+(w=(w^=c=c+h|0)>>>16|w<<16)|0)>>>20|h<<12,d=(d^=y=y+(m=(m^=a=a+d|0)>>>24|m<<8)|0)>>>25|d<<7,h=(h^=b=b+(w=(w^=c=c+h|0)>>>24|w<<8)|0)>>>25|h<<7,f=(f^=p=p+(v=(v^=o=o+f|0)>>>24|v<<8)|0)>>>25|f<<7,u=(u^=l=l+(g=(g^=i=i+u|0)>>>24|g<<8)|0)>>>25|u<<7,f=(f^=y=y+(w=(w^=i=i+f|0)>>>16|w<<16)|0)>>>20|f<<12,d=(d^=b=b+(g=(g^=o=o+d|0)>>>16|g<<16)|0)>>>20|d<<12,h=(h^=l=l+(v=(v^=a=a+h|0)>>>16|v<<16)|0)>>>20|h<<12,u=(u^=p=p+(m=(m^=c=c+u|0)>>>16|m<<16)|0)>>>20|u<<12,h=(h^=l=l+(v=(v^=a=a+h|0)>>>24|v<<8)|0)>>>25|h<<7,u=(u^=p=p+(m=(m^=c=c+u|0)>>>24|m<<8)|0)>>>25|u<<7,d=(d^=b=b+(g=(g^=o=o+d|0)>>>24|g<<8)|0)>>>25|d<<7,f=(f^=y=y+(w=(w^=i=i+f|0)>>>24|w<<8)|0)>>>25|f<<7;return n.writeUint32LE(i,r,0),n.writeUint32LE(o,r,4),n.writeUint32LE(a,r,8),n.writeUint32LE(c,r,12),n.writeUint32LE(g,r,16),n.writeUint32LE(v,r,20),n.writeUint32LE(m,r,24),n.writeUint32LE(w,r,28),r}t.streamXOR=a,t.stream=function(e,t,r){return i.wipe(r),a(e,t,r,r)},t.hchacha=c},9014:(e,t,r)=>{"use strict";var n=r(826),i=r(7279),o=r(9044);t.Cv=32,t.WH=24,t.pg=16;var s=function(){function e(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,s){if(24!==e.length)throw new Error("XChaCha20Poly1305: incorrect nonce length");var a=n.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),c=new Uint8Array(12);c.set(e.subarray(16),4);var u=new i.ChaCha20Poly1305(a),f=u.seal(c,t,r,s);return o.wipe(a),o.wipe(c),u.clean(),f},e.prototype.open=function(e,t,r,s){if(24!==e.length)throw new Error("XChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var a=n.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),c=new Uint8Array(12);c.set(e.subarray(16),4);var u=new i.ChaCha20Poly1305(a),f=u.open(c,t,r,s);return o.wipe(a),o.wipe(c),u.clean(),f},e.prototype.clean=function(){return o.wipe(this._key),this},e}();t.NV=s},3685:(e,t)=>{"use strict";t.gW=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let e=0;e<32;e++){const t=r.charAt(e);n[t]=e}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i(t)^n>>5}t=i(t);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t=i(t)^31&n}return t}function s(e,t,r,n){let i=0,o=0;const s=(1<<r)-1,a=[];for(let n=0;n<e.length;++n)for(i=i<<t|e[n],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function a(e){return s(e,8,5,!0)}function c(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function f(e){let t;function s(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";const s=e.toLowerCase(),a=e.toUpperCase();if(e!==s&&e!==a)return"Mixed-case string "+e;const c=(e=s).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),f=e.slice(c+1);if(f.length<6)return"Data too short";let d=o(u);if("string"==typeof d)return d;const h=[];for(let e=0;e<f.length;++e){const t=f.charAt(e),r=n[t];if(void 0===r)return"Unknown character "+t;d=i(d)^r,e+6>=f.length||h.push(r)}return d!==t?"Invalid checksum for "+e:{prefix:u,words:h}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const r=s(e,t);if("object"==typeof r)return r},decode:function(e,t){const r=s(e,t);if("object"==typeof r)return r;throw new Error(r)},encode:function(e,n,s){if(s=s||90,e.length+7+n.length>s)throw new TypeError("Exceeds length limit");let a=o(e=e.toLowerCase());if("string"==typeof a)throw new Error(a);let c=e+"1";for(let e=0;e<n.length;++e){const t=n[e];if(t>>5!=0)throw new Error("Non 5-bit word");a=i(a)^t,c+=r.charAt(t)}for(let e=0;e<6;++e)a=i(a);a^=t;for(let e=0;e<6;++e)c+=r.charAt(a>>5*(5-e)&31);return c},toWords:a,fromWordsUnsafe:c,fromWords:u}}t.gW=f("bech32"),f("bech32m")},8891:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(4573).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(e,f,f+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,f,e.length,t),f=0;f<s;f++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var f=c>>>26,d=67108863&c,h=Math.min(u,t.length-1),l=Math.max(0,u-e.length+1);l<=h;l++){var p=u-l|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[l])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);r=0!=(o=a>>>24-i&16777215)||s!==this.length-1?f[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],l=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(l).toString(e);r=(p=p.idivn(l)).isZero()?y+r:f[u-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),f=this.clone();if(c){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,f=0|s[0],d=8191&f,h=f>>>13,l=0|s[1],p=8191&l,y=l>>>13,b=0|s[2],g=8191&b,v=b>>>13,m=0|s[3],w=8191&m,x=m>>>13,A=0|s[4],E=8191&A,M=A>>>13,S=0|s[5],_=8191&S,I=S>>>13,k=0|s[6],j=8191&k,O=k>>>13,C=0|s[7],R=8191&C,N=C>>>13,P=0|s[8],B=8191&P,D=P>>>13,T=0|s[9],U=8191&T,L=T>>>13,q=0|a[0],z=8191&q,$=q>>>13,F=0|a[1],V=8191&F,H=F>>>13,K=0|a[2],J=8191&K,W=K>>>13,G=0|a[3],Z=8191&G,X=G>>>13,Q=0|a[4],Y=8191&Q,ee=Q>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,fe=0|a[8],de=8191&fe,he=fe>>>13,le=0|a[9],pe=8191&le,ye=le>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(u+(n=Math.imul(d,z))|0)+((8191&(i=(i=Math.imul(d,$))+Math.imul(h,z)|0))<<13)|0;u=((o=Math.imul(h,$))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,$))+Math.imul(y,z)|0,o=Math.imul(y,$);var ge=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,H)|0)+Math.imul(h,V)|0))<<13)|0;u=((o=o+Math.imul(h,H)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,z),i=(i=Math.imul(g,$))+Math.imul(v,z)|0,o=Math.imul(v,$),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,H)|0;var ve=(u+(n=n+Math.imul(d,J)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(h,J)|0))<<13)|0;u=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(w,z),i=(i=Math.imul(w,$))+Math.imul(x,z)|0,o=Math.imul(x,$),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,H)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,H)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,W)|0;var me=(u+(n=n+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(h,Z)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(E,z),i=(i=Math.imul(E,$))+Math.imul(M,z)|0,o=Math.imul(M,$),n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0;var we=(u+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,$))+Math.imul(I,z)|0,o=Math.imul(I,$),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,H)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,H)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,ee)|0;var xe=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(j,z),i=(i=Math.imul(j,$))+Math.imul(O,z)|0,o=Math.imul(O,$),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,H)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Ae=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,se)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,$))+Math.imul(N,z)|0,o=Math.imul(N,$),n=n+Math.imul(j,V)|0,i=(i=i+Math.imul(j,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,X)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(v,re)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Ee=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,$))+Math.imul(D,z)|0,o=Math.imul(D,$),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul(j,J)|0,i=(i=i+Math.imul(j,W)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,X)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0;var Me=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,$))+Math.imul(L,z)|0,o=Math.imul(L,$),n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,H)|0)+Math.imul(D,V)|0,o=o+Math.imul(D,H)|0,n=n+Math.imul(R,J)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(j,Z)|0,i=(i=i+Math.imul(j,X)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,X)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,he)|0;var Se=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ye)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,ye)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,H))+Math.imul(L,V)|0,o=Math.imul(L,H),n=n+Math.imul(B,J)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(D,J)|0,o=o+Math.imul(D,W)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(j,Y)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,n=n+Math.imul(g,de)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(v,de)|0,o=o+Math.imul(v,he)|0;var _e=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(U,J),i=(i=Math.imul(U,W))+Math.imul(L,J)|0,o=Math.imul(L,W),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,X)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(j,re)|0,i=(i=i+Math.imul(j,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,n=n+Math.imul(w,de)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,he)|0;var Ie=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(v,pe)|0))<<13)|0;u=((o=o+Math.imul(v,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,X))+Math.imul(L,Z)|0,o=Math.imul(L,X),n=n+Math.imul(B,Y)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(j,oe)|0,i=(i=i+Math.imul(j,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(E,de)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(M,de)|0,o=o+Math.imul(M,he)|0;var ke=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,ee))+Math.imul(L,Y)|0,o=Math.imul(L,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(D,re)|0,o=o+Math.imul(D,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul(j,ce)|0,i=(i=i+Math.imul(j,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(_,de)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul(I,de)|0,o=o+Math.imul(I,he)|0;var je=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ye)|0)+Math.imul(M,pe)|0))<<13)|0;u=((o=o+Math.imul(M,ye)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(L,re)|0,o=Math.imul(L,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,se)|0,n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(N,ce)|0,o=o+Math.imul(N,ue)|0,n=n+Math.imul(j,de)|0,i=(i=i+Math.imul(j,he)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,he)|0;var Oe=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ye)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(U,oe),i=(i=Math.imul(U,se))+Math.imul(L,oe)|0,o=Math.imul(L,se),n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,ue)|0,n=n+Math.imul(R,de)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(N,de)|0,o=o+Math.imul(N,he)|0;var Ce=(u+(n=n+Math.imul(j,pe)|0)|0)+((8191&(i=(i=i+Math.imul(j,ye)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,ce),i=(i=Math.imul(U,ue))+Math.imul(L,ce)|0,o=Math.imul(L,ue),n=n+Math.imul(B,de)|0,i=(i=i+Math.imul(B,he)|0)+Math.imul(D,de)|0,o=o+Math.imul(D,he)|0;var Re=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(N,pe)|0))<<13)|0;u=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,de),i=(i=Math.imul(U,he))+Math.imul(L,de)|0,o=Math.imul(L,he);var Ne=(u+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ye)|0)+Math.imul(D,pe)|0))<<13)|0;u=((o=o+Math.imul(D,ye)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863;var Pe=(u+(n=Math.imul(U,pe))|0)+((8191&(i=(i=Math.imul(U,ye))+Math.imul(L,pe)|0))<<13)|0;return u=((o=Math.imul(L,ye))+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,c[0]=be,c[1]=ge,c[2]=ve,c[3]=me,c[4]=we,c[5]=xe,c[6]=Ae,c[7]=Ee,c[8]=Me,c[9]=Se,c[10]=_e,c[11]=Ie,c[12]=ke,c[13]=je,c[14]=Oe,c[15]=Ce,c[16]=Re,c[17]=Ne,c[18]=Pe,0!==u&&(c[19]=u,r.length++),r};function y(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(p=l),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?l(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var f=o-u,d=(0|e.words[f])*(0|t.words[u]),h=67108863&d;a=67108863&(h=h+a|0),i+=(s=(s=s+(d/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):y(this,e,t),r},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var d=c,h=u,l=0;l<s;l++){var p=r[f+l],y=n[f+l],b=r[f+l+s],g=n[f+l+s],v=d*b-h*g;g=d*g+h*b,b=v,r[f+l]=p+b,n[f+l]=y+g,r[f+l+s]=p-b,n[f+l+s]=y-g,l!==a&&(v=c*d-u*h,h=c*h+u*d,d=v)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),d=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,f,d,n,i);for(var l=0;l<n;l++){var p=a[l]*f[l]-c[l]*d[l];c[l]=a[l]*d[l]+c[l]*f[l],a[l]=p}return this.conjugate(a,c,n),this.transform(a,c,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),y(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var d=0|this.words[u];this.words[u]=f<<26-o|d>>>o,f=d&a}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var f=n.clone()._ishlnsubmul(i,1,c);0===f.negative&&(n=f,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,d);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);a&&(a.words[d]=h)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var f=r.clone(),d=t.clone();!t.isZero();){for(var h=0,l=1;0==(t.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(d)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;0==(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(f),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(c)):(r.isub(t),a.isub(i),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,f=1;0==(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,h=1;0==(r.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},i(m,v),m.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},m.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,v),i(x,v),i(A,v),A.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new m;else if("p224"===e)t=new w;else if("p192"===e)t=new x;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new A}return g[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var d=this.pow(f,i),h=this.pow(e,i.addn(1).iushrn(1)),l=this.pow(e,i),p=s;0!==l.cmp(a);){for(var y=l,b=0;0!==y.cmp(a);b++)y=y.redSqr();n(b<p);var g=this.pow(d,new o(1).iushln(p-b-1));h=h.redMul(g),d=g.redSqr(),l=l.redMul(d),p=b}return h},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var d=u>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new M(e)},i(M,E),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},8394:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(9362).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),c=t;c<a;c++){var u=e.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),o+=s}return o}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(e,f,f+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,f,e.length,t),f=0;f<s;f++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){f(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var f=c>>>26,d=67108863&c,h=Math.min(u,t.length-1),l=Math.max(0,u-e.length+1);l<=h;l++){var p=u-l|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[l])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?h[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=l[e],f=p[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modrn(f).toString(e);r=(d=d.idivn(f)).isZero()?y+r:h[u-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var b=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,f=0|s[0],d=8191&f,h=f>>>13,l=0|s[1],p=8191&l,y=l>>>13,b=0|s[2],g=8191&b,v=b>>>13,m=0|s[3],w=8191&m,x=m>>>13,A=0|s[4],E=8191&A,M=A>>>13,S=0|s[5],_=8191&S,I=S>>>13,k=0|s[6],j=8191&k,O=k>>>13,C=0|s[7],R=8191&C,N=C>>>13,P=0|s[8],B=8191&P,D=P>>>13,T=0|s[9],U=8191&T,L=T>>>13,q=0|a[0],z=8191&q,$=q>>>13,F=0|a[1],V=8191&F,H=F>>>13,K=0|a[2],J=8191&K,W=K>>>13,G=0|a[3],Z=8191&G,X=G>>>13,Q=0|a[4],Y=8191&Q,ee=Q>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,fe=0|a[8],de=8191&fe,he=fe>>>13,le=0|a[9],pe=8191&le,ye=le>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(u+(n=Math.imul(d,z))|0)+((8191&(i=(i=Math.imul(d,$))+Math.imul(h,z)|0))<<13)|0;u=((o=Math.imul(h,$))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,$))+Math.imul(y,z)|0,o=Math.imul(y,$);var ge=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,H)|0)+Math.imul(h,V)|0))<<13)|0;u=((o=o+Math.imul(h,H)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,z),i=(i=Math.imul(g,$))+Math.imul(v,z)|0,o=Math.imul(v,$),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,H)|0;var ve=(u+(n=n+Math.imul(d,J)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(h,J)|0))<<13)|0;u=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(w,z),i=(i=Math.imul(w,$))+Math.imul(x,z)|0,o=Math.imul(x,$),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,H)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,H)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,W)|0;var me=(u+(n=n+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(h,Z)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(E,z),i=(i=Math.imul(E,$))+Math.imul(M,z)|0,o=Math.imul(M,$),n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0;var we=(u+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,$))+Math.imul(I,z)|0,o=Math.imul(I,$),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,H)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,H)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,ee)|0;var xe=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(j,z),i=(i=Math.imul(j,$))+Math.imul(O,z)|0,o=Math.imul(O,$),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,H)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Ae=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,se)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,$))+Math.imul(N,z)|0,o=Math.imul(N,$),n=n+Math.imul(j,V)|0,i=(i=i+Math.imul(j,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,X)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(v,re)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Ee=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,$))+Math.imul(D,z)|0,o=Math.imul(D,$),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul(j,J)|0,i=(i=i+Math.imul(j,W)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,X)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0;var Me=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,$))+Math.imul(L,z)|0,o=Math.imul(L,$),n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,H)|0)+Math.imul(D,V)|0,o=o+Math.imul(D,H)|0,n=n+Math.imul(R,J)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(j,Z)|0,i=(i=i+Math.imul(j,X)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,X)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,he)|0;var Se=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ye)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,ye)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,H))+Math.imul(L,V)|0,o=Math.imul(L,H),n=n+Math.imul(B,J)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(D,J)|0,o=o+Math.imul(D,W)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(j,Y)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,n=n+Math.imul(g,de)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(v,de)|0,o=o+Math.imul(v,he)|0;var _e=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(U,J),i=(i=Math.imul(U,W))+Math.imul(L,J)|0,o=Math.imul(L,W),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,X)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(j,re)|0,i=(i=i+Math.imul(j,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,n=n+Math.imul(w,de)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,he)|0;var Ie=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(v,pe)|0))<<13)|0;u=((o=o+Math.imul(v,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,X))+Math.imul(L,Z)|0,o=Math.imul(L,X),n=n+Math.imul(B,Y)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(j,oe)|0,i=(i=i+Math.imul(j,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(E,de)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(M,de)|0,o=o+Math.imul(M,he)|0;var ke=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,ee))+Math.imul(L,Y)|0,o=Math.imul(L,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(D,re)|0,o=o+Math.imul(D,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul(j,ce)|0,i=(i=i+Math.imul(j,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(_,de)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul(I,de)|0,o=o+Math.imul(I,he)|0;var je=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ye)|0)+Math.imul(M,pe)|0))<<13)|0;u=((o=o+Math.imul(M,ye)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(L,re)|0,o=Math.imul(L,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,se)|0,n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(N,ce)|0,o=o+Math.imul(N,ue)|0,n=n+Math.imul(j,de)|0,i=(i=i+Math.imul(j,he)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,he)|0;var Oe=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ye)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(U,oe),i=(i=Math.imul(U,se))+Math.imul(L,oe)|0,o=Math.imul(L,se),n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,ue)|0,n=n+Math.imul(R,de)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(N,de)|0,o=o+Math.imul(N,he)|0;var Ce=(u+(n=n+Math.imul(j,pe)|0)|0)+((8191&(i=(i=i+Math.imul(j,ye)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,ce),i=(i=Math.imul(U,ue))+Math.imul(L,ce)|0,o=Math.imul(L,ue),n=n+Math.imul(B,de)|0,i=(i=i+Math.imul(B,he)|0)+Math.imul(D,de)|0,o=o+Math.imul(D,he)|0;var Re=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(N,pe)|0))<<13)|0;u=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,de),i=(i=Math.imul(U,he))+Math.imul(L,de)|0,o=Math.imul(L,he);var Ne=(u+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ye)|0)+Math.imul(D,pe)|0))<<13)|0;u=((o=o+Math.imul(D,ye)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863;var Pe=(u+(n=Math.imul(U,pe))|0)+((8191&(i=(i=Math.imul(U,ye))+Math.imul(L,pe)|0))<<13)|0;return u=((o=Math.imul(L,ye))+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,c[0]=be,c[1]=ge,c[2]=ve,c[3]=me,c[4]=we,c[5]=xe,c[6]=Ae,c[7]=Ee,c[8]=Me,c[9]=Se,c[10]=_e,c[11]=Ie,c[12]=ke,c[13]=je,c[14]=Oe,c[15]=Ce,c[16]=Re,c[17]=Ne,c[18]=Pe,0!==u&&(c[19]=u,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var f=o-u,d=(0|e.words[f])*(0|t.words[u]),h=67108863&d;a=67108863&(h=h+a|0),i+=(s=(s=s+(d/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(e,t,r){return g(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(b=y),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?b(this,e,t):r<63?y(this,e,t):r<1024?g(this,e,t):v(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},m.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var d=c,h=u,l=0;l<s;l++){var p=r[f+l],y=n[f+l],b=r[f+l+s],g=n[f+l+s],v=d*b-h*g;g=d*g+h*b,b=v,r[f+l]=p+b,n[f+l]=y+g,r[f+l+s]=p-b,n[f+l+s]=y-g,l!==a&&(v=c*d-u*h,h=c*h+u*d,d=v)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),d=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,f,d,n,i);for(var l=0;l<n;l++){var p=a[l]*f[l]-c[l]*d[l];c[l]=a[l]*d[l]+c[l]*f[l],a[l]=p}return this.conjugate(a,c,n),this.transform(a,c,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var d=0|this.words[u];this.words[u]=f<<26-o|d>>>o,f=d&a}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var f=n.clone()._ishlnsubmul(i,1,c);0===f.negative&&(n=f,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,d);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);a&&(a.words[d]=h)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var f=r.clone(),d=t.clone();!t.isZero();){for(var h=0,l=1;0==(t.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(d)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;0==(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(f),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(c)):(r.isub(t),a.isub(i),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,f=1;0==(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,h=1;0==(r.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new _(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function x(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function A(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},x.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},x.prototype.split=function(e,t){e.iushrn(this.n,0,t)},x.prototype.imulK=function(e){return e.imul(this.k)},i(A,x),A.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},A.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,x),i(M,x),i(S,x),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new A;else if("p224"===e)t=new E;else if("p192"===e)t=new M;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return w[e]=t,t},_.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var d=this.pow(f,i),h=this.pow(e,i.addn(1).iushrn(1)),l=this.pow(e,i),p=s;0!==l.cmp(a);){for(var y=l,b=0;0!==y.cmp(a);b++)y=y.redSqr();n(b<p);var g=this.pow(d,new o(1).iushln(p-b-1));h=h.redMul(g),d=g.redSqr(),l=l.redMul(d),p=b}return h},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var d=u>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new I(e)},i(I,_),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},1512:(e,t,r)=>{var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(6585);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},1611:e=>{"use strict";e.exports=function e(t){if("number"==typeof t&&isNaN(t))throw new Error("NaN is not allowed");if("number"==typeof t&&!isFinite(t))throw new Error("Infinity is not allowed");return null===t||"object"!=typeof t?JSON.stringify(t):t.toJSON instanceof Function?e(t.toJSON()):Array.isArray(t)?`[${t.reduce(((t,r,n)=>`${t}${0===n?"":","}${e(void 0===r||"symbol"==typeof r?null:r)}`),"")}]`:`{${Object.keys(t).sort().reduce(((r,n)=>void 0===t[n]||"symbol"==typeof t[n]?r:`${r}${0===r.length?"":","}${e(n)}:${e(t[n])}`),"")}}`}},7302:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(3065)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},3065:(e,t,r)=>{e.exports=function(e){function t(e){let r,i,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];r=o.call(n,t),e.splice(s,1),s--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(4247),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},8968:e=>{"use strict";class t{constructor(e,t){this.low=e,this.high=t,this.length=1+t-e}overlaps(e){return!(this.high<e.low||this.low>e.high)}touches(e){return!(this.high+1<e.low||this.low-1>e.high)}add(e){return new t(Math.min(this.low,e.low),Math.max(this.high,e.high))}subtract(e){return e.low<=this.low&&e.high>=this.high?[]:e.low>this.low&&e.high<this.high?[new t(this.low,e.low-1),new t(e.high+1,this.high)]:e.low<=this.low?[new t(e.high+1,this.high)]:[new t(this.low,e.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}class r{constructor(e,t){this.ranges=[],this.length=0,null!=e&&this.add(e,t)}_update_length(){this.length=this.ranges.reduce(((e,t)=>e+t.length),0)}add(e,n){var i=e=>{for(var t=0;t<this.ranges.length&&!e.touches(this.ranges[t]);)t++;for(var r=this.ranges.slice(0,t);t<this.ranges.length&&e.touches(this.ranges[t]);)e=e.add(this.ranges[t]),t++;r.push(e),this.ranges=r.concat(this.ranges.slice(t)),this._update_length()};return e instanceof r?e.ranges.forEach(i):(null==n&&(n=e),i(new t(e,n))),this}subtract(e,n){var i=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(var r=this.ranges.slice(0,t);t<this.ranges.length&&e.overlaps(this.ranges[t]);)r=r.concat(this.ranges[t].subtract(e)),t++;this.ranges=r.concat(this.ranges.slice(t)),this._update_length()};return e instanceof r?e.ranges.forEach(i):(null==n&&(n=e),i(new t(e,n))),this}intersect(e,n){var i=[],o=e=>{for(var r=0;r<this.ranges.length&&!e.overlaps(this.ranges[r]);)r++;for(;r<this.ranges.length&&e.overlaps(this.ranges[r]);){var n=Math.max(this.ranges[r].low,e.low),o=Math.min(this.ranges[r].high,e.high);i.push(new t(n,o)),r++}};return e instanceof r?e.ranges.forEach(o):(null==n&&(n=e),o(new t(e,n))),this.ranges=i,this._update_length(),this}index(e){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=e;)e-=this.ranges[t].length,t++;return this.ranges[t].low+e}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new r(this)}numbers(){return this.ranges.reduce(((e,t)=>{for(var r=t.low;r<=t.high;)e.push(r),r++;return e}),[])}subranges(){return this.ranges.map((e=>({low:e.low,high:e.high,length:1+e.high-e.low})))}}e.exports=r},4826:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getEthTypesFromInputDocEthers=t.getEthTypesFromInputDoc=void 0;var i=r(1323);function o(e,t){var r=new Map,n=new Array,s=JSON.parse((0,i.canonicalize)(e));for(var a in s){var c=s[a],u=typeof c;if("boolean"===u)n.push({name:a,type:"bool"});else if("number"===u||"bigint"===u)n.push({name:a,type:"uint256"});else if("string"===u)n.push({name:a,type:"string"});else{if("object"!==u)throw new Error("Bad Type Found in Input Document");if(Array.isArray(c)){if(0===c.length)throw new Error("Array with length 0 found");var f=typeof c[0];if("boolean"!==f&&"number"!==f&&"string"!==f)throw new Error("Array with elements of unknown type found");for(var d in c)if(typeof d!==f)throw new Error("Array with different types found");"boolean"===f?n.push({name:a,type:"bool[]"}):"number"===f?n.push({name:a,type:"number[]"}):"string"===f&&n.push({name:a,type:"string[]"})}else{var h=o(c,t),l=h.get(t),p=a.charAt(0).toUpperCase()+a.substring(1);for(var y in n.push({name:a,type:p}),r.set(p,l),h)y!==t&&r.set(y,h.get(y))}}}return r.set(t,n),r}t.getEthTypesFromInputDoc=function(e,t){void 0===t&&(t="Document");var r=o(e,t);if(!r.has("Proof"))throw new Error("No proof was found on input document");var i=Object.fromEntries(r);return n({EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"}]},i)},t.getEthTypesFromInputDocEthers=function(e,t){void 0===t&&(t="Document");var r=o(e,t);if(!r.has("Proof"))throw new Error("No proof was found on input document");return Object.fromEntries(r)}},6547:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(4826),t)},5367:(e,t,r)=>{"use strict";var n=t;n.version=r(3648).i8,n.utils=r(4630),n.rand=r(1512),n.curve=r(8542),n.curves=r(9589),n.ec=r(829),n.eddsa=r(7208)},4087:(e,t,r)=>{"use strict";var n=r(8891),i=r(4630),o=i.getNAF,s=i.getJSF,a=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,c,u=[];for(s=0;s<n.length;s+=r.step){c=0;for(var f=s+r.step-1;f>=s;f--)c=(c<<1)+n[f];u.push(c)}for(var d=this.jpoint(null,null,null),h=this.jpoint(null,null,null),l=i;l>0;l--){for(s=0;s<u.length;s++)(c=u[s])===l?h=h.mixedAdd(r.points[s]):c===-l&&(h=h.mixedAdd(r.points[s].neg()));d=d.add(h)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(t,r,this._bitLength),c=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var f=0;u>=0&&0===s[u];u--)f++;if(u>=0&&f++,c=c.dblp(f),u<0)break;var d=s[u];a(0!==d),c="affine"===e.type?d>0?c.mixedAdd(i[d-1>>1]):c.mixedAdd(i[-d-1>>1].neg()):d>0?c.add(i[d-1>>1]):c.add(i[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var a,c,u,f=this._wnafT1,d=this._wnafT2,h=this._wnafT3,l=0;for(a=0;a<n;a++){var p=(u=t[a])._getNAFPoints(e);f[a]=p.wnd,d[a]=p.points}for(a=n-1;a>=1;a-=2){var y=a-1,b=a;if(1===f[y]&&1===f[b]){var g=[t[y],null,null,t[b]];0===t[y].y.cmp(t[b].y)?(g[1]=t[y].add(t[b]),g[2]=t[y].toJ().mixedAdd(t[b].neg())):0===t[y].y.cmp(t[b].y.redNeg())?(g[1]=t[y].toJ().mixedAdd(t[b]),g[2]=t[y].add(t[b].neg())):(g[1]=t[y].toJ().mixedAdd(t[b]),g[2]=t[y].toJ().mixedAdd(t[b].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],m=s(r[y],r[b]);for(l=Math.max(m[0].length,l),h[y]=new Array(l),h[b]=new Array(l),c=0;c<l;c++){var w=0|m[0][c],x=0|m[1][c];h[y][c]=v[3*(w+1)+(x+1)],h[b][c]=0,d[y]=g}}else h[y]=o(r[y],f[y],this._bitLength),h[b]=o(r[b],f[b],this._bitLength),l=Math.max(h[y].length,l),l=Math.max(h[b].length,l)}var A=this.jpoint(null,null,null),E=this._wnafT4;for(a=l;a>=0;a--){for(var M=0;a>=0;){var S=!0;for(c=0;c<n;c++)E[c]=0|h[c][a],0!==E[c]&&(S=!1);if(!S)break;M++,a--}if(a>=0&&M++,A=A.dblp(M),a<0)break;for(c=0;c<n;c++){var _=E[c];0!==_&&(_>0?u=d[c][_-1>>1]:_<0&&(u=d[c][-_-1>>1].neg()),A="affine"===u.type?A.mixedAdd(u):A.add(u))}}for(a=0;a<n;a++)d[a]=null;return i?A:A.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},7250:(e,t,r)=>{"use strict";var n=r(4630),i=r(8891),o=r(7483),s=r(4087),a=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,o){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,s),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(u,s.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),c=i.redMul(s),u=o.redMul(a),f=i.redMul(a),d=s.redMul(o);return this.curve.point(c,u,d,f)},u.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(a)).redAdd(c);this.zOne?(e=s.redSub(a).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=s.redSub(a).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),c=r.redAdd(t),u=o.redMul(s),f=a.redMul(c),d=o.redMul(c),h=s.redMul(a);return this.curve.point(u,f,h,d)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),c=i.redSub(a),u=i.redAdd(a),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),d=n.redMul(c).redMul(f);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(d,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},8542:(e,t,r)=>{"use strict";var n=t;n.base=r(4087),n.short=r(3135),n.mont=r(7658),n.edwards=r(7250)},7658:(e,t,r)=>{"use strict";var n=r(8891),i=r(7483),o=r(4087),s=r(4630);function a(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),c=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},3135:(e,t,r)=>{"use strict";var n=r(4630),i=r(8891),o=r(7483),s=r(4087),a=n.assert;function c(e){s.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,s),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,s,a,c,u,f,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,l=this.n.clone(),p=new i(1),y=new i(0),b=new i(0),g=new i(1),v=0;0!==h.cmpn(0);){var m=l.div(h);u=l.sub(m.mul(h)),f=b.sub(m.mul(p));var w=g.sub(m.mul(y));if(!n&&u.cmp(d)<0)t=c.neg(),r=p,n=u.neg(),o=f;else if(n&&2==++v)break;c=u,l=h,h=u,b=p,p=f,g=y,y=w}s=u.neg(),a=f;var x=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(x)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=a,n[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return u},o(u,s.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,s.BasePoint),c.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),d=n.redMul(u),h=c.redSqr().redIAdd(f).redISub(d).redISub(d),l=c.redMul(d.redISub(h)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,l,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),f=r.redMul(c),d=a.redSqr().redIAdd(u).redISub(f).redISub(f),h=a.redMul(f.redISub(d)).redISub(i.redMul(u)),l=this.z.redMul(s);return this.curve.jpoint(d,h,l)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),l=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(c)),p=o.redMul(d),y=l.redSqr().redISub(p.redAdd(p)),b=p.redISub(y),g=l.redMul(b);g=g.redIAdd(g).redISub(h);var v=u.redMul(a);t+1<e&&(c=c.redMul(h)),o=y,a=v,u=g}return this.curve.jpoint(o,u.redMul(i),a)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),l=this.x.redAdd(d).redSqr().redISub(f).redISub(h);l=l.redIAdd(l);var p=f.redAdd(f).redIAdd(f),y=p.redSqr(),b=h.redIAdd(h);b=(b=b.redIAdd(b)).redIAdd(b),e=y.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),l=this.x.redSub(f).redMul(this.x.redAdd(f));l=l.redAdd(l).redIAdd(l);var p=h.redIAdd(h),y=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var b=d.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=l.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),f=a.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=a.redMul(d).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,l,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),f=t.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.x.redMul(a).redISub(f);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(d,h,l)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},9589:(e,t,r)=>{"use strict";var n,i=t,o=r(5370),s=r(8542),a=r(4630).assert;function c(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(4)}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},829:(e,t,r)=>{"use strict";var n=r(8891),i=r(3250),o=r(4630),s=r(9589),a=r(1512),c=o.assert,u=r(1828),f=r(8414);function d(e){if(!(this instanceof d))return new d(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new u(this,e)},d.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},d.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),c=e.toArray("be",s),u=new i({hash:this.hash,entropy:a,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new n(1)),h=0;;h++){var l=o.k?o.k(h):new n(u.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(d)>=0)){var p=this.g.mul(l);if(!p.isInfinity()){var y=p.getX(),b=y.umod(this.n);if(0!==b.cmpn(0)){var g=l.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==y.cmp(b)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),v^=1),new f({r:b,s:g,recoveryParam:v})}}}}}},d.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,c=s.invm(this.n),u=c.mul(e).umod(this.n),d=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),d)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(u,r.getPublic(),d)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},d.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,s=new n(e),a=t.r,u=t.s,d=1&r,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");a=h?this.curve.pointFromX(a.add(this.curve.n),d):this.curve.pointFromX(a,d);var l=t.r.invm(o),p=o.sub(s).mul(l).umod(o),y=u.mul(l).umod(o);return this.g.mulAdd(p,a,y)},d.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},1828:(e,t,r)=>{"use strict";var n=r(8891),i=r(4630).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},8414:(e,t,r)=>{"use strict";var n=r(8891),i=r(4630),o=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;var u=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var f=c(e,r);if(!1===f)return!1;if(e.length!==f+r.place)return!1;var d=e.slice(r.place,f+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(u),this.s=new n(d),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,t.length),(n=n.concat(t)).push(2),f(n,r.length);var o=n.concat(r),s=[48];return f(s,o.length),s=s.concat(o),i.encode(s,e)}},7208:(e,t,r)=>{"use strict";var n=r(5370),i=r(9589),o=r(4630),s=o.assert,a=o.parseBytes,c=r(6444),u=r(3154);function f(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},f.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},6444:(e,t,r)=>{"use strict";var n=r(4630),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},3154:(e,t,r)=>{"use strict";var n=r(8891),i=r(4630),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},4:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},4630:(e,t,r)=>{"use strict";var n=t,i=r(8891),o=r(53),s=r(3721);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,c=o.andln(i-1);o.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),s=0==(1&c)?0:3!=(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c,r[0].push(s),a=0==(1&u)?0:3!=(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},5687:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},o={key:n,value:e[n]};return r(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,s;if(Array.isArray(t)){for(s="[",r=0;r<t.length;r++)r&&(s+=","),s+=e(t[r])||"null";return s+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(s="",r=0;r<c.length;r++){var u=c[r],f=e(t[u]);f&&(s&&(s+=","),s+=JSON.stringify(u)+":"+f)}return o.splice(a,1),"{"+s+"}"}}(e)}},5370:(e,t,r)=>{var n=t;n.utils=r(8634),n.common=r(5855),n.sha=r(4745),n.ripemd=r(9333),n.hmac=r(1447),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},5855:(e,t,r)=>{"use strict";var n=r(8634),i=r(53);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},1447:(e,t,r)=>{"use strict";var n=r(8634),i=r(53);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},9333:(e,t,r)=>{"use strict";var n=r(8634),i=r(5855),o=n.rotl32,s=n.sum32,a=n.sum32_3,c=n.sum32_4,u=i.BlockHash;function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function l(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(f,u),t.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],f=this.h[4],v=r,m=n,w=i,x=u,A=f,E=0;E<80;E++){var M=s(o(c(r,d(E,n,i,u),e[p[E]+t],h(E)),b[E]),f);r=f,f=u,u=o(i,10),i=n,n=M,M=s(o(c(v,d(79-E,m,w,x),e[y[E]+t],l(E)),g[E]),A),v=A,A=x,x=o(w,10),w=m,m=M}M=a(this.h[1],i,x),this.h[1]=a(this.h[2],u,A),this.h[2]=a(this.h[3],f,v),this.h[3]=a(this.h[4],r,m),this.h[4]=a(this.h[0],n,w),this.h[0]=M},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},4745:(e,t,r)=>{"use strict";t.sha1=r(8051),t.sha224=r(8585),t.sha256=r(66),t.sha384=r(1547),t.sha512=r(729)},8051:(e,t,r)=>{"use strict";var n=r(8634),i=r(5855),o=r(4545),s=n.rotl32,a=n.sum32,c=n.sum32_5,u=o.ft_1,f=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(h,f),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],h=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),y=c(s(i,5),u(p,o,f,h),l,r[n],d[p]);l=h,h=f,f=s(o,30),o=i,i=y}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],l)},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},8585:(e,t,r)=>{"use strict";var n=r(8634),i=r(66);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},66:(e,t,r)=>{"use strict";var n=r(8634),i=r(5855),o=r(4545),s=r(53),a=n.sum32,c=n.sum32_4,u=n.sum32_5,f=o.ch32,d=o.maj32,h=o.s0_256,l=o.s1_256,p=o.g0_256,y=o.g1_256,b=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(v,b),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(y(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],b=this.h[2],g=this.h[3],v=this.h[4],m=this.h[5],w=this.h[6],x=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var A=u(x,l(v),f(v,m,w),this.k[n],r[n]),E=a(h(i),d(i,o,b));x=w,w=m,m=v,v=a(g,A),g=b,b=o,o=i,i=a(A,E)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],b),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],m),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],x)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},1547:(e,t,r)=>{"use strict";var n=r(8634),i=r(729);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},729:(e,t,r)=>{"use strict";var n=r(8634),i=r(5855),o=r(53),s=n.rotr64_hi,a=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,f=n.sum64,d=n.sum64_hi,h=n.sum64_lo,l=n.sum64_4_hi,p=n.sum64_4_lo,y=n.sum64_5_hi,b=n.sum64_5_lo,g=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function w(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function x(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function A(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function E(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function M(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function S(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function _(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function I(e,t){var r=s(e,t,1)^s(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function j(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(m,g),e.exports=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=(b=r[n-4],g=r[n-3],v=void 0,(v=s(b,g,19)^s(g,b,29)^c(b,g,6))<0&&(v+=4294967296),v),o=j(r[n-4],r[n-3]),a=r[n-14],u=r[n-13],f=I(r[n-30],r[n-29]),d=k(r[n-30],r[n-29]),h=r[n-32],y=r[n-31];r[n]=l(i,o,a,u,f,d,h,y),r[n+1]=p(i,o,a,u,f,d,h,y)}var b,g,v},m.prototype._update=function(e,t){this._prepareBlock(e,t);var r,n,i,a=this.W,c=this.h[0],u=this.h[1],l=this.h[2],p=this.h[3],g=this.h[4],v=this.h[5],m=this.h[6],I=this.h[7],k=this.h[8],j=this.h[9],O=this.h[10],C=this.h[11],R=this.h[12],N=this.h[13],P=this.h[14],B=this.h[15];o(this.k.length===a.length);for(var D=0;D<a.length;D+=2){var T=P,U=B,L=(i=void 0,(i=s(r=k,n=j,14)^s(r,n,18)^s(n,r,9))<0&&(i+=4294967296),i),q=_(k,j),z=w(k,0,O,0,R),$=x(0,j,0,C,0,N),F=this.k[D],V=this.k[D+1],H=a[D],K=a[D+1],J=y(T,U,L,q,z,$,F,V,H,K),W=b(T,U,L,q,z,$,F,V,H,K);T=M(c,u),U=S(c,u),L=A(c,0,l,0,g),q=E(0,u,0,p,0,v);var G=d(T,U,L,q),Z=h(T,U,L,q);P=R,B=N,R=O,N=C,O=k,C=j,k=d(m,I,J,W),j=h(I,I,J,W),m=g,I=v,g=l,v=p,l=c,p=u,c=d(J,W,G,Z),u=h(J,W,G,Z)}f(this.h,0,c,u),f(this.h,2,l,p),f(this.h,4,g,v),f(this.h,6,m,I),f(this.h,8,k,j),f(this.h,10,O,C),f(this.h,12,R,N),f(this.h,14,P,B)},m.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},4545:(e,t,r)=>{"use strict";var n=r(8634).rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},8634:(e,t,r)=>{"use strict";var n=r(53),i=r(7483);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=c(i.toString(16))}return r},t.zero2=a,t.zero8=c,t.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var s=new Array(o/4),a=0,c=t;a<s.length;a++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[a]=u>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,s,a){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,s,a,c,u){var f=0,d=t;return f+=(d=d+n>>>0)<t?1:0,f+=(d=d+o>>>0)<o?1:0,f+=(d=d+a>>>0)<a?1:0,e+r+i+s+c+(f+=(d=d+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,s,a,c,u){return t+n+o+a+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},3250:(e,t,r)=>{"use strict";var n=r(5370),i=r(3721),o=r(53);function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,i.encode(s,t)}},7483:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},4474:(e,t,r)=>{var n;!function(){"use strict";var i="input is invalid type",o="object"==typeof window,s=o?window:{};s.JS_SHA3_NO_WINDOW&&(o=!1);var a=!o&&"object"==typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?s=r.g:a&&(s=self);var c=!s.JS_SHA3_NO_COMMON_JS&&e.exports,u=r.amdO,f=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),h=[4,1024,262144,67108864],l=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],b=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!f||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var m=function(e,t,r){return function(n){return new P(e,t,e).update(n)[r]()}},w=function(e,t,r){return function(n,i){return new P(e,t,i).update(n)[r]()}},x=function(e,t,r){return function(t,n,i,o){return _["cshake"+e].update(t,n,i,o)[r]()}},A=function(e,t,r){return function(t,n,i,o){return _["kmac"+e].update(t,n,i,o)[r]()}},E=function(e,t,r,n){for(var i=0;i<g.length;++i){var o=g[i];e[o]=t(r,n,o)}return e},M=function(e,t){var r=m(e,t,"hex");return r.create=function(){return new P(e,t,e)},r.update=function(e){return r.create().update(e)},E(r,m,e,t)},S=[{name:"keccak",padding:[1,256,65536,16777216],bits:y,createMethod:M},{name:"sha3",padding:[6,1536,393216,100663296],bits:y,createMethod:M},{name:"shake",padding:[31,7936,2031616,520093696],bits:b,createMethod:function(e,t){var r=w(e,t,"hex");return r.create=function(r){return new P(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},E(r,w,e,t)}},{name:"cshake",padding:h,bits:b,createMethod:function(e,t){var r=v[e],n=x(e,0,"hex");return n.create=function(n,i,o){return i||o?new P(e,t,n).bytepad([i,o],r):_["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},E(n,x,e,t)}},{name:"kmac",padding:h,bits:b,createMethod:function(e,t){var r=v[e],n=A(e,0,"hex");return n.create=function(n,i,o){return new B(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},E(n,A,e,t)}}],_={},I=[],k=0;k<S.length;++k)for(var j=S[k],O=j.bits,C=0;C<O.length;++C){var R=j.name+"_"+O[C];if(I.push(R),_[R]=j.createMethod(O[C],j.padding),"sha3"!==j.name){var N=j.name+O[C];I.push(N),_[N]=_[R]}}function P(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function B(e,t,r){P.call(this,e,t,r)}P.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(i);if(null===e)throw new Error(i);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw new Error(i);t=!0}for(var n,o,s=this.blocks,a=this.byteCount,c=e.length,u=this.blockCount,d=0,h=this.s;d<c;){if(this.reset)for(this.reset=!1,s[0]=this.block,n=1;n<u+1;++n)s[n]=0;if(t)for(n=this.start;d<c&&n<a;++d)s[n>>2]|=e[d]<<l[3&n++];else for(n=this.start;d<c&&n<a;++d)(o=e.charCodeAt(d))<128?s[n>>2]|=o<<l[3&n++]:o<2048?(s[n>>2]|=(192|o>>6)<<l[3&n++],s[n>>2]|=(128|63&o)<<l[3&n++]):o<55296||o>=57344?(s[n>>2]|=(224|o>>12)<<l[3&n++],s[n>>2]|=(128|o>>6&63)<<l[3&n++],s[n>>2]|=(128|63&o)<<l[3&n++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++d)),s[n>>2]|=(240|o>>18)<<l[3&n++],s[n>>2]|=(128|o>>12&63)<<l[3&n++],s[n>>2]|=(128|o>>6&63)<<l[3&n++],s[n>>2]|=(128|63&o)<<l[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=s[u],n=0;n<u;++n)h[n]^=s[n];D(h),this.reset=!0}else this.start=n}return this},P.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},P.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(i);if(null===e)throw new Error(i);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw new Error(i);t=!0}var n=0,o=e.length;if(t)n=o;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(e),n},P.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},P.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];D(n)}},P.prototype.toString=P.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<n;){for(o=0;o<t&&s<n;++o,++s)e=r[o],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];s%t==0&&(D(r),o=0)}return i&&(e=r[o],a+=d[e>>4&15]+d[15&e],i>1&&(a+=d[e>>12&15]+d[e>>8&15]),i>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},P.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(e);s<n;){for(o=0;o<t&&s<n;++o,++s)c[s]=r[o];s%t==0&&D(r)}return i&&(c[o]=r[o],e=e.slice(0,a)),e},P.prototype.buffer=P.prototype.arrayBuffer,P.prototype.digest=P.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,c=[];a<i;){for(s=0;s<r&&a<i;++s,++a)e=a<<2,t=n[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%r==0&&D(n)}return o&&(e=a<<2,t=n[s],c[e]=255&t,o>1&&(c[e+1]=t>>8&255),o>2&&(c[e+2]=t>>16&255)),c},B.prototype=new P,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),P.prototype.finalize.call(this)};var D=function(e){var t,r,n,i,o,s,a,c,u,f,d,h,l,y,b,g,v,m,w,x,A,E,M,S,_,I,k,j,O,C,R,N,P,B,D,T,U,L,q,z,$,F,V,H,K,J,W,G,Z,X,Q,Y,ee,te,re,ne,ie,oe,se,ae,ce,ue,fe;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),r=(l=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(c<<1|u>>>31),r=o^(u<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(f<<1|d>>>31),r=a^(d<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(h<<1|l>>>31),r=u^(l<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(i<<1|o>>>31),r=d^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,y=e[0],b=e[1],J=e[11]<<4|e[10]>>>28,W=e[10]<<4|e[11]>>>28,j=e[20]<<3|e[21]>>>29,O=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,F=e[40]<<18|e[41]>>>14,V=e[41]<<18|e[40]>>>14,B=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,G=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,C=e[33]<<13|e[32]>>>19,R=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,fe=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,T=e[14]<<6|e[15]>>>26,U=e[15]<<6|e[14]>>>26,m=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,N=e[45]<<29|e[44]>>>3,P=e[44]<<29|e[45]>>>3,S=e[6]<<28|e[7]>>>4,_=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,L=e[26]<<25|e[27]>>>7,q=e[27]<<25|e[26]>>>7,x=e[36]<<21|e[37]>>>11,A=e[37]<<21|e[36]>>>11,Y=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,H=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,I=e[18]<<20|e[19]>>>12,k=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,z=e[38]<<8|e[39]>>>24,$=e[39]<<8|e[38]>>>24,E=e[48]<<14|e[49]>>>18,M=e[49]<<14|e[48]>>>18,e[0]=y^~g&m,e[1]=b^~v&w,e[10]=S^~I&j,e[11]=_^~k&O,e[20]=B^~T&L,e[21]=D^~U&q,e[30]=H^~J&G,e[31]=K^~W&Z,e[40]=te^~ne&oe,e[41]=re^~ie&se,e[2]=g^~m&x,e[3]=v^~w&A,e[12]=I^~j&C,e[13]=k^~O&R,e[22]=T^~L&z,e[23]=U^~q&$,e[32]=J^~G&X,e[33]=W^~Z&Q,e[42]=ne^~oe&ae,e[43]=ie^~se&ce,e[4]=m^~x&E,e[5]=w^~A&M,e[14]=j^~C&N,e[15]=O^~R&P,e[24]=L^~z&F,e[25]=q^~$&V,e[34]=G^~X&Y,e[35]=Z^~Q&ee,e[44]=oe^~ae&ue,e[45]=se^~ce&fe,e[6]=x^~E&y,e[7]=A^~M&b,e[16]=C^~N&S,e[17]=R^~P&_,e[26]=z^~F&B,e[27]=$^~V&D,e[36]=X^~Y&H,e[37]=Q^~ee&K,e[46]=ae^~ue&te,e[47]=ce^~fe&re,e[8]=E^~y&g,e[9]=M^~b&v,e[18]=N^~S&I,e[19]=P^~_&k,e[28]=F^~B&T,e[29]=V^~D&U,e[38]=Y^~H&J,e[39]=ee^~K&W,e[48]=ue^~te&ne,e[49]=fe^~re&ie,e[0]^=p[n],e[1]^=p[n+1]};if(c)e.exports=_;else{for(k=0;k<I.length;++k)s[I[k]]=_[I[k]];u&&(void 0===(n=function(){return _}.call(t,r,t,e))||(e.exports=n))}}()},1323:(e,t,r)=>{"use strict";function n(e){var t="";return function e(r){if(null===r||"object"!=typeof r||null!=r.toJSON)t+=JSON.stringify(r);else if(Array.isArray(r)){t+="[";var n=!1;r.forEach((function(r){n&&(t+=","),n=!0,void 0===r&&(r=null),e(r)})),t+="]"}else t+="{",Object.keys(r).filter((function(e){return void 0!==r[e]})).sort().forEach((function(n,i){return function(r,n,i){i>0&&(t+=","),t+=JSON.stringify(n),t+=":",e(r[n])}(r,n,i)})),t+="}"}(e),t}function i(e,t){var r="",n=t&&t.include,i=t&&t.exclude;return i&&"string"==typeof i&&(i=[i]),n&&n.sort(),o(e),r;function o(e,t){if(null===e||"object"!=typeof e||null!=e.toJSON)r+=JSON.stringify(e);else if(Array.isArray(e)){r+="[";var i=!1;e.forEach((function(t){i&&(r+=","),i=!0,o(t,e)})),r+="]"}else r+="{",!t&&n?n.forEach((function(t,r){e.hasOwnProperty(t)&&s(e,t,r)})):Object.keys(e).sort().forEach((function(t,r){return s(e,t,r)})),r+="}"}function s(e,t,n){if(i&&i.length)for(var s=0,a=i;s<a.length;s++)if(a[s]===t)return;n>0&&(r+=","),r+=JSON.stringify(t),r+=":",o(e[t],e)}}r.r(t),r.d(t,{canonicalize:()=>n,canonicalizeEx:()=>i})},53:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},3721:(e,t)=>{"use strict";var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},4247:e=>{var t=1e3,r=60*t,n=60*r,i=24*n;function o(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,s){s=s||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=i?o(a,c,i,"day"):c>=n?o(a,c,n,"hour"):c>=r?o(a,c,r,"minute"):c>=t?o(a,c,t,"second"):a+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7174:(e,t,r)=>{const n=r(3821),i=r(8968),o=n.types;e.exports=class e{constructor(e,t){if(this._setDefaults(e),e instanceof RegExp)this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,e=e.source;else{if("string"!=typeof e)throw new Error("Expected a regexp or string");this.ignoreCase=t&&-1!==t.indexOf("i"),this.multiline=t&&-1!==t.indexOf("m")}this.tokens=n(e)}_setDefaults(t){this.max=null!=t.max?t.max:null!=e.prototype.max?e.prototype.max:100,this.defaultRange=t.defaultRange?t.defaultRange:this.defaultRange.clone(),t.randInt&&(this.randInt=t.randInt)}gen(){return this._gen(this.tokens,[])}_gen(e,t){var r,n,i,s,a;switch(e.type){case o.ROOT:case o.GROUP:if(e.followedBy||e.notFollowedBy)return"";for(e.remember&&void 0===e.groupNumber&&(e.groupNumber=t.push(null)-1),n="",s=0,a=(r=e.options?this._randSelect(e.options):e.stack).length;s<a;s++)n+=this._gen(r[s],t);return e.remember&&(t[e.groupNumber]=n),n;case o.POSITION:return"";case o.SET:var c=this._expand(e);return c.length?String.fromCharCode(this._randSelect(c)):"";case o.REPETITION:for(i=this.randInt(e.min,e.max===1/0?e.min+this.max:e.max),n="",s=0;s<i;s++)n+=this._gen(e.value,t);return n;case o.REFERENCE:return t[e.value-1]||"";case o.CHAR:var u=this.ignoreCase&&this._randBool()?this._toOtherCase(e.value):e.value;return String.fromCharCode(u)}}_toOtherCase(e){return e+(97<=e&&e<=122?-32:65<=e&&e<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(e){return e instanceof i?e.index(this.randInt(0,e.length-1)):e[this.randInt(0,e.length-1)]}_expand(e){if(e.type===n.types.CHAR)return new i(e.value);if(e.type===n.types.RANGE)return new i(e.from,e.to);{let t=new i;for(let r=0;r<e.set.length;r++){let n=this._expand(e.set[r]);if(t.add(n),this.ignoreCase)for(let e=0;e<n.length;e++){let r=n.index(e),i=this._toOtherCase(r);r!==i&&t.add(i)}}return e.not?this.defaultRange.clone().subtract(t):this.defaultRange.clone().intersect(t)}}randInt(e,t){return e+Math.floor(Math.random()*(1+t-e))}get defaultRange(){return this._range=this._range||new i(32,126)}set defaultRange(e){this._range=e}static randexp(t,r){var n;return"string"==typeof t&&(t=new RegExp(t,r)),void 0===t._randexp?(n=new e(t,r),t._randexp=n):(n=t._randexp)._setDefaults(t),n.gen()}static sugar(){RegExp.prototype.gen=function(){return e.randexp(this)}}}},3821:(e,t,r)=>{const n=r(9484),i=r(991),o=r(3221),s=r(8943);e.exports=e=>{var t,r,a=0,c={type:i.ROOT,stack:[]},u=c,f=c.stack,d=[],h=t=>{n.error(e,"Nothing to repeat at column "+(t-1))},l=n.strToChars(e);for(t=l.length;a<t;)switch(r=l[a++]){case"\\":switch(r=l[a++]){case"b":f.push(s.wordBoundary());break;case"B":f.push(s.nonWordBoundary());break;case"w":f.push(o.words());break;case"W":f.push(o.notWords());break;case"d":f.push(o.ints());break;case"D":f.push(o.notInts());break;case"s":f.push(o.whitespace());break;case"S":f.push(o.notWhitespace());break;default:/\d/.test(r)?f.push({type:i.REFERENCE,value:parseInt(r,10)}):f.push({type:i.CHAR,value:r.charCodeAt(0)})}break;case"^":f.push(s.begin());break;case"$":f.push(s.end());break;case"[":var p;"^"===l[a]?(p=!0,a++):p=!1;var y=n.tokenizeClass(l.slice(a),e);a+=y[1],f.push({type:i.SET,set:y[0],not:p});break;case".":f.push(o.anyChar());break;case"(":var b={type:i.GROUP,stack:[],remember:!0};"?"===(r=l[a])&&(r=l[a+1],a+=2,"="===r?b.followedBy=!0:"!"===r?b.notFollowedBy=!0:":"!==r&&n.error(e,`Invalid group, character '${r}' after '?' at column `+(a-1)),b.remember=!1),f.push(b),d.push(u),u=b,f=b.stack;break;case")":0===d.length&&n.error(e,"Unmatched ) at column "+(a-1)),f=(u=d.pop()).options?u.options[u.options.length-1]:u.stack;break;case"|":u.options||(u.options=[u.stack],delete u.stack);var g=[];u.options.push(g),f=g;break;case"{":var v,m,w=/^(\d+)(,(\d+)?)?\}/.exec(l.slice(a));null!==w?(0===f.length&&h(a),v=parseInt(w[1],10),m=w[2]?w[3]?parseInt(w[3],10):1/0:v,a+=w[0].length,f.push({type:i.REPETITION,min:v,max:m,value:f.pop()})):f.push({type:i.CHAR,value:123});break;case"?":0===f.length&&h(a),f.push({type:i.REPETITION,min:0,max:1,value:f.pop()});break;case"+":0===f.length&&h(a),f.push({type:i.REPETITION,min:1,max:1/0,value:f.pop()});break;case"*":0===f.length&&h(a),f.push({type:i.REPETITION,min:0,max:1/0,value:f.pop()});break;default:f.push({type:i.CHAR,value:r.charCodeAt(0)})}return 0!==d.length&&n.error(e,"Unterminated group"),c},e.exports.types=i},8943:(e,t,r)=>{const n=r(991);t.wordBoundary=()=>({type:n.POSITION,value:"b"}),t.nonWordBoundary=()=>({type:n.POSITION,value:"B"}),t.begin=()=>({type:n.POSITION,value:"^"}),t.end=()=>({type:n.POSITION,value:"$"})},3221:(e,t,r)=>{const n=r(991),i=()=>[{type:n.RANGE,from:48,to:57}],o=()=>[{type:n.CHAR,value:95},{type:n.RANGE,from:97,to:122},{type:n.RANGE,from:65,to:90}].concat(i()),s=()=>[{type:n.CHAR,value:9},{type:n.CHAR,value:10},{type:n.CHAR,value:11},{type:n.CHAR,value:12},{type:n.CHAR,value:13},{type:n.CHAR,value:32},{type:n.CHAR,value:160},{type:n.CHAR,value:5760},{type:n.RANGE,from:8192,to:8202},{type:n.CHAR,value:8232},{type:n.CHAR,value:8233},{type:n.CHAR,value:8239},{type:n.CHAR,value:8287},{type:n.CHAR,value:12288},{type:n.CHAR,value:65279}];t.words=()=>({type:n.SET,set:o(),not:!1}),t.notWords=()=>({type:n.SET,set:o(),not:!0}),t.ints=()=>({type:n.SET,set:i(),not:!1}),t.notInts=()=>({type:n.SET,set:i(),not:!0}),t.whitespace=()=>({type:n.SET,set:s(),not:!1}),t.notWhitespace=()=>({type:n.SET,set:s(),not:!0}),t.anyChar=()=>({type:n.SET,set:[{type:n.CHAR,value:10},{type:n.CHAR,value:13},{type:n.CHAR,value:8232},{type:n.CHAR,value:8233}],not:!0})},991:e=>{e.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}},9484:(e,t,r)=>{const n=r(991),i=r(3221),o={0:0,t:9,n:10,v:11,f:12,r:13};t.strToChars=function(e){return e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g,(function(e,t,r,n,i,s,a,c){if(r)return e;var u=t?8:n?parseInt(n,16):i?parseInt(i,16):s?parseInt(s,8):a?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(a):o[c],f=String.fromCharCode(u);return/[[\]{}^$.|?*+()]/.test(f)&&(f="\\"+f),f}))},t.tokenizeClass=(e,r)=>{for(var o,s,a=[],c=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g;null!=(o=c.exec(e));)if(o[1])a.push(i.words());else if(o[2])a.push(i.ints());else if(o[3])a.push(i.whitespace());else if(o[4])a.push(i.notWords());else if(o[5])a.push(i.notInts());else if(o[6])a.push(i.notWhitespace());else if(o[7])a.push({type:n.RANGE,from:(o[8]||o[9]).charCodeAt(0),to:o[10].charCodeAt(0)});else{if(!(s=o[12]))return[a,c.lastIndex];a.push({type:n.CHAR,value:s.charCodeAt(0)})}t.error(r,"Unterminated character class")},t.error=(e,t)=>{throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)}},2794:(e,t,r)=>{e.exports=r(5261)(r(5510))},5510:(e,t,r)=>{const n=new(0,r(5367).ec)("secp256k1"),i=n.curve,o=i.n.constructor;function s(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new o(t);if(r.cmp(i.p)>=0)return null;r=r.toRed(i.red);let s=r.redSqr().redIMul(r).redIAdd(i.b).redSqrt();return 3===e!==s.isOdd()&&(s=s.redNeg()),n.keyPair({pub:{x:r,y:s}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let s=new o(t),a=new o(r);if(s.cmp(i.p)>=0||a.cmp(i.p)>=0)return null;if(s=s.toRed(i.red),a=a.toRed(i.red),(6===e||7===e)&&a.isOdd()!==(7===e))return null;const c=s.redSqr().redIMul(s);return a.redSqr().redISub(c.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:s,y:a}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function a(e,t){const r=t.encode(null,33===e.length);for(let t=0;t<e.length;++t)e[t]=r[t]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){const t=new o(e);return t.cmp(i.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new o(e),r=i.n.sub(t).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new o(t);if(r.cmp(i.n)>=0)return 1;if(r.iadd(new o(e)),r.cmp(i.n)>=0&&r.isub(i.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new o(t);if(r.cmp(i.n)>=0||r.isZero())return 1;r.imul(new o(e)),r.cmp(i.n)>=0&&(r=r.umod(i.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===s(e)?1:0,publicKeyCreate(e,t){const r=new o(t);return r.cmp(i.n)>=0||r.isZero()?1:(a(e,n.keyFromPrivate(t).getPublic()),0)},publicKeyConvert(e,t){const r=s(t);return null===r?1:(a(e,r.getPublic()),0)},publicKeyNegate(e,t){const r=s(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),a(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let e=0;e<t.length;++e)if(r[e]=s(t[e]),null===r[e])return 1;let n=r[0].getPublic();for(let e=1;e<r.length;++e)n=n.add(r[e].pub);return n.isInfinity()?2:(a(e,n),0)},publicKeyTweakAdd(e,t,r){const n=s(t);if(null===n)return 1;if((r=new o(r)).cmp(i.n)>=0)return 2;const c=n.getPublic().add(i.g.mul(r));return c.isInfinity()?2:(a(e,c),0)},publicKeyTweakMul(e,t,r){const n=s(t);return null===n?1:(r=new o(r)).cmp(i.n)>=0||r.isZero()?2:(a(e,n.getPublic().mul(r)),0)},signatureNormalize(e){const t=new o(e.subarray(0,32)),r=new o(e.subarray(32,64));return t.cmp(i.n)>=0||r.cmp(i.n)>=0?1:(1===r.cmp(n.nh)&&e.set(i.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new o(r).cmp(i.n)>=0)return 1;if(new o(n).cmp(i.n)>=0)return 1;const{output:s}=e;let a=s.subarray(4,37);a[0]=0,a.set(r,1);let c=33,u=0;for(;c>1&&0===a[u]&&!(128&a[u+1]);--c,++u);if(a=a.subarray(u),128&a[0])return 1;if(c>1&&0===a[0]&&!(128&a[1]))return 1;let f=s.subarray(39,72);f[0]=0,f.set(n,1);let d=33,h=0;for(;d>1&&0===f[h]&&!(128&f[h+1]);--d,++h);return f=f.subarray(h),128&f[0]||d>1&&0===f[0]&&!(128&f[1])?1:(e.outputlen=6+c+d,s[0]=48,s[1]=e.outputlen-2,s[2]=2,s[3]=a.length,s.set(a,4),s[4+c]=2,s[5+c]=f.length,s.set(f,6+c),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let s=t.subarray(4,4+r);if(33===s.length&&0===s[0]&&(s=s.subarray(1)),s.length>32)return 1;let a=t.subarray(6+r);if(33===a.length&&0===a[0]&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let c=new o(s);c.cmp(i.n)>=0&&(c=new o(0));let u=new o(t.subarray(6+r));return u.cmp(i.n)>=0&&(u=new o(0)),e.set(c.toArrayLike(Uint8Array,"be",32),0),e.set(u.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,s,a){if(a){const e=a;a=n=>{const i=e(t,r,null,s,n);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new o(i)}}const c=new o(r);if(c.cmp(i.n)>=0||c.isZero())return 1;let u;try{u=n.sign(t,r,{canonical:!0,k:a,pers:s})}catch(e){return 1}return e.signature.set(u.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(u.s.toArrayLike(Uint8Array,"be",32),32),e.recid=u.recoveryParam,0},ecdsaVerify(e,t,r){const a={r:e.subarray(0,32),s:e.subarray(32,64)},c=new o(a.r),u=new o(a.s);if(c.cmp(i.n)>=0||u.cmp(i.n)>=0)return 1;if(1===u.cmp(n.nh)||c.isZero()||u.isZero())return 3;const f=s(r);if(null===f)return 2;const d=f.getPublic();return n.verify(t,a,d)?0:3},ecdsaRecover(e,t,r,s){const c={r:t.slice(0,32),s:t.slice(32,64)},u=new o(c.r),f=new o(c.s);if(u.cmp(i.n)>=0||f.cmp(i.n)>=0)return 1;if(u.isZero()||f.isZero())return 2;let d;try{d=n.recoverPubKey(s,c,r)}catch(e){return 2}return a(e,d),0},ecdh(e,t,r,a,c,u,f){const d=s(t);if(null===d)return 1;const h=new o(r);if(h.cmp(i.n)>=0||h.isZero())return 2;const l=d.getPublic().mul(h);if(void 0===c){const t=l.encode(null,!0),r=n.hash().update(t).digest();for(let t=0;t<32;++t)e[t]=r[t]}else{u||(u=new Uint8Array(32));const t=l.getX().toArray("be",32);for(let e=0;e<32;++e)u[e]=t[e];f||(f=new Uint8Array(32));const r=l.getY().toArray("be",32);for(let e=0;e<32;++e)f[e]=r[e];const n=c(u,f,a);if(!(n instanceof Uint8Array&&n.length===e.length))return 2;e.set(n)}return 0}}},5261:e=>{const t="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",n="The tweak was out of range or equal to zero",i="Public Key could not be parsed",o="Public Key serialization error",s="Signature could not be parsed";function a(e,t){if(!e)throw new Error(t)}function c(e,t,r){if(a(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;a(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;a(t.length===r,n)}}function u(e){a("Boolean"===d(e),"Expected compressed to be a Boolean")}function f(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),c("output",e,t),e}function d(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){if(a(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&c("seed",t,32),1===e.contextRandomize(t))throw new Error("Unknow error on context randomization")},privateKeyVerify:t=>(c("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(r){switch(c("private key",r,32),e.privateKeyNegate(r)){case 0:return r;case 1:throw new Error(t)}},privateKeyTweakAdd(t,n){switch(c("private key",t,32),c("tweak",n,32),e.privateKeyTweakAdd(t,n)){case 0:return t;case 1:throw new Error(r)}},privateKeyTweakMul(t,r){switch(c("private key",t,32),c("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(n)}},publicKeyVerify:t=>(c("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(c("private key",t,32),u(r),n=f(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error("Private Key is invalid");case 2:throw new Error(o)}},publicKeyConvert(t,r=!0,n){switch(c("public key",t,[33,65]),u(r),n=f(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(i);case 2:throw new Error(o)}},publicKeyNegate(r,n=!0,s){switch(c("public key",r,[33,65]),u(n),s=f(s,n?33:65),e.publicKeyNegate(s,r)){case 0:return s;case 1:throw new Error(i);case 2:throw new Error(t);case 3:throw new Error(o)}},publicKeyCombine(t,r=!0,n){a(Array.isArray(t),"Expected public keys to be an Array"),a(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)c("public key",e,[33,65]);switch(u(r),n=f(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(i);case 2:throw new Error("The sum of the public keys is not valid");case 3:throw new Error(o)}},publicKeyTweakAdd(t,n,o=!0,s){switch(c("public key",t,[33,65]),c("tweak",n,32),u(o),s=f(s,o?33:65),e.publicKeyTweakAdd(s,t,n)){case 0:return s;case 1:throw new Error(i);case 2:throw new Error(r)}},publicKeyTweakMul(t,r,o=!0,s){switch(c("public key",t,[33,65]),c("tweak",r,32),u(o),s=f(s,o?33:65),e.publicKeyTweakMul(s,t,r)){case 0:return s;case 1:throw new Error(i);case 2:throw new Error(n)}},signatureNormalize(t){switch(c("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(s)}},signatureExport(r,n){c("signature",r,64);const i={output:n=f(n,72),outputlen:72};switch(e.signatureExport(i,r)){case 0:return n.slice(0,i.outputlen);case 1:throw new Error(s);case 2:throw new Error(t)}},signatureImport(r,n){switch(c("signature",r),n=f(n,64),e.signatureImport(n,r)){case 0:return n;case 1:throw new Error(s);case 2:throw new Error(t)}},ecdsaSign(r,n,i={},o){c("message",r,32),c("private key",n,32),a("Object"===d(i),"Expected options to be an Object"),void 0!==i.data&&c("options.data",i.data),void 0!==i.noncefn&&a("Function"===d(i.noncefn),"Expected options.noncefn to be a Function");const s={signature:o=f(o,64),recid:null};switch(e.ecdsaSign(s,r,n,i.data,i.noncefn)){case 0:return s;case 1:throw new Error("The nonce generation function failed, or the private key was invalid");case 2:throw new Error(t)}},ecdsaVerify(t,r,n){switch(c("signature",t,64),c("message",r,32),c("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(s);case 2:throw new Error(i)}},ecdsaRecover(r,n,i,o=!0,h){switch(c("signature",r,64),a("Number"===d(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),c("message",i,32),u(o),h=f(h,o?33:65),e.ecdsaRecover(h,r,n,i)){case 0:return h;case 1:throw new Error(s);case 2:throw new Error("Public key could not be recover");case 3:throw new Error(t)}},ecdh(t,r,n={},o){switch(c("public key",t,[33,65]),c("private key",r,32),a("Object"===d(n),"Expected options to be an Object"),void 0!==n.data&&c("options.data",n.data),void 0!==n.hashfn?(a("Function"===d(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&c("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&c("options.ybuf",n.ybuf,32),c("output",o)):o=f(o,32),e.ecdh(o,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return o;case 1:throw new Error(i);case 2:throw new Error("Scalar was invalid (zero or overflow)")}}})},1046:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6401:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},499:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9512:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5343:function(e,t){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TypeGuardError=void 0;var i=function(e){function t(t){var r=this.constructor,n=e.call(this,t.message||"Error on ".concat(t.method,"(): invalid type").concat(t.path?" on ".concat(t.path):"",", expect to be ").concat(t.expected))||this,i=r.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i,n.method=t.method,n.path=t.path,n.expected=t.expected,n.value=t.value,n}return n(t,e),t}(Error);t.TypeGuardError=i},2661:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.$HeadersReader=void 0,function(e){e.boolean=function(e){return void 0!==e?"true"===e||"false"!==e&&e:void 0},e.bigint=function(e){return void 0!==e?i(e):void 0},e.number=function(e){return void 0!==e?n(e):void 0},e.string=function(e){return e}}(r||(t.$HeadersReader=r={}));var n=function(e){var t=Number(e);return isNaN(t)?e:t},i=function(e){try{return BigInt(e)}catch(t){return e}}},2663:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.$ParameterReader=void 0,function(e){e.boolean=function(e){return"null"!==e?"true"===e||"1"===e||"false"!==e&&"0"!==e&&e:null},e.bigint=function(e){return"null"!==e?i(e):null},e.number=function(e){return"null"!==e?n(e):null},e.string=function(e){return"null"!==e?e:null}}(r||(t.$ParameterReader=r={}));var n=function(e){var t=Number(e);return isNaN(t)?e:t},i=function(e){try{return BigInt(e)}catch(t){return e}}},30:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$ProtobufReader=void 0;var r=function(){function e(e){this.buf=e,this.ptr=0,this.view=new DataView(e.buffer)}return e.prototype.index=function(){return this.ptr},e.prototype.size=function(){return this.buf.length},e.prototype.uint32=function(){return this.varint32()},e.prototype.int32=function(){return this.varint32()},e.prototype.sint32=function(){var e=this.varint32();return e>>>1^-(1&e)},e.prototype.uint64=function(){return this.varint64()},e.prototype.int64=function(){return this.varint64()},e.prototype.sint64=function(){var e=this.varint64();return e>>i^-(e&i)},e.prototype.bool=function(){return 0!==this.varint32()},e.prototype.float=function(){var e=this.view.getFloat32(this.ptr,!0);return this.ptr+=4,e},e.prototype.double=function(){var e=this.view.getFloat64(this.ptr,!0);return this.ptr+=8,e},e.prototype.bytes=function(){var e=this.uint32(),t=this.ptr;return this.ptr+=e,this.buf.subarray(t,t+e)},e.prototype.string=function(){return n.decode(this.bytes())},e.prototype.skip=function(e){if(0===e)for(;128&this.u8(););else{if(this.index()+e>this.size())throw new Error("Error on typia.protobuf.decode(): buffer overflow.");this.ptr+=e}},e.prototype.skipType=function(e){switch(e){case 0:this.skip(0);break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw new Error("Invalid wire type ".concat(e," at offset ").concat(this.ptr,"."))}},e.prototype.varint32=function(){var e,t;return t=127&(e=this.u8()),e<128||(t|=(127&(e=this.u8()))<<7,e<128||(t|=(127&(e=this.u8()))<<14,e<128||(t|=(127&(e=this.u8()))<<21,e<128||(t|=(15&(e=this.u8()))<<28,e<128||this.u8()<128||this.u8()<128||this.u8()<128||this.u8()<128||this.u8())))),t},e.prototype.varint64=function(){var e,t;return t=(e=this.u8n())&o,e<s?t:(t|=((e=this.u8n())&o)<<BigInt(7),e<s?t:(t|=((e=this.u8n())&o)<<BigInt(14),e<s?t:(t|=((e=this.u8n())&o)<<BigInt(21),e<s?t:(t|=((e=this.u8n())&o)<<BigInt(28),e<s?t:(t|=((e=this.u8n())&o)<<BigInt(35),e<s?t:(t|=((e=this.u8n())&o)<<BigInt(42),e<s?t:(t|=((e=this.u8n())&o)<<BigInt(49),e<s?t:(t|=((e=this.u8n())&o)<<BigInt(56),e<s?t:(t|=(this.u8n()&i)<<BigInt(63),BigInt.asIntN(64,t))))))))))},e.prototype.u8=function(){return this.view.getUint8(this.ptr++)},e.prototype.u8n=function(){return BigInt(this.u8())},e}();t.$ProtobufReader=r;var n=new TextDecoder,i=BigInt(1),o=BigInt(127),s=BigInt(128)},1376:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$ProtobufSizer=void 0;var n=r(2216),i=function(){function e(e){void 0===e&&(e=0),this.len=e,this.pos=[],this.varlen=[],this.varlenidx=[]}return e.prototype.bool=function(){this.len+=1},e.prototype.int32=function(e){e<0?this.len+=10:this.varint32(e)},e.prototype.sint32=function(e){this.varint32(e<<1^e>>31)},e.prototype.uint32=function(e){this.varint32(e)},e.prototype.int64=function(e){this.varint64("number"==typeof e?BigInt(e):e)},e.prototype.sint64=function(e){"number"==typeof e&&(e=BigInt(e)),this.varint64(e<<BigInt(1)^e>>BigInt(63))},e.prototype.uint64=function(e){this.varint64("number"==typeof e?BigInt(e):e)},e.prototype.float=function(e){this.len+=4},e.prototype.double=function(e){this.len+=8},e.prototype.bytes=function(e){this.uint32(e.byteLength),this.len+=e.byteLength},e.prototype.string=function(e){var t=(0,n.$strlen)(e);this.varlen.push(t),this.uint32(t),this.len+=t},e.prototype.fork=function(){this.pos.push(this.len),this.varlenidx.push(this.varlen.length),this.varlen.push(0)},e.prototype.ldelim=function(){if(!this.pos.length||!this.varlenidx.length)throw new Error("Error on typia.protobuf.encode(): missing fork() before ldelim() call.");var e=this.len,t=this.pos.pop(),r=this.varlenidx.pop(),n=e-t;this.varlen[r]=n,this.uint32(n)},e.prototype.reset=function(){this.len=0,this.pos.length=0,this.varlen.length=0,this.varlenidx.length=0},e.prototype.varint32=function(e){this.len+=e<0?10:e<128?1:e<16384?2:e<2097152?3:e<268435456?4:5},e.prototype.varint64=function(e){for(e=BigInt.asUintN(64,e);e>s;)++this.len,e>>=o;++this.len},e}();t.$ProtobufSizer=i;var o=BigInt(7),s=BigInt(127)},9831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$ProtobufWriter=void 0;var r=function(){function e(e){this.sizer=e,this.buf=new Uint8Array(e.len),this.view=new DataView(this.buf.buffer),this.ptr=0,this.varlenidx=0}return e.prototype.buffer=function(){return this.buf},e.prototype.bool=function(e){this.byte(e?1:0)},e.prototype.byte=function(e){this.buf[this.ptr++]=255&e},e.prototype.int32=function(e){e<0?this.int64(e):this.variant32(e>>>0)},e.prototype.sint32=function(e){this.variant32(e<<1^e>>31)},e.prototype.uint32=function(e){this.variant32(e)},e.prototype.sint64=function(e){e=BigInt(e),this.variant64(e<<i^e>>s)},e.prototype.int64=function(e){this.variant64(BigInt(e))},e.prototype.uint64=function(e){this.variant64(BigInt(e))},e.prototype.float=function(e){this.view.setFloat32(this.ptr,e,!0),this.ptr+=4},e.prototype.double=function(e){this.view.setFloat64(this.ptr,e,!0),this.ptr+=8},e.prototype.bytes=function(e){this.uint32(e.byteLength);for(var t=0;t<e.byteLength;t++)this.buf[this.ptr++]=e[t]},e.prototype.string=function(e){var t=this.varlen();this.uint32(t);for(var r=n.encode(e),i=0;i<r.byteLength;i++)this.buf[this.ptr++]=r[i]},e.prototype.fork=function(){this.uint32(this.varlen())},e.prototype.ldelim=function(){},e.prototype.finish=function(){return this.buf},e.prototype.reset=function(){this.buf=new Uint8Array(this.sizer.len),this.view=new DataView(this.buf.buffer),this.ptr=0,this.varlenidx=0},e.prototype.variant32=function(e){for(;e>127;)this.buf[this.ptr++]=127&e|128,e>>>=7;this.buf[this.ptr++]=e},e.prototype.variant64=function(e){for(e=BigInt.asUintN(64,e);e>a;)this.buf[this.ptr++]=Number(e&a|c),e>>=o;this.buf[this.ptr++]=Number(e)},e.prototype.varlen=function(){return this.varlenidx>=this.sizer.varlen.length?0:this.sizer.varlen[this.varlenidx++]},e}();t.$ProtobufWriter=r;var n=new TextEncoder,i=BigInt(1),o=BigInt(7),s=BigInt(63),a=BigInt(127),c=BigInt(128)},2120:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.$QueryReader=void 0,function(e){e.boolean=function(e){return null===e?void 0:"null"===e?null:0===e.length||"true"===e||"1"===e||"false"!==e&&"0"!==e&&e},e.number=function(e){return(null==e?void 0:e.length)?"null"===e?null:n(e):void 0},e.bigint=function(e){return(null==e?void 0:e.length)?"null"===e?null:i(e):void 0},e.string=function(e){return null===e?void 0:"null"===e?null:e},e.params=function(e){if("string"==typeof e){var t=e.indexOf("?");return e=-1===t?"":e.substring(t+1),new URLSearchParams(e)}return e},e.array=function(e,t){return e.length?e:t}}(r||(t.$QueryReader=r={}));var n=function(e){var t=Number(e);return isNaN(t)?e:t},i=function(e){try{return BigInt(e)}catch(t){return e}}},8763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$any=void 0;var n=r(3839);t.$any=function(e){return void 0!==e?(0,n.$clone)(e):void 0}},3839:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$clone=void 0,t.$clone=function(e){return JSON.parse(JSON.stringify(e))}},2410:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$every=void 0,t.$every=function(e,t){for(var r=null,n=0;n<e.length;++n)if(null!==(r=t(e[n],n)))return r;return null}},6323:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$guard=void 0;var n=r(5343);t.$guard=function(e){return function(t,r){if(!0===t)throw new n.TypeGuardError({method:e,path:r.path,expected:r.expected,value:r.value});return!1}}},3987:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$is_between=void 0,t.$is_between=function(e,t,r){return t<=e&&e<=r}},9778:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$join=void 0,t.$join=function(e){return r(e)?".".concat(e):"[".concat(JSON.stringify(e),"]")};var r=function(e){return!1===n(e)&&/^[a-zA-Z_$][a-zA-Z_$0-9]*$/g.test(e)},n=function(e){return i.has(e)},i=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with"])},4490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$number=void 0;var n=r(5343);t.$number=function(e){if(!1===isFinite(e))throw new n.TypeGuardError({method:"typia.json.stringify",expected:"number",value:e,message:"Error on typia.json.stringify(): infinite or not a number."});return e}},2153:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$report=void 0,t.$report=function(e){return function(t,r){return t&&function(t){if(0===e.length)return!0;var r=e[e.length-1].path;return t.length>r.length||r.substring(0,t.length)!==t}(r.path)&&e.push(r),!1}}},2878:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$rest=void 0,t.$rest=function(e){return 2===e.length?"":","+e.substring(1,e.length-1)}},528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$string=void 0,t.$string=function(e){if(!1===r.test(e))return'"'.concat(e,'"');var t=e.length;if(t>41)return JSON.stringify(e);for(var n="",i=-1,o=255,s=0;s<t;++s){if((o=e.charCodeAt(s))<32)return JSON.stringify(e);if(o>=55296&&o<=57343)return JSON.stringify(e);34!==o&&92!==o||(-1===i&&(i=0),n+=e.slice(i,s)+"\\",i=s)}return-1===i&&'"'+e+'"'||'"'+n+e.slice(i)+'"'};var r=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/},2216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$strlen=void 0,t.$strlen=function(e){var t,r,n;for(t=r=0;n=e.charCodeAt(r++);t+=n>>11?3:n>>7?2:1);return t}},1339:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$tail=void 0,t.$tail=function(e){return","===e[e.length-1]?e.substring(0,e.length-1):e}},8843:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=void 0;var i,o=r(4471),s=r(5343),a=r(2661),c=r(2663),u=r(30),f=r(1376),d=r(9831),h=r(2120),l=r(8763),p=r(2410),y=r(6323),b=r(3987),g=r(9778),v=r(4490),m=r(2153),w=r(2878),x=r(528),A=r(2216),E=r(1339);!function(e){var t,r,i;e.is=function(){return{is_between:b.$is_between}},e.assert=function(t){return n(n({},e.is()),{join:g.$join,every:p.$every,guard:(0,y.$guard)("typia.".concat(t)),predicate:function(e,r,i){if(!1===e&&!0===r)throw new s.TypeGuardError(n(n({},i()),{method:"typia.".concat(t)}));return e}})},e.validate=function(){return n(n({},e.is()),{join:g.$join,report:m.$report,predicate:function(e){return function(t,r,n){return!1===t&&!0===r&&function(){e.success&&(e.success=!1);var t=e.errors,r=n();if(t.length){var i=t[t.length-1].path;if(i.length>=r.path.length&&i.substring(0,r.path.length)===r.path)return}t.push(r)}(),t}}})},(e.json||(e.json={})).stringify=function(t){return n(n({},e.is()),{number:v.$number,string:x.$string,tail:E.$tail,rest:w.$rest,throws:M("json.".concat(t))})},(i=e.protobuf||(e.protobuf={})).decode=function(e){return{Reader:u.$ProtobufReader,throws:M("protobuf.".concat(e))}},i.encode=function(e){return{Sizer:f.$ProtobufSizer,Writer:d.$ProtobufWriter,strlen:A.$strlen,throws:M(e)}},(r=e.http||(e.http={})).query=function(){return h.$QueryReader},r.headers=function(){return a.$HeadersReader},r.parameter=function(){return c.$ParameterReader},(t=e.misc||(e.misc={})).clone=function(t){return n(n({},e.is()),{throws:M("misc.".concat(t)),any:l.$any})},t.prune=function(t){return n(n({},e.is()),{throws:M("misc.".concat(t))})},e.random=function(){return{generator:o.RandomGenerator,pick:o.RandomGenerator.pick}};var M=function(e){return function(t){throw new s.TypeGuardError(n(n({},t),{method:"typia.".concat(e)}))}}}(i||(t.Namespace=i={}))},6045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createParameter=t.createValidateHeaders=t.createIsHeaders=t.createAssertHeaders=t.createHeaders=t.createValidateQuery=t.createIsQuery=t.createAssertQuery=t.createQuery=t.parameter=t.validateHeaders=t.isHeaders=t.assertHeaders=t.headers=t.validateQuery=t.isQuery=t.assertQuery=t.query=void 0;var n=r(8843);function i(){A("query")}function o(){A("assertQuery")}function s(){A("isQuery")}function a(){A("validateQuery")}function c(){A("headers")}function u(){A("assertHeaders")}function f(){A("isHeaders")}function d(){A("validateHeaders")}function h(){A("parameter")}function l(){A("createQuery")}function p(){A("createAssertQuery")}function y(){A("createIsQuery")}function b(){A("createValidateQuery")}function g(){A("createHeaders")}function v(){A("createAssertHeaders")}function m(){A("createIsHeaders")}function w(){A("createValidateHeaders")}function x(){A("createParameter")}function A(e){throw new Error("Error on typia.http.".concat(e,"(): no transform has been configured. Read and follow https://typia.misc.io/docs/setup please."))}t.query=i,Object.assign(i,n.Namespace.http.query()),t.assertQuery=o,Object.assign(o,n.Namespace.http.query()),Object.assign(o,n.Namespace.assert("http.assertQuery")),t.isQuery=s,Object.assign(s,n.Namespace.http.query()),Object.assign(s,n.Namespace.is()),t.validateQuery=a,Object.assign(a,n.Namespace.http.query()),Object.assign(a,n.Namespace.validate()),t.headers=c,Object.assign(c,n.Namespace.http.headers()),t.assertHeaders=u,Object.assign(u,n.Namespace.http.headers()),Object.assign(u,n.Namespace.assert("http.assertHeaders")),t.isHeaders=f,Object.assign(f,n.Namespace.http.headers()),Object.assign(f,n.Namespace.is()),t.validateHeaders=d,Object.assign(d,n.Namespace.http.headers()),Object.assign(d,n.Namespace.validate()),t.parameter=h,Object.assign(h,n.Namespace.http.parameter()),Object.assign(h,n.Namespace.assert("http.parameter")),t.createQuery=l,Object.assign(l,n.Namespace.http.query()),t.createAssertQuery=p,Object.assign(p,n.Namespace.http.query()),Object.assign(p,n.Namespace.assert("http.createAssertQuery")),t.createIsQuery=y,Object.assign(y,n.Namespace.http.query()),Object.assign(y,n.Namespace.is()),t.createValidateQuery=b,Object.assign(b,n.Namespace.http.query()),Object.assign(b,n.Namespace.validate()),t.createHeaders=g,Object.assign(g,n.Namespace.http.headers()),t.createAssertHeaders=v,Object.assign(v,n.Namespace.http.headers()),Object.assign(v,n.Namespace.assert("http.createAssertHeaders")),t.createIsHeaders=m,Object.assign(m,n.Namespace.http.headers()),Object.assign(m,n.Namespace.is()),t.createValidateHeaders=w,Object.assign(w,n.Namespace.http.headers()),Object.assign(w,n.Namespace.validate()),t.createParameter=x,Object.assign(x,n.Namespace.http.parameter()),Object.assign(x,n.Namespace.assert("http.createParameter"))},5108:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(2646));t.default=a,s(r(2646),t)},3703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createValidateStringify=t.createIsStringify=t.createAssertStringify=t.createStringify=t.createValidateParse=t.createAssertParse=t.createIsParse=t.validateStringify=t.isStringify=t.assertStringify=t.stringify=t.validateParse=t.isParse=t.assertParse=t.application=void 0;var n=r(8843);function i(){v("assertParse")}function o(){v("isParse")}function s(){v("validateParse")}function a(){v("stringify")}function c(){v("assertStringify")}function u(){v("isStringify")}function f(){v("validateStringify")}function d(){v("createIsParse")}function h(){v("createAssertParse")}function l(){v("createValidateParse")}function p(){v("createStringify")}function y(){v("createAssertStringify")}function b(){v("createIsStringify")}function g(){v("createValidateStringify")}function v(e){throw new Error("Error on typia.json.".concat(e,"(): no transform has been configured. Read and follow https://typia.json.io/docs/setup please."))}t.application=function(){v("application")},t.assertParse=i,Object.assign(i,n.Namespace.assert("json.assertParse")),t.isParse=o,Object.assign(o,n.Namespace.is()),t.validateParse=s,Object.assign(s,n.Namespace.validate()),t.stringify=a,Object.assign(a,n.Namespace.json.stringify("stringify")),t.assertStringify=c,Object.assign(c,n.Namespace.assert("json.assertStringify")),Object.assign(c,n.Namespace.json.stringify("assertStringify")),t.isStringify=u,Object.assign(u,n.Namespace.is()),Object.assign(u,n.Namespace.json.stringify("isStringify")),t.validateStringify=f,Object.assign(f,n.Namespace.validate()),Object.assign(f,n.Namespace.json.stringify("validateStringify")),t.createIsParse=d,Object.assign(d,o),t.createAssertParse=h,Object.assign(h,i),t.createValidateParse=l,Object.assign(l,s),t.createStringify=p,Object.assign(p,a),t.createAssertStringify=y,Object.assign(y,c),t.createIsStringify=b,Object.assign(b,u),t.createValidateStringify=g,Object.assign(g,f)},7230:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createValidatePrune=t.createIsPrune=t.createAssertPrune=t.createPrune=t.createValidateClone=t.createIsClone=t.createAssertClone=t.createClone=t.validatePrune=t.isPrune=t.assertPrune=t.prune=t.validateClone=t.isClone=t.assertClone=t.clone=t.literals=void 0;var n=r(8843);function i(){w("clone")}function o(){w("assertClone")}function s(){w("isClone")}function a(){w("validateClone")}function c(){w("prune")}function u(){w("assertPrune")}function f(){w("isPrune")}function d(){w("validatePrune")}function h(){w("createClone")}function l(){w("createAssertClone")}function p(){w("createIsClone")}function y(){w("createValidateClone")}function b(){w("createPrune")}function g(){w("createAssertPrune")}function v(){w("createIsPrune")}function m(){w("createValidatePrune")}function w(e){throw new Error("Error on typia.misc.".concat(e,"(): no transform has been configured. Read and follow https://typia.misc.io/docs/setup please."))}t.literals=function(){w("literals")},t.clone=i,Object.assign(i,n.Namespace.misc.clone("clone")),t.assertClone=o,Object.assign(o,n.Namespace.assert("misc.assertClone")),Object.assign(o,n.Namespace.misc.clone("assertClone")),t.isClone=s,Object.assign(s,n.Namespace.is()),Object.assign(s,n.Namespace.misc.clone("isClone")),t.validateClone=a,Object.assign(a,n.Namespace.validate()),Object.assign(a,n.Namespace.misc.clone("validateClone")),t.prune=c,Object.assign(c,n.Namespace.misc.prune("prune")),t.assertPrune=u,Object.assign(u,n.Namespace.assert("misc.assertPrune")),Object.assign(u,n.Namespace.misc.prune("assertPrune")),t.isPrune=f,Object.assign(f,n.Namespace.is()),Object.assign(f,n.Namespace.misc.prune("isPrune")),t.validatePrune=d,Object.assign(d,n.Namespace.misc.prune("validatePrune")),Object.assign(d,n.Namespace.validate()),t.createClone=h,Object.assign(h,i),t.createAssertClone=l,Object.assign(l,o),t.createIsClone=p,Object.assign(p,s),t.createValidateClone=y,Object.assign(y,a),t.createPrune=b,Object.assign(b,c),t.createAssertPrune=g,Object.assign(g,u),t.createIsPrune=v,Object.assign(v,f),t.createValidatePrune=m,Object.assign(m,d)},2646:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.createRandom=t.createValidateEquals=t.createEquals=t.createAssertEquals=t.createValidate=t.createIs=t.createAssert=t.metadata=t.random=t.validateEquals=t.equals=t.assertEquals=t.validate=t.is=t.assert=t.tags=t.protobuf=t.misc=t.json=t.http=void 0;var a=r(8843);function c(){A("assert")}function u(){A("is")}function f(){A("validate")}function d(){A("assertEquals")}function h(){A("equals")}function l(){A("validateEquals")}function p(){A("random")}function y(){A("createAssert")}function b(){A("createIs")}function g(){A("createValidate")}function v(){A("createAssertEquals")}function m(){A("createEquals")}function w(){A("createValidateEquals")}function x(){A("createRandom")}function A(e){throw new Error("Error on typia.".concat(e,"(): no transform has been configured. Read and follow https://typia.io/docs/setup please."))}t.http=o(r(6045)),t.json=o(r(3703)),t.misc=o(r(7230)),t.protobuf=o(r(7233)),t.tags=o(r(9929)),s(r(847),t),s(r(1637),t),s(r(1827),t),s(r(1046),t),s(r(6401),t),s(r(499),t),s(r(9512),t),s(r(5343),t),t.assert=c,Object.assign(c,a.Namespace.assert("assert")),t.is=u,Object.assign(u,a.Namespace.assert("is")),t.validate=f,Object.assign(f,a.Namespace.validate()),t.assertEquals=d,Object.assign(d,a.Namespace.assert("assertEquals")),t.equals=h,Object.assign(h,a.Namespace.is()),t.validateEquals=l,Object.assign(l,a.Namespace.validate()),t.random=p,Object.assign(p,a.Namespace.random()),t.metadata=function(){A("metadata")},t.createAssert=y,Object.assign(y,c),t.createIs=b,Object.assign(b,u),t.createValidate=g,Object.assign(g,f),t.createAssertEquals=v,Object.assign(v,d),t.createEquals=m,Object.assign(m,h),t.createValidateEquals=w,Object.assign(w,l),t.createRandom=x,Object.assign(x,p)},7233:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createValidateEncode=t.createAssertEncode=t.createIsEncode=t.createEncode=t.createValidateDecode=t.createAssertDecode=t.createIsDecode=t.createDecode=t.validateEncode=t.isEncode=t.assertEncode=t.encode=t.validateDecode=t.isDecode=t.assertDecode=t.decode=t.message=void 0;var n=r(8843);function i(){w("decode")}function o(){w("assertDecode")}function s(){w("isDecode")}function a(){w("validateDecode")}function c(){w("encode")}function u(){w("assertEncode")}function f(){w("isEncode")}function d(){w("validateEncode")}function h(){w("createDecode")}function l(){w("createIsDecode")}function p(){w("createAssertDecode")}function y(){w("createValidateDecode")}function b(){w("createEncode")}function g(){w("createIsEncode")}function v(){w("createAssertEncode")}function m(){w("createValidateEncode")}function w(e){throw new Error("Error on typia.protobuf.".concat(e,"(): no transform has been configured. Read and follow https://typia.io/docs/setup please."))}t.message=function(){w("message")},t.decode=i,Object.assign(i,n.Namespace.protobuf.decode("decode")),t.assertDecode=o,Object.assign(o,n.Namespace.assert("protobuf.assertDecode")),Object.assign(o,n.Namespace.protobuf.decode("assertDecode")),t.isDecode=s,Object.assign(s,n.Namespace.is()),Object.assign(s,n.Namespace.protobuf.decode("isDecode")),t.validateDecode=a,Object.assign(a,n.Namespace.validate()),Object.assign(a,n.Namespace.protobuf.decode("validateDecode")),t.encode=c,Object.assign(c,n.Namespace.protobuf.encode("encode")),t.assertEncode=u,Object.assign(u,n.Namespace.assert("protobuf.assertEncode")),Object.assign(u,n.Namespace.protobuf.encode("assertEncode")),t.isEncode=f,Object.assign(f,n.Namespace.is()),Object.assign(f,n.Namespace.protobuf.encode("isEncode")),t.validateEncode=d,Object.assign(d,n.Namespace.validate()),Object.assign(d,n.Namespace.protobuf.encode("validateEncode")),t.createDecode=h,Object.assign(h,n.Namespace.protobuf.decode("createDecode")),t.createIsDecode=l,Object.assign(l,n.Namespace.is()),Object.assign(l,n.Namespace.protobuf.decode("createIsDecode")),t.createAssertDecode=p,Object.assign(p,n.Namespace.assert("protobuf.createAssertDecode")),Object.assign(p,n.Namespace.protobuf.decode("createAssertDecode")),t.createValidateDecode=y,Object.assign(y,n.Namespace.validate()),Object.assign(y,n.Namespace.protobuf.decode("createValidateDecode")),t.createEncode=b,Object.assign(b,n.Namespace.protobuf.encode("createEncode")),t.createIsEncode=g,Object.assign(g,n.Namespace.is()),Object.assign(g,n.Namespace.protobuf.encode("createIsEncode")),t.createAssertEncode=v,Object.assign(v,n.Namespace.assert("protobuf.createAssertEncode")),Object.assign(v,n.Namespace.protobuf.encode("createAssertEncode")),t.createValidateEncode=m,Object.assign(m,n.Namespace.validate()),Object.assign(m,n.Namespace.protobuf.encode("createValidateEncode"))},847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1637:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1827:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3164:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8243:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1589:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7781:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},635:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8695:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1188:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2111:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9929:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3164),t),i(r(8243),t),i(r(1589),t),i(r(7781),t),i(r(6039),t),i(r(635),t),i(r(5941),t),i(r(6831),t),i(r(606),t),i(r(9216),t),i(r(3036),t),i(r(8695),t),i(r(1188),t),i(r(2111),t)},4471:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RandomGenerator=void 0;var i,o=n(r(7174));!function(e){e.boolean=function(){return Math.random()<.5},e.integer=function(e,t){return null!=e||(e=0),null!=t||(t=100),Math.floor(Math.random()*(t-e+1))+e},e.bigint=function(t,r){return null!=t||(t=BigInt(0)),null!=r||(r=BigInt(100)),BigInt(e.integer(Number(t),Number(r)))},e.number=function(e,t){return null!=e||(e=0),null!=t||(t=100),Math.random()*(t-e)+e},e.string=function(t){return new Array(null!=t?t:e.integer(5,10)).fill(0).map((function(){return"abcdefghijklmnopqrstuvwxyz"[e.integer(0,25)]})).join("")},e.array=function(t,r){return new Array(null!=r?r:e.length()).fill(0).map((function(e,r){return t(r)}))},e.pick=function(t){return t[e.integer(0,t.length-1)]},e.length=function(){return e.integer(0,3)},e.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e.email=function(){return"".concat(e.string(10),"@").concat(e.string(10),".").concat(e.string(3))},e.url=function(){return"https://".concat(e.string(10),".").concat(e.string(3))},e.ipv4=function(){return e.array((function(){return e.integer(0,255)}),4).join(".")},e.ipv6=function(){return e.array((function(){return e.integer(0,65535).toString(16)}),8).join(":")},e.pattern=function(e){return new o.default(e).gen()},e.date=function(t,r){return null!=t||(t=0),null!=r||(r=2*Date.now()),new Date(e.number(t,r)).toISOString().substring(0,10)},e.datetime=function(t,r){return null!=t||(t=Date.now()-30*s),null!=r||(r=Date.now()+7*s),new Date(e.number(t,r)).toISOString()}}(i||(t.RandomGenerator=i={}));var s=864e5},9821:e=>{"use strict";e.exports=function(e,t){for(let r=0;r<e.byteLength;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}},6713:e=>{"use strict";e.exports=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}},3002:e=>{"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}},9528:(e,t,r)=>{"use strict";const n=r(252);e.exports=function(e,t="utf8"){const r=n[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)}},1605:(e,t,r)=>{"use strict";const n=r(9821),i=r(6713),o=r(3002),s=r(9528),a=r(8270),c=r(3030);e.exports={compare:n,concat:i,equals:o,fromString:s,toString:a,xor:c}},8270:(e,t,r)=>{"use strict";const n=r(252);e.exports=function(e,t="utf8"){const r=n[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)}},252:(e,t,r)=>{"use strict";const{bases:n}=r(2997);function i(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=i("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),s=i("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),a={utf8:o,"utf-8":o,hex:n.base16,latin1:s,ascii:s,binary:s,...n};e.exports=a},3030:e=>{"use strict";e.exports=function(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}},1877:e=>{e.exports=function e(n,i){var o,s=0,a=0,c=i=i||0,u=n.length;do{if(c>=u||a>49)throw e.bytes=0,new RangeError("Could not decode varint");o=n[c++],s+=a<28?(o&r)<<a:(o&r)*Math.pow(2,a),a+=7}while(o>=t);return e.bytes=c-i,s};var t=128,r=127},3042:e=>{e.exports=function e(i,o,s){if(Number.MAX_SAFE_INTEGER&&i>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");o=o||[];for(var a=s=s||0;i>=n;)o[s++]=255&i|t,i/=128;for(;i&r;)o[s++]=255&i|t,i>>>=7;return o[s]=0|i,e.bytes=s-a+1,o};var t=128,r=-128,n=Math.pow(2,31)},233:(e,t,r)=>{e.exports={encode:r(3042),decode:r(1877),encodingLength:r(2057)}},2057:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),n=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<o?5:e<s?6:e<a?7:e<c?8:e<u?9:10}},3804:()=>{},4573:()=>{},9362:()=>{},6585:()=>{},2884:(e,t,r)=>{"use strict";r.d(t,{kU:()=>f,Dp:()=>u,ET:()=>d});var n=r(4537);class i{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class o{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return a(this,e)}}class s{constructor(e){this.decoders=e}or(e){return a(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const a=(e,t)=>new s({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class c{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new i(e,t,r),this.decoder=new o(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const u=({name:e,prefix:t,encode:r,decode:n})=>new c(e,t,r,n),f=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:o}=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var d=0,h=o-1;(0!==f||d<i)&&-1!==h;h--,d++)f+=a*s[h]>>>0,s[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var l=o-i;l!==o&&0===s[l];)l++;for(var p=new Uint8Array(n+(o-l)),y=n;l!==o;)p[y++]=s[l++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,u=new Uint8Array(s);i!==o;){for(var d=t[i],h=0,l=s-1;(0!==d||h<n)&&-1!==l;l--,h++)d+=256*u[l]>>>0,u[l]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var y=c.repeat(r);p<s;++p)y+=e.charAt(u[p]);return y},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw new Error(`Non-${t} character`)}}}(r,t);return u({prefix:e,name:t,encode:i,decode:e=>(0,n.coerce)(o(e))})},d=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>u({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let t=0;t<o;++t){const o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)})},1378:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base32:()=>i,base32hex:()=>c,base32hexpad:()=>f,base32hexpadupper:()=>d,base32hexupper:()=>u,base32pad:()=>s,base32padupper:()=>a,base32upper:()=>o,base32z:()=>h});var n=r(2884);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),f=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),d=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),h=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},9382:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base58btc:()=>i,base58flickr:()=>o});var n=r(2884);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),o=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},5669:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base64:()=>i,base64pad:()=>o,base64url:()=>s,base64urlpad:()=>a});var n=r(2884);const i=(0,n.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),o=(0,n.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s=(0,n.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,n.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},2997:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CID:()=>Z.k,bases:()=>Q,bytes:()=>b,codecs:()=>ee,digest:()=>R,hasher:()=>f,hashes:()=>Y,varint:()=>X});var n={};r.r(n),r.d(n,{identity:()=>g});var i={};r.r(i),r.d(i,{base2:()=>v});var o={};r.r(o),r.d(o,{base8:()=>m});var s={};r.r(s),r.d(s,{base10:()=>w});var a={};r.r(a),r.d(a,{base16:()=>x,base16upper:()=>A});var c={};r.r(c),r.d(c,{base36:()=>M,base36upper:()=>S});var u={};r.r(u),r.d(u,{base256emoji:()=>C});var f={};r.r(f),r.d(f,{Hasher:()=>P,from:()=>N});var d={};r.r(d),r.d(d,{sha256:()=>D,sha512:()=>T});var h={};r.r(h),r.d(h,{identity:()=>L});var l={};r.r(l),r.d(l,{code:()=>z,decode:()=>F,encode:()=>$,name:()=>q});var p={};r.r(p),r.d(p,{code:()=>J,decode:()=>G,encode:()=>W,name:()=>K});var y=r(2884),b=r(4537);const g=(0,y.Dp)({prefix:"\0",name:"identity",encode:e=>(0,b.toString)(e),decode:e=>(0,b.fromString)(e)}),v=(0,y.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),m=(0,y.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),w=(0,y.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),x=(0,y.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),A=(0,y.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var E=r(1378);const M=(0,y.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),S=(0,y.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var _=r(9382),I=r(5669);const k=Array.from(""),j=k.reduce(((e,t,r)=>(e[r]=t,e)),[]),O=k.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]),C=(0,y.Dp)({prefix:"",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+j[t]),"")},decode:function(e){const t=[];for(const r of e){const e=O[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var R=r(5860);const N=({name:e,code:t,encode:r})=>new P(e,t,r);class P{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?R.create(this.code,t):t.then((e=>R.create(this.code,e)))}throw Error("Unknown type, must be binary type")}}const B=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),D=N({name:"sha2-256",code:18,encode:B("SHA-256")}),T=N({name:"sha2-512",code:19,encode:B("SHA-512")}),U=b.coerce,L={code:0,name:"identity",encode:U,digest:e=>R.create(0,U(e))},q="raw",z=85,$=e=>(0,b.coerce)(e),F=e=>(0,b.coerce)(e),V=new TextEncoder,H=new TextDecoder,K="json",J=512,W=e=>V.encode(JSON.stringify(e)),G=e=>JSON.parse(H.decode(e));var Z=r(3889),X=r(447);const Q={...n,...i,...o,...s,...a,...E,...c,..._,...I,...u},Y={...d,...h},ee={raw:l,json:p}},4537:(e,t,r)=>{"use strict";r.r(t),r.d(t,{coerce:()=>a,empty:()=>n,equals:()=>s,fromHex:()=>o,fromString:()=>u,isBinary:()=>c,toHex:()=>i,toString:()=>f});const n=new Uint8Array(0),i=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),o=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):n},s=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},a=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},c=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),u=e=>(new TextEncoder).encode(e),f=e=>(new TextDecoder).decode(e)},3889:(e,t,r)=>{"use strict";r.d(t,{k:()=>c});var n=r(447),i=r(5860),o=r(9382),s=r(1378),a=r(4537);class c{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:g,byteLength:g,code:b,version:b,multihash:b,bytes:b,_baseCache:g,asCID:g})}toV0(){if(0===this.version)return this;{const{code:e,multihash:t}=this;if(e!==h)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==l)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return c.createV0(t)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=i.create(e,t);return c.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&i.equals(this.multihash,e.multihash)}toString(e){const{bytes:t,version:r,_baseCache:n}=this;return 0===r?f(t,n,e||o.base58btc.encoder):d(t,n,e||s.base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return v(/^0\.0/,m),!(!e||!e[y]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof c)return e;if(null!=e&&e.asCID===e){const{version:t,code:r,multihash:n,bytes:i}=e;return new c(t,r,n,i||p(t,r,n.bytes))}if(null!=e&&!0===e[y]){const{version:t,multihash:r,code:n}=e,o=i.decode(r);return c.create(t,n,o)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==h)throw new Error(`Version 0 CID must use dag-pb (code: ${h}) block encoding`);return new c(e,t,r,r.bytes);case 1:{const n=p(e,t,r.bytes);return new c(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return c.create(0,h,e)}static createV1(e,t){return c.create(1,e,t)}static decode(e){const[t,r]=c.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=c.inspectBytes(e),r=t.size-t.multihashSize,n=(0,a.coerce)(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=n.subarray(t.multihashSize-t.digestSize),s=new i.Digest(t.multihashCode,t.digestSize,o,n);return[0===t.version?c.createV0(s):c.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,i]=n.decode(e.subarray(t));return t+=i,r};let i=r(),o=h;if(18===i?(i=0,t=0):1===i&&(o=r()),0!==i&&1!==i)throw new RangeError(`Invalid CID version ${i}`);const s=t,a=r(),c=r(),u=t+c;return{version:i,codec:o,multihashCode:a,digestSize:c,multihashSize:u-s,size:u}}static parse(e,t){const[r,n]=u(e,t),i=c.decode(n);return i._baseCache.set(r,e),i}}const u=(e,t)=>{switch(e[0]){case"Q":{const r=t||o.base58btc;return[o.base58btc.prefix,r.decode(`${o.base58btc.prefix}${e}`)]}case o.base58btc.prefix:{const r=t||o.base58btc;return[o.base58btc.prefix,r.decode(e)]}case s.base32.prefix:{const r=t||s.base32;return[s.base32.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},f=(e,t,r)=>{const{prefix:n}=r;if(n!==o.base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},d=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},h=112,l=18,p=(e,t,r)=>{const i=n.encodingLength(e),o=i+n.encodingLength(t),s=new Uint8Array(o+r.byteLength);return n.encodeTo(e,s,0),n.encodeTo(t,s,i),s.set(r,o),s},y=Symbol.for("@ipld/js-cid/CID"),b={writable:!1,configurable:!1,enumerable:!0},g={writable:!1,enumerable:!1,configurable:!1},v=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},m="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"},5860:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Digest:()=>c,create:()=>o,decode:()=>s,equals:()=>a});var n=r(4537),i=r(447);const o=(e,t)=>{const r=t.byteLength,n=i.encodingLength(e),o=n+i.encodingLength(r),s=new Uint8Array(o+r);return i.encodeTo(e,s,0),i.encodeTo(r,s,n),s.set(t,o),new c(e,r,t,s)},s=e=>{const t=(0,n.coerce)(e),[r,o]=i.decode(t),[s,a]=i.decode(t.subarray(o)),u=t.subarray(o+a);if(u.byteLength!==s)throw new Error("Incorrect length");return new c(r,s,u,t)},a=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&(0,n.equals)(e.bytes,t.bytes);class c{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},447:(e,t,r)=>{"use strict";r.r(t),r.d(t,{decode:()=>v,encodeTo:()=>m,encodingLength:()=>w});var n=128,i=-128,o=Math.pow(2,31),s=128,a=127,c=Math.pow(2,7),u=Math.pow(2,14),f=Math.pow(2,21),d=Math.pow(2,28),h=Math.pow(2,35),l=Math.pow(2,42),p=Math.pow(2,49),y=Math.pow(2,56),b=Math.pow(2,63);const g={encode:function e(t,r,s){r=r||[];for(var a=s=s||0;t>=o;)r[s++]=255&t|n,t/=128;for(;t&i;)r[s++]=255&t|n,t>>>=7;return r[s]=0|t,e.bytes=s-a+1,r},decode:function e(t,r){var n,i=0,o=0,c=r=r||0,u=t.length;do{if(c>=u)throw e.bytes=0,new RangeError("Could not decode varint");n=t[c++],i+=o<28?(n&a)<<o:(n&a)*Math.pow(2,o),o+=7}while(n>=s);return e.bytes=c-r,i},encodingLength:function(e){return e<c?1:e<u?2:e<f?3:e<d?4:e<h?5:e<l?6:e<p?7:e<y?8:e<b?9:10}},v=(e,t=0)=>[g.decode(e,t),g.decode.bytes],m=(e,t,r=0)=>(g.encode(e,t,r),t),w=e=>g.encodingLength(e)},3648:e=>{"use strict";e.exports={i8:"6.5.4"}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.amdO={},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};return(()=>{"use strict";r.r(n),r.d(n,{CURRENT_STATE_VERSION:()=>Es,IJWKSupportedKeyTypes:()=>ys,KEY_LENGTHS:()=>R,MULTICODEC_CODE_TO_NAME:()=>C,MULTICODEC_NAME_TO_CODE:()=>O,Masca:()=>Ky,ResultObject:()=>j,availableCredentialStores:()=>xs,availableMethods:()=>Rs,chainIdNetworkParamsMapping:()=>sa,createJWK:()=>vs,decodePublicKey:()=>Ie,didMethodChainIdMapping:()=>Bs,enableMasca:()=>Gy,encodePublicKey:()=>_e,externalSigMethods:()=>Ms,getCompressedPublicKey:()=>Oe,getKeyUse:()=>gs,hexToUint8Array:()=>je,internalSigMethods:()=>Os,isAvailableMethods:()=>Ns,isError:()=>I,isExternalSigMethods:()=>Ss,isIn:()=>ms,isInternalSigMethods:()=>Cs,isJWT:()=>qs,isMetamaskSnapsSupported:()=>Wy,isPolygonSupportedMethods:()=>js,isSuccess:()=>k,isSupportedProofFormat:()=>Us,isValidCreateCredentialRequest:()=>Hs,isValidCreatePresentationRequest:()=>Ks,isValidDeleteCredentialsRequest:()=>Js,isValidImportStateBackupRequest:()=>ta,isValidMascaState:()=>ra,isValidQueryCredentialsRequest:()=>Ws,isValidResolveDIDRequest:()=>Gs,isValidSaveCredentialRequest:()=>Zs,isValidSetCredentialStoreRequest:()=>Qs,isValidSetCurrentAccountRequest:()=>Xs,isValidSignDataRequest:()=>na,isValidSwitchMethodRequest:()=>Ys,isValidVerifyDataRequest:()=>ea,isVeramoSupportedMethods:()=>Is,isVerifiableCredential:()=>M,isVerifiablePresentation:()=>ia,isW3CCredential:()=>_,isW3CVerifiableCredential:()=>S,isW3CVerifiablePresentation:()=>oa,isavailableCredentialStores:()=>As,methodIndexMapping:()=>Ds,polygonSupportedMethods:()=>ks,qsCustomDecoder:()=>ws,requiresNetwork:()=>Ps,supportedProofFormats:()=>Ts,uint8ArrayToHex:()=>ke,veramoSupportedMethods:()=>_s});var e={};r.r(e),r.d(e,{identity:()=>Ve});var t={};r.r(t),r.d(t,{base2:()=>He});var i={};r.r(i),r.d(i,{base8:()=>Ke});var o={};r.r(o),r.d(o,{base10:()=>Je});var s={};r.r(s),r.d(s,{base16:()=>We,base16upper:()=>Ge});var a={};r.r(a),r.d(a,{base32:()=>Ze,base32hex:()=>et,base32hexpad:()=>rt,base32hexpadupper:()=>nt,base32hexupper:()=>tt,base32pad:()=>Qe,base32padupper:()=>Ye,base32upper:()=>Xe,base32z:()=>it});var c={};r.r(c),r.d(c,{base36:()=>ot,base36upper:()=>st});var u={};r.r(u),r.d(u,{base58btc:()=>at,base58flickr:()=>ct});var f={};r.r(f),r.d(f,{base64:()=>ut,base64pad:()=>ft,base64url:()=>dt,base64urlpad:()=>ht});var d={};r.r(d),r.d(d,{base256emoji:()=>bt});var h={};r.r(h),r.d(h,{sha256:()=>qt,sha512:()=>zt});var l={};r.r(l),r.d(l,{identity:()=>Ft});var p={};r.r(p),r.d(p,{code:()=>Ht,decode:()=>Jt,encode:()=>Kt,name:()=>Vt});var y={};r.r(y),r.d(y,{code:()=>Xt,decode:()=>Yt,encode:()=>Qt,name:()=>Zt});var b={};r.r(b),r.d(b,{dQ:()=>an,ci:()=>Xr,bytesToNumberBE:()=>en,ty:()=>tn,eV:()=>sn,n$:()=>fn,ql:()=>on,hexToBytes:()=>Yr,tL:()=>rn,S5:()=>nn,FF:()=>hn});var g={};r.r(g),r.d(g,{code:()=>wf,decode:()=>Af,encode:()=>xf,name:()=>mf});var v={};r.r(v),r.d(v,{keyToDidDoc:()=>cd});var m={};r.r(m),r.d(m,{keyToDidDoc:()=>ud});var w={};r.r(w),r.d(w,{keyToDidDoc:()=>xd,pubKeyBytesToXY:()=>Ad});var x={};r.r(x),r.d(x,{keyToDidDoc:()=>Ed,pubKeyBytesToXY:()=>Md});var A={};r.r(A),r.d(A,{keyToDidDoc:()=>Sd,pubKeyBytesToXY:()=>_d});var E={};r.r(E),r.d(E,{code:()=>fl,decode:()=>hl,encode:()=>dl,name:()=>ul});var M=e=>{const t=e=>Object.keys(e).every((t=>(void 0===e[t]||RegExp(/(.*)/).test(t),!0)));return"object"==typeof e&&null!==e&&null!==(r=e).issuer&&void 0!==r.issuer&&("string"==typeof r.issuer||"object"==typeof r.issuer&&null!==r.issuer&&(e=>"string"==typeof e.id&&Object.keys(e).every((t=>(["id"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))))(r.issuer))&&"object"==typeof r.credentialSubject&&null!==r.credentialSubject&&!1===Array.isArray(r.credentialSubject)&&(e=>(void 0===e.id||"string"==typeof e.id)&&Object.keys(e).every((t=>(["id"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))))(r.credentialSubject)&&null!==r.type&&(void 0===r.type||"string"==typeof r.type||Array.isArray(r.type)&&r.type.every((e=>"string"==typeof e)))&&null!==r["@context"]&&void 0!==r["@context"]&&("string"==typeof r["@context"]||Array.isArray(r["@context"])&&r["@context"].every((e=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&!1===Array.isArray(e)&&t(e))))||"object"==typeof r["@context"]&&null!==r["@context"]&&!1===Array.isArray(r["@context"])&&t(r["@context"]))&&"string"==typeof r.issuanceDate&&(void 0===r.expirationDate||"string"==typeof r.expirationDate)&&(void 0===r.credentialStatus||"object"==typeof r.credentialStatus&&null!==r.credentialStatus&&(e=>"string"==typeof e.id&&"string"==typeof e.type&&Object.keys(e).every((t=>(["id","type"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))))(r.credentialStatus))&&(void 0===r.id||"string"==typeof r.id)&&"object"==typeof r.proof&&null!==r.proof&&!1===Array.isArray(r.proof)&&(e=>(void 0===e.type||"string"==typeof e.type)&&Object.keys(e).every((t=>(["type"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))))(r.proof)&&Object.keys(r).every((e=>(["issuer","credentialSubject","type","@context","issuanceDate","expirationDate","credentialStatus","id","proof"].some((t=>e===t))||void 0===r[e]||RegExp(/(.*)/).test(e),!0)));var r},S=e=>{const t=e=>Object.keys(e).every((t=>(void 0===e[t]||RegExp(/(.*)/).test(t),!0)));return null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&null!==(r=e).issuer&&void 0!==r.issuer&&("string"==typeof r.issuer||"object"==typeof r.issuer&&null!==r.issuer&&(e=>"string"==typeof e.id&&Object.keys(e).every((t=>(["id"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))))(r.issuer))&&"object"==typeof r.credentialSubject&&null!==r.credentialSubject&&!1===Array.isArray(r.credentialSubject)&&(e=>(void 0===e.id||"string"==typeof e.id)&&Object.keys(e).every((t=>(["id"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))))(r.credentialSubject)&&null!==r.type&&(void 0===r.type||"string"==typeof r.type||Array.isArray(r.type)&&r.type.every((e=>"string"==typeof e)))&&null!==r["@context"]&&void 0!==r["@context"]&&("string"==typeof r["@context"]||Array.isArray(r["@context"])&&r["@context"].every((e=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&!1===Array.isArray(e)&&t(e))))||"object"==typeof r["@context"]&&null!==r["@context"]&&!1===Array.isArray(r["@context"])&&t(r["@context"]))&&"string"==typeof r.issuanceDate&&(void 0===r.expirationDate||"string"==typeof r.expirationDate)&&(void 0===r.credentialStatus||"object"==typeof r.credentialStatus&&null!==r.credentialStatus&&(e=>"string"==typeof e.id&&"string"==typeof e.type&&Object.keys(e).every((t=>(["id","type"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))))(r.credentialStatus))&&(void 0===r.id||"string"==typeof r.id)&&"object"==typeof r.proof&&null!==r.proof&&!1===Array.isArray(r.proof)&&(e=>(void 0===e.type||"string"==typeof e.type)&&Object.keys(e).every((t=>(["type"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))))(r.proof)&&Object.keys(r).every((e=>(["issuer","credentialSubject","type","@context","issuanceDate","expirationDate","credentialStatus","id","proof"].some((t=>e===t))||void 0===r[e]||RegExp(/(.*)/).test(e),!0))));var r},_=e=>{const t=e=>"string"==typeof e.id&&("SparseMerkleTreeProof"===e.type||"Iden3ReverseSparseMerkleTreeProof"===e.type||"Iden3commRevocationStatusV1.0"===e.type||"Iden3OnchainSparseMerkleTreeProof2023"===e.type)&&(void 0===e.revocationNonce||"number"==typeof e.revocationNonce)&&(void 0===e.statusIssuer||"object"==typeof e.statusIssuer&&null!==e.statusIssuer&&t(e.statusIssuer));return"object"==typeof e&&null!==e&&"string"==typeof(r=e).id&&Array.isArray(r["@context"])&&r["@context"].every((e=>"string"==typeof e))&&Array.isArray(r.type)&&r.type.every((e=>"string"==typeof e))&&(void 0===r.expirationDate||"string"==typeof r.expirationDate)&&(void 0===r.issuanceDate||"string"==typeof r.issuanceDate)&&"object"==typeof r.credentialSubject&&null!==r.credentialSubject&&!1===Array.isArray(r.credentialSubject)&&(e=>Object.keys(e).every((t=>(void 0===e[t]||RegExp(/(.*)/).test(t),!0))))(r.credentialSubject)&&"object"==typeof r.credentialStatus&&null!==r.credentialStatus&&t(r.credentialStatus)&&"string"==typeof r.issuer&&"object"==typeof r.credentialSchema&&null!==r.credentialSchema&&"string"==typeof r.credentialSchema.id&&"string"==typeof r.credentialSchema.type&&!0;var r};const I=e=>!e.success,k=e=>e.success;class j{static success(e){return{success:!0,data:e}}static error(e){return{success:!1,error:e}}}const O={"secp256k1-priv":"0x1301","secp256k1-pub":"0xe7","ed25519-priv":"0x1300","ed25519-pub":"0xed","jwk_jcs-pub":"0xeb51","x25519-priv":"0x1302","x25519-pub":"0xec","p256-priv":"0x1306","p256-pub":"0x1200"},C={"0x1301":"secp256k1-priv","0xe7":"secp256k1-pub","0x1300":"ed25519-priv","0xed":"ed25519-pub","0xeb51":"jwk_jcs-pub","0x1302":"x25519-priv","0xec":"x25519-pub","0x1306":"p256-priv","0x1200":"p256-pub"},R={"secp256k1-priv":32,"secp256k1-pub":33,"ed25519-priv":32,"ed25519-pub":32,"jwk_jcs-pub":32,"x25519-priv":32,"x25519-pub":32,"p256-priv":32,"p256-pub":65};var N=128,P=-128,B=Math.pow(2,31),D=128,T=127,U=Math.pow(2,7),L=Math.pow(2,14),q=Math.pow(2,21),z=Math.pow(2,28),$=Math.pow(2,35),F=Math.pow(2,42),V=Math.pow(2,49),H=Math.pow(2,56),K=Math.pow(2,63);const J={encode:function e(t,r,n){r=r||[];for(var i=n=n||0;t>=B;)r[n++]=255&t|N,t/=128;for(;t&P;)r[n++]=255&t|N,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},decode:function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(n&T)<<o:(n&T)*Math.pow(2,o),o+=7}while(n>=D);return e.bytes=s-r,i},encodingLength:function(e){return e<U?1:e<L?2:e<q?3:e<z?4:e<$?5:e<F?6:e<V?7:e<H?8:e<K?9:10}},W=(e,t=0)=>[J.decode(e,t),J.decode.bytes],G=(e,t,r=0)=>(J.encode(e,t,r),t),Z=e=>J.encodingLength(e),X=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}),Q=(e,t)=>{const r=t.byteLength,n=Z(e),i=n+Z(r),o=new Uint8Array(i+r);return G(e,o,0),G(r,o,n),o.set(t,i),new Y(e,r,t,o)};class Y{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const ee=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var d=0,h=o-1;(0!==f||d<i)&&-1!==h;h--,d++)f+=a*s[h]>>>0,s[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var l=o-i;l!==o&&0===s[l];)l++;for(var p=new Uint8Array(n+(o-l)),y=n;l!==o;)p[y++]=s[l++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,u=new Uint8Array(s);i!==o;){for(var d=t[i],h=0,l=s-1;(0!==d||h<n)&&-1!==l;l--,h++)d+=256*u[l]>>>0,u[l]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var y=c.repeat(r);p<s;++p)y+=e.charAt(u[p]);return y},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw new Error(`Non-${t} character`)}}};class te{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class re{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ie(this,e)}}class ne{constructor(e){this.decoders=e}or(e){return ie(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ie=(e,t)=>new ne({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class oe{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new te(e,t,r),this.decoder=new re(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const se=({name:e,prefix:t,encode:r,decode:n})=>new oe(e,t,r,n),ae=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=ee(r,t);return se({prefix:e,name:t,encode:n,decode:e=>X(i(e))})},ce=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>se({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let t=0;t<o;++t){const o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)}),ue=ae({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fe=(ae({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ce({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),de=(ce({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ce({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ce({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ce({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ce({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ce({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ce({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ce({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),(e,t)=>{const{bytes:r,version:n}=e;return 0===n?be(r,le(e),t||ue.encoder):ge(r,le(e),t||fe.encoder)}),he=new WeakMap,le=e=>{const t=he.get(e);if(null==t){const t=new Map;return he.set(e,t),t}return t};class pe{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==ve)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==me)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return pe.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Q(e,t);return pe.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return pe.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return de(this,e)}toJSON(){return{"/":de(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof pe)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:n,bytes:i}=t;return new pe(e,r,n,i||we(e,r,n.bytes))}if(!0===t[xe]){const{version:e,multihash:r,code:n}=t,i=(e=>{const t=X(e),[r,n]=W(t),[i,o]=W(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Y(r,i,s,t)})(r);return pe.create(e,n,i)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==ve)throw new Error(`Version 0 CID must use dag-pb (code: ${ve}) block encoding`);return new pe(e,t,r,r.bytes);case 1:{const n=we(e,t,r.bytes);return new pe(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return pe.create(0,ve,e)}static createV1(e,t){return pe.create(1,e,t)}static decode(e){const[t,r]=pe.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=pe.inspectBytes(e),r=t.size-t.multihashSize,n=X(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=n.subarray(t.multihashSize-t.digestSize),o=new Y(t.multihashCode,t.digestSize,i,n);return[0===t.version?pe.createV0(o):pe.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=W(e.subarray(t));return t+=n,r};let n=r(),i=ve;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const o=t,s=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c-o,size:c}}static parse(e,t){const[r,n]=ye(e,t),i=pe.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return le(i).set(r,e),i}}const ye=(e,t)=>{switch(e[0]){case"Q":{const r=t||ue;return[ue.prefix,r.decode(`${ue.prefix}${e}`)]}case ue.prefix:{const r=t||ue;return[ue.prefix,r.decode(e)]}case fe.prefix:{const r=t||fe;return[fe.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},be=(e,t,r)=>{const{prefix:n}=r;if(n!==ue.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},ge=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},ve=112,me=18,we=(e,t,r)=>{const n=Z(e),i=n+Z(t),o=new Uint8Array(i+r.byteLength);return G(e,o,0),G(t,o,n),o.set(r,i),o},xe=Symbol.for("@ipld/js-cid/CID"),Ae=({name:e,code:t,encode:r})=>new Ee(e,t,r);class Ee{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Q(this.code,t):t.then((e=>Q(this.code,e)))}throw Error("Unknown type, must be binary type")}}var Me=r(2794);const{publicKeyConvert:Se}=Me,_e=(e,t)=>{if(O[t]){const r=parseInt(O[t],16),n=e.byteLength,i=Z(r),o=new Uint8Array(i+n);return G(r,o,0),o.set(e,i),ue.encode(o)}throw new Error("multicodec not recognized")},Ie=e=>{const t=ue.decode(e),[r,n]=W(t);return{pubKeyBytes:t.slice(n),code:r}};function ke(e){const t=Buffer.from(e),r=t.toString("hex");return t.fill(0),r}function je(e){const t=Buffer.from(e,"hex"),r=new Uint8Array(t);return t.fill(0),r}function Oe(e){return ke(Se(je(e.slice(2)),!0))}function Ce(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Re(e=0){return null!=globalThis.Buffer?.allocUnsafe?Ce(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Ne(e,t){null==t&&(t=e.reduce(((e,t)=>e+t.length),0));const r=Re(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return Ce(r)}const Pe=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var d=0,h=o-1;(0!==f||d<i)&&-1!==h;h--,d++)f+=a*s[h]>>>0,s[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var l=o-i;l!==o&&0===s[l];)l++;for(var p=new Uint8Array(n+(o-l)),y=n;l!==o;)p[y++]=s[l++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,u=new Uint8Array(s);i!==o;){for(var d=t[i],h=0,l=s-1;(0!==d||h<n)&&-1!==l;l--,h++)d+=256*u[l]>>>0,u[l]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var y=c.repeat(r);p<s;++p)y+=e.charAt(u[p]);return y},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw new Error(`Non-${t} character`)}}},Be=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class De{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Te{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Le(this,e)}}class Ue{constructor(e){this.decoders=e}or(e){return Le(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Le=(e,t)=>new Ue({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class qe{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new De(e,t,r),this.decoder=new Te(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ze=({name:e,prefix:t,encode:r,decode:n})=>new qe(e,t,r,n),$e=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=Pe(r,t);return ze({prefix:e,name:t,encode:n,decode:e=>Be(i(e))})},Fe=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ze({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let t=0;t<o;++t){const o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)}),Ve=ze({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),He=Fe({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Ke=Fe({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Je=$e({prefix:"9",name:"base10",alphabet:"0123456789"}),We=Fe({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ge=Fe({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Ze=Fe({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xe=Fe({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Qe=Fe({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ye=Fe({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),et=Fe({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tt=Fe({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rt=Fe({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),nt=Fe({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),it=Fe({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ot=$e({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),st=$e({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),at=$e({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ct=$e({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ut=Fe({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ft=Fe({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),dt=Fe({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ht=Fe({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),lt=Array.from(""),pt=lt.reduce(((e,t,r)=>(e[r]=t,e)),[]),yt=lt.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]),bt=ze({prefix:"",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+pt[t]),"")},decode:function(e){const t=[];for(const r of e){const e=yt[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var gt=128,vt=-128,mt=Math.pow(2,31),wt=128,xt=127,At=Math.pow(2,7),Et=Math.pow(2,14),Mt=Math.pow(2,21),St=Math.pow(2,28),_t=Math.pow(2,35),It=Math.pow(2,42),kt=Math.pow(2,49),jt=Math.pow(2,56),Ot=Math.pow(2,63);const Ct={encode:function e(t,r,n){r=r||[];for(var i=n=n||0;t>=mt;)r[n++]=255&t|gt,t/=128;for(;t&vt;)r[n++]=255&t|gt,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},decode:function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(n&xt)<<o:(n&xt)*Math.pow(2,o),o+=7}while(n>=wt);return e.bytes=s-r,i},encodingLength:function(e){return e<At?1:e<Et?2:e<Mt?3:e<St?4:e<_t?5:e<It?6:e<kt?7:e<jt?8:e<Ot?9:10}},Rt=(e,t=0)=>[Ct.decode(e,t),Ct.decode.bytes],Nt=(e,t,r=0)=>(Ct.encode(e,t,r),t),Pt=e=>Ct.encodingLength(e),Bt=(e,t)=>{const r=t.byteLength,n=Pt(e),i=n+Pt(r),o=new Uint8Array(i+r);return Nt(e,o,0),Nt(r,o,n),o.set(t,i),new Dt(e,r,t,o)};class Dt{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const Tt=({name:e,code:t,encode:r})=>new Ut(e,t,r);class Ut{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Bt(this.code,t):t.then((e=>Bt(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Lt=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),qt=Tt({name:"sha2-256",code:18,encode:Lt("SHA-256")}),zt=Tt({name:"sha2-512",code:19,encode:Lt("SHA-512")}),$t=Be,Ft={code:0,name:"identity",encode:$t,digest:e=>Bt(0,$t(e))},Vt="raw",Ht=85,Kt=e=>Be(e),Jt=e=>Be(e),Wt=new TextEncoder,Gt=new TextDecoder,Zt="json",Xt=512,Qt=e=>Wt.encode(JSON.stringify(e)),Yt=e=>JSON.parse(Gt.decode(e)),er=(e,t)=>{const{bytes:r,version:n}=e;return 0===n?or(r,rr(e),t||at.encoder):sr(r,rr(e),t||Ze.encoder)},tr=new WeakMap,rr=e=>{const t=tr.get(e);if(null==t){const t=new Map;return tr.set(e,t),t}return t};class nr{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==ar)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==cr)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return nr.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Bt(e,t);return nr.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return nr.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return er(this,e)}toJSON(){return{"/":er(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof nr)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:n,bytes:i}=t;return new nr(e,r,n,i||ur(e,r,n.bytes))}if(!0===t[fr]){const{version:e,multihash:r,code:n}=t,i=(e=>{const t=Be(e),[r,n]=Rt(t),[i,o]=Rt(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Dt(r,i,s,t)})(r);return nr.create(e,n,i)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==ar)throw new Error(`Version 0 CID must use dag-pb (code: ${ar}) block encoding`);return new nr(e,t,r,r.bytes);case 1:{const n=ur(e,t,r.bytes);return new nr(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return nr.create(0,ar,e)}static createV1(e,t){return nr.create(1,e,t)}static decode(e){const[t,r]=nr.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=nr.inspectBytes(e),r=t.size-t.multihashSize,n=Be(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=n.subarray(t.multihashSize-t.digestSize),o=new Dt(t.multihashCode,t.digestSize,i,n);return[0===t.version?nr.createV0(o):nr.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=Rt(e.subarray(t));return t+=n,r};let n=r(),i=ar;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const o=t,s=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c-o,size:c}}static parse(e,t){const[r,n]=ir(e,t),i=nr.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return rr(i).set(r,e),i}}const ir=(e,t)=>{switch(e[0]){case"Q":{const r=t||at;return[at.prefix,r.decode(`${at.prefix}${e}`)]}case at.prefix:{const r=t||at;return[at.prefix,r.decode(e)]}case Ze.prefix:{const r=t||Ze;return[Ze.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},or=(e,t,r)=>{const{prefix:n}=r;if(n!==at.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},sr=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},ar=112,cr=18,ur=(e,t,r)=>{const n=Pt(e),i=n+Pt(t),o=new Uint8Array(i+r.byteLength);return Nt(e,o,0),Nt(t,o,n),o.set(r,i),o},fr=Symbol.for("@ipld/js-cid/CID"),dr={...e,...t,...i,...o,...s,...a,...c,...u,...f,...d};function hr(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const lr=hr("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),pr=hr("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=Re((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),yr={utf8:lr,"utf-8":lr,hex:dr.base16,latin1:pr,ascii:pr,binary:pr,...dr};function br(e,t="utf8"){const r=yr[t];if(null==r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):Ce(globalThis.Buffer.from(e,"utf-8"))}function gr(e,t="utf8"){const r=yr[t];if(null==r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function vr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function mr(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const wr={number:vr,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:mr,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");vr(e.outputLen),vr(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){mr(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}},xr="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ar=e=>e instanceof Uint8Array,Er=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Mr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Sr=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function _r(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function Ir(e){if("string"==typeof e&&(e=_r(e)),!Ar(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function kr(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!Ar(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));class jr{clone(){return this._cloneInto()}}function Or(e){const t=t=>e().update(Ir(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Cr(e=32){if(xr&&"function"==typeof xr.getRandomValues)return xr.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class Rr extends jr{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Mr(this.buffer)}update(e){wr.exists(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=Ir(e)).length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s!==n)r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Mr(e);for(;n<=i-o;o+=n)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){wr.exists(this),wr.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=Mr(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,u[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}const Nr=BigInt(2**32-1),Pr=BigInt(32);function Br(e,t=!1){return t?{h:Number(e&Nr),l:Number(e>>Pr&Nr)}:{h:0|Number(e>>Pr&Nr),l:0|Number(e&Nr)}}const Dr={fromBig:Br,split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=Br(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<Pr|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},Tr=Dr,[Ur,Lr]=Tr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),qr=new Uint32Array(80),zr=new Uint32Array(80);class $r extends Rr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:f,Fl:d,Gh:h,Gl:l,Hh:p,Hl:y}=this;return[e,t,r,n,i,o,s,a,c,u,f,d,h,l,p,y]}set(e,t,r,n,i,o,s,a,c,u,f,d,h,l,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|f,this.Fl=0|d,this.Gh=0|h,this.Gl=0|l,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)qr[r]=e.getUint32(t),zr[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|qr[e-15],r=0|zr[e-15],n=Tr.rotrSH(t,r,1)^Tr.rotrSH(t,r,8)^Tr.shrSH(t,r,7),i=Tr.rotrSL(t,r,1)^Tr.rotrSL(t,r,8)^Tr.shrSL(t,r,7),o=0|qr[e-2],s=0|zr[e-2],a=Tr.rotrSH(o,s,19)^Tr.rotrBH(o,s,61)^Tr.shrSH(o,s,6),c=Tr.rotrSL(o,s,19)^Tr.rotrBL(o,s,61)^Tr.shrSL(o,s,6),u=Tr.add4L(i,c,zr[e-7],zr[e-16]),f=Tr.add4H(u,n,a,qr[e-7],qr[e-16]);qr[e]=0|f,zr[e]=0|u}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:u,Eh:f,El:d,Fh:h,Fl:l,Gh:p,Gl:y,Hh:b,Hl:g}=this;for(let e=0;e<80;e++){const t=Tr.rotrSH(f,d,14)^Tr.rotrSH(f,d,18)^Tr.rotrBH(f,d,41),v=Tr.rotrSL(f,d,14)^Tr.rotrSL(f,d,18)^Tr.rotrBL(f,d,41),m=f&h^~f&p,w=d&l^~d&y,x=Tr.add5L(g,v,w,Lr[e],zr[e]),A=Tr.add5H(x,b,t,m,Ur[e],qr[e]),E=0|x,M=Tr.rotrSH(r,n,28)^Tr.rotrBH(r,n,34)^Tr.rotrBH(r,n,39),S=Tr.rotrSL(r,n,28)^Tr.rotrBL(r,n,34)^Tr.rotrBL(r,n,39),_=r&i^r&s^i&s,I=n&o^n&a^o&a;b=0|p,g=0|y,p=0|h,y=0|l,h=0|f,l=0|d,({h:f,l:d}=Tr.add(0|c,0|u,0|A,0|E)),c=0|s,u=0|a,s=0|i,a=0|o,i=0|r,o=0|n;const k=Tr.add3L(E,S,I);r=Tr.add3H(k,A,M,_),n=0|k}({h:r,l:n}=Tr.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=Tr.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=Tr.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=Tr.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:f,l:d}=Tr.add(0|this.Eh,0|this.El,0|f,0|d)),({h,l}=Tr.add(0|this.Fh,0|this.Fl,0|h,0|l)),({h:p,l:y}=Tr.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:b,l:g}=Tr.add(0|this.Hh,0|this.Hl,0|b,0|g)),this.set(r,n,i,o,s,a,c,u,f,d,h,l,p,y,b,g)}roundClean(){qr.fill(0),zr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Fr extends $r{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class Vr extends $r{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Hr extends $r{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Kr=Or((()=>new $r)),Jr=(Or((()=>new Fr)),Or((()=>new Vr)),Or((()=>new Hr)),BigInt(0),BigInt(1)),Wr=BigInt(2),Gr=e=>e instanceof Uint8Array,Zr=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Xr(e){if(!Gr(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Zr[e[r]];return t}function Qr(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function Yr(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const n=2*t,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[t]=o}return r}function en(e){return Qr(Xr(e))}function tn(e){if(!Gr(e))throw new Error("Uint8Array expected");return Qr(Xr(Uint8Array.from(e).reverse()))}function rn(e,t){return Yr(e.toString(16).padStart(2*t,"0"))}function nn(e,t){return rn(e,t).reverse()}function on(e,t,r){let n;if("string"==typeof t)try{n=Yr(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!Gr(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function sn(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!Gr(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}const an=e=>(Wr<<BigInt(e-1))-Jr,cn=e=>new Uint8Array(e),un=e=>Uint8Array.from(e);function fn(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=cn(e),i=cn(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),c=(e=cn())=>{i=a(un([0]),e),n=a(),0!==e.length&&(i=a(un([1]),e),n=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return sn(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(u()));)c();return s(),r}}const dn={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function hn(e,t,r={}){const n=(t,r,n)=>{const i=dn[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const o=e[t];if(!(n&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}const ln=BigInt(0),pn=BigInt(1),yn=BigInt(2),bn=BigInt(3),gn=BigInt(4),vn=BigInt(5),mn=BigInt(8);function wn(e,t){const r=e%t;return r>=ln?r:t+r}function xn(e,t,r){if(r<=ln||t<ln)throw new Error("Expected power/modulo > 0");if(r===pn)return ln;let n=pn;for(;t>ln;)t&pn&&(n=n*e%r),e=e*e%r,t>>=pn;return n}function An(e,t,r){let n=e;for(;t-- >ln;)n*=n,n%=r;return n}function En(e,t){if(e===ln||t<=ln)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=wn(e,t),n=t,i=ln,o=pn,s=pn,a=ln;for(;r!==ln;){const e=n/r,t=n%r,c=i-s*e,u=o-a*e;n=r,r=t,i=s,o=a,s=c,a=u}if(n!==pn)throw new Error("invert: does not exist");return wn(i,t)}BigInt(9),BigInt(16);const Mn=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Sn(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function _n(e,t,r=!1,n={}){if(e<=ln)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Sn(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function(e){if(e%gn===bn){const t=(e+pn)/gn;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%mn===vn){const t=(e-vn)/mn;return function(e,r){const n=e.mul(r,yn),i=e.pow(n,t),o=e.mul(r,i),s=e.mul(e.mul(o,yn),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-pn)/yn;let r,n,i;for(r=e-pn,n=0;r%yn===ln;r/=yn,n++);for(i=yn;i<e&&xn(i,t,e)!==e-pn;i++);if(1===n){const t=(e+pn)/gn;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const o=(r+pn)/yn;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,i),r),u=e.pow(s,o),f=e.pow(s,r);for(;!e.eql(f,e.ONE);){if(e.eql(f,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(f);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,pn<<BigInt(a-t-1));c=e.sqr(r),u=e.mul(u,r),f=e.mul(f,c),a=t}return u}}(e)}(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:an(i),ZERO:ln,ONE:pn,create:t=>wn(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return ln<=t&&t<e},is0:e=>e===ln,isOdd:e=>(e&pn)===pn,neg:t=>wn(-t,e),eql:(e,t)=>e===t,sqr:t=>wn(t*t,e),add:(t,r)=>wn(t+r,e),sub:(t,r)=>wn(t-r,e),mul:(t,r)=>wn(t*r,e),pow:(e,t)=>function(e,t,r){if(r<ln)throw new Error("Expected power > 0");if(r===ln)return e.ONE;if(r===pn)return t;let n=e.ONE,i=t;for(;r>ln;)r&pn&&(n=e.mul(n,i)),i=e.sqr(i),r>>=pn;return n}(a,e,t),div:(t,r)=>wn(t*En(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>En(t,e),sqrt:n.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?nn(e,o):rn(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return r?tn(e):en(e)}});return Object.freeze(a)}const In=BigInt(0),kn=BigInt(1);function jn(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>In;)r&kn&&(n=n.add(i)),i=i.double(),r>>=kn;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),o=[];let s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:s,windowSize:a}=n(t);let c=e.ZERO,u=e.BASE;const f=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let n=Number(o&f);o>>=h,n>a&&(n-=d,o+=kn);const s=t,l=t+Math.abs(n)-1,p=e%2!=0,y=n<0;0===n?u=u.add(r(p,i[s])):c=c.add(r(y,i[l]))}return{p:c,f:u}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}}function On(e){return function(e){const t=Mn.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});hn(e,t)}(e.Fp),hn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Sn(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Cn=BigInt(0),Rn=BigInt(1),Nn=BigInt(2),Pn=BigInt(8),Bn={zip215:!0};function Dn(e){const t=function(e){const t=On(e);return hn(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=t,u=Nn<<BigInt(8*a)-Rn,f=r.create,d=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(e){return{isValid:!1,value:Cn}}}),h=t.adjustScalarBytes||(e=>e),l=t.domain||((e,t,r)=>{if(t.length||r)throw new Error("Contexts/pre-hash are not supported");return e}),p=e=>"bigint"==typeof e&&Cn<e,y=(e,t)=>p(e)&&p(t)&&e<t,b=e=>e===Cn||y(e,u);function g(e,t){if(y(e,t))return e;throw new Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function v(e){return e===Cn?e:g(e,n)}const m=new Map;function w(e){if(!(e instanceof x))throw new Error("ExtendedPoint expected")}class x{constructor(e,t,r,n){if(this.ex=e,this.ey=t,this.ez=r,this.et=n,!b(e))throw new Error("x required");if(!b(t))throw new Error("y required");if(!b(r))throw new Error("z required");if(!b(n))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof x)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};if(!b(t)||!b(r))throw new Error("invalid affine point");return new x(t,r,Rn,f(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.ez)));return e.map(((e,r)=>e.toAffine(t[r]))).map(x.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,m.delete(this)}assertValidity(){const{a:e,d:r}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:n,ey:i,ez:o,et:s}=this,a=f(n*n),c=f(i*i),u=f(o*o),d=f(u*u),h=f(a*e);if(f(u*f(h+c))!==f(d+f(r*f(a*c))))throw new Error("bad point: equation left != right (1)");if(f(n*i)!==f(o*s))throw new Error("bad point: equation left != right (2)")}equals(e){w(e);const{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:s}=e,a=f(t*s),c=f(i*n),u=f(r*s),d=f(o*n);return a===c&&u===d}is0(){return this.equals(x.ZERO)}negate(){return new x(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:e}=t,{ex:r,ey:n,ez:i}=this,o=f(r*r),s=f(n*n),a=f(Nn*f(i*i)),c=f(e*o),u=r+n,d=f(f(u*u)-o-s),h=c+s,l=h-a,p=c-s,y=f(d*l),b=f(h*p),g=f(d*p),v=f(l*h);return new x(y,b,v,g)}add(e){w(e);const{a:r,d:n}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:u,ez:d,et:h}=e;if(r===BigInt(-1)){const e=f((o-i)*(u+c)),t=f((o+i)*(u-c)),r=f(t-e);if(r===Cn)return this.double();const n=f(s*Nn*h),l=f(a*Nn*d),p=l+n,y=t+e,b=l-n,g=f(p*r),v=f(y*b),m=f(p*b),w=f(r*y);return new x(g,v,w,m)}const l=f(i*c),p=f(o*u),y=f(a*n*h),b=f(s*d),g=f((i+o)*(c+u)-l-p),v=b-y,m=b+y,A=f(p-r*l),E=f(g*v),M=f(m*A),S=f(g*A),_=f(v*m);return new x(E,M,_,S)}subtract(e){return this.add(e.negate())}wNAF(e){return M.wNAFCached(this,m,e,x.normalizeZ)}multiply(e){const{p:t,f:r}=this.wNAF(g(e,n));return x.normalizeZ([t,r])[0]}multiplyUnsafe(e){let t=v(e);return t===Cn?E:this.equals(E)||t===Rn?this:this.equals(A)?this.wNAF(t).p:M.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return M.unsafeLadder(this,n).is0()}toAffine(e){const{ex:t,ey:n,ez:i}=this,o=this.is0();null==e&&(e=o?Pn:r.inv(i));const s=f(t*e),a=f(n*e),c=f(i*e);if(o)return{x:Cn,y:Rn};if(c!==Rn)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:e}=t;return e===Rn?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){const{d:i,a:o}=t,s=r.BYTES,a=(e=on("pointHex",e,s)).slice(),c=e[s-1];a[s-1]=-129&c;const h=tn(a);h===Cn||g(h,n?u:r.ORDER);const l=f(h*h),p=f(l-Rn),y=f(i*l-o);let{isValid:b,value:v}=d(p,y);if(!b)throw new Error("Point.fromHex: invalid y coordinate");const m=(v&Rn)===Rn,w=0!=(128&c);if(!n&&v===Cn&&w)throw new Error("Point.fromHex: x=0 and x_0=1");return w!==m&&(v=f(-v)),x.fromAffine({x:v,y:h})}static fromPrivateKey(e){return I(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=nn(t,r.BYTES);return n[n.length-1]|=e&Rn?128:0,n}toHex(){return Xr(this.toRawBytes())}}x.BASE=new x(t.Gx,t.Gy,Rn,f(t.Gx*t.Gy)),x.ZERO=new x(Cn,Rn,Rn,Cn);const{BASE:A,ZERO:E}=x,M=jn(x,8*a);function S(e){return wn(e,n)}function _(e){return S(tn(e))}function I(e){const t=a;e=on("private key",e,t);const r=on("hashed private key",o(e),2*t),n=h(r.slice(0,t)),i=r.slice(t,2*t),s=_(n),c=A.multiply(s),u=c.toRawBytes();return{head:n,prefix:i,scalar:s,point:c,pointBytes:u}}function k(e=new Uint8Array,...t){const r=sn(...t);return _(o(l(r,on("context",e),!!i)))}const j=Bn;return A._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return I(e).pointBytes},sign:function(e,t,n={}){e=on("message",e),i&&(e=i(e));const{prefix:o,scalar:s,pointBytes:c}=I(t),u=k(n.context,o,e),f=A.multiply(u).toRawBytes(),d=S(u+k(n.context,f,c,e)*s);return v(d),on("result",sn(f,nn(d,r.BYTES)),2*a)},verify:function(e,t,n,o=j){const{context:s,zip215:a}=o,c=r.BYTES;e=on("signature",e,2*c),t=on("message",t),i&&(t=i(t));const u=tn(e.slice(c,2*c));let f,d,h;try{f=x.fromHex(n,a),d=x.fromHex(e.slice(0,c),a),h=A.multiplyUnsafe(u)}catch(e){return!1}if(!a&&f.isSmallOrder())return!1;const l=k(s,d.toRawBytes(),f.toRawBytes(),t);return d.add(f.multiplyUnsafe(l)).subtract(h).clearCofactor().equals(x.ZERO)},ExtendedPoint:x,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>s(r.BYTES),precompute:(e=8,t=x.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}const Tn=BigInt(0),Un=BigInt(1);const Ln=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),qn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),zn=(BigInt(0),BigInt(1)),$n=BigInt(2),Fn=BigInt(5),Vn=BigInt(10),Hn=BigInt(20),Kn=BigInt(40),Jn=BigInt(80);function Wn(e){const t=Ln,r=e*e%t*e%t,n=An(r,$n,t)*r%t,i=An(n,zn,t)*e%t,o=An(i,Fn,t)*i%t,s=An(o,Vn,t)*o%t,a=An(s,Hn,t)*s%t,c=An(a,Kn,t)*a%t,u=An(c,Jn,t)*c%t,f=An(u,Jn,t)*c%t,d=An(f,Vn,t)*o%t;return{pow_p_5_8:An(d,$n,t)*e%t,b2:r}}function Gn(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Zn=_n(Ln,void 0,!0),Xn={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Zn,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Kr,randomBytes:Cr,adjustScalarBytes:Gn,uvRatio:function(e,t){const r=Ln,n=wn(t*t*t,r),i=wn(n*n*t,r);let o=wn(e*n*Wn(e*i).pow_p_5_8,r);const s=wn(t*o*o,r),a=o,c=wn(o*qn,r),u=s===e,f=s===wn(-e,r),d=s===wn(-e*qn,r);return u&&(o=a),(f||d)&&(o=c),(wn(o,r)&pn)===pn&&(o=wn(-o,r)),{isValid:u||f,value:o}}},Qn=Dn(Xn);function Yn(e,t,r){if(t.length>255)throw new Error("Context is too big");return kr(_r("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}Dn({...Xn,domain:Yn}),Dn({...Xn,domain:Yn,prehash:Kr});const ei=(()=>function(e){const t=(hn(r=e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r}));var r;const{P:n}=t,i=e=>wn(e,n),o=t.montgomeryBits,s=Math.ceil(o/8),a=t.nByteLength,c=t.adjustScalarBytes||(e=>e),u=t.powPminus2||(e=>xn(e,n-BigInt(2),n));function f(e,t,r){const n=i(e*(t-r));return[t=i(t-n),r=i(r+n)]}function d(e){if("bigint"==typeof e&&Tn<=e&&e<n)return e;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const h=(t.a-BigInt(2))/BigInt(4);function l(e){return nn(i(e),s)}function p(e,t){const r=function(e){const t=on("u coordinate",e,s);return a===s&&(t[a-1]&=127),tn(t)}(t),n=function(e){const t=on("scalar",e);if(t.length!==s&&t.length!==a)throw new Error(`Expected ${s} or ${a} bytes, got ${t.length}`);return tn(c(t))}(e),p=function(e,t){const r=d(e),n=d(t),s=r;let a,c=Un,l=Tn,p=r,y=Un,b=Tn;for(let e=BigInt(o-1);e>=Tn;e--){const t=n>>e&Un;b^=t,a=f(b,c,p),c=a[0],p=a[1],a=f(b,l,y),l=a[0],y=a[1],b=t;const r=c+l,o=i(r*r),u=c-l,d=i(u*u),g=o-d,v=p+y,m=i((p-y)*r),w=i(v*u),x=m+w,A=m-w;p=i(x*x),y=i(s*i(A*A)),c=i(o*d),l=i(g*(o+i(h*g)))}a=f(b,c,p),c=a[0],p=a[1],a=f(b,l,y),l=a[0],y=a[1];const g=u(l);return i(c*g)}(r,n);if(p===Tn)throw new Error("Invalid private or public key received");return l(p)}const y=l(t.Gu);function b(e){return p(e,y)}return{scalarMult:p,scalarMultBase:b,getSharedSecret:(e,t)=>p(e,t),getPublicKey:e=>b(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:y}}({P:Ln,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=Ln,{pow_p_5_8:r,b2:n}=Wn(e);return wn(An(r,BigInt(3),t)*n,t)},adjustScalarBytes:Gn,randomBytes:Cr}))(),ti=(Zn.ORDER+BigInt(3))/BigInt(8);Zn.pow($n,ti),Zn.sqrt(Zn.neg(Zn.ONE)),Zn.ORDER,BigInt(5),BigInt(8),BigInt(486662),function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);e.isOdd(r)&&e.neg(r)}(Zn,Zn.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const ri=(e,t,r)=>e&t^e&r^t&r,ni=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ii=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oi=new Uint32Array(64);class si extends Rr{constructor(){super(64,32,8,!1),this.A=0|ii[0],this.B=0|ii[1],this.C=0|ii[2],this.D=0|ii[3],this.E=0|ii[4],this.F=0|ii[5],this.G=0|ii[6],this.H=0|ii[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)oi[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=oi[e-15],r=oi[e-2],n=Sr(t,7)^Sr(t,18)^t>>>3,i=Sr(r,17)^Sr(r,19)^r>>>10;oi[e]=i+oi[e-7]+n+oi[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(Sr(s,6)^Sr(s,11)^Sr(s,25))+((f=s)&a^~f&c)+ni[e]+oi[e]|0,d=(Sr(r,2)^Sr(r,13)^Sr(r,22))+ri(r,n,i)|0;u=c,c=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+d|0}var f;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,i,o,s,a,c,u)}roundClean(){oi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class ai extends si{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ci=Or((()=>new si)),ui=(Or((()=>new ai)),new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8])),fi=Uint8Array.from({length:16},((e,t)=>t)),di=fi.map((e=>(9*e+5)%16));let hi=[fi],li=[di];for(let e=0;e<4;e++)for(let t of[hi,li])t.push(t[e].map((e=>ui[e])));const pi=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),yi=hi.map(((e,t)=>e.map((e=>pi[t][e])))),bi=li.map(((e,t)=>e.map((e=>pi[t][e])))),gi=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),vi=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),mi=(e,t)=>e<<t|e>>>32-t;function wi(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const xi=new Uint32Array(16);class Ai extends Rr{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)xi[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,o=i,s=0|this.h2,a=s,c=0|this.h3,u=c,f=0|this.h4,d=f;for(let e=0;e<5;e++){const t=4-e,h=gi[e],l=vi[e],p=hi[e],y=li[e],b=yi[e],g=bi[e];for(let t=0;t<16;t++){const n=mi(r+wi(e,i,s,c)+xi[p[t]]+h,b[t])+f|0;r=f,f=c,c=0|mi(s,10),s=i,i=n}for(let e=0;e<16;e++){const r=mi(n+wi(t,o,a,u)+xi[y[e]]+l,g[e])+d|0;n=d,d=u,u=0|mi(a,10),a=o,o=r}}this.set(this.h1+s+u|0,this.h2+c+d|0,this.h3+f+n|0,this.h4+r+o|0,this.h0+i+a|0)}roundClean(){xi.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Ei=Or((()=>new Ai)),[Mi,Si,_i]=[[],[],[]],Ii=BigInt(0),ki=BigInt(1),ji=BigInt(2),Oi=BigInt(7),Ci=BigInt(256),Ri=BigInt(113);for(let e=0,t=ki,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Mi.push(2*(5*n+r)),Si.push((e+1)*(e+2)/2%64);let i=Ii;for(let e=0;e<7;e++)t=(t<<ki^(t>>Oi)*Ri)%Ci,t&ji&&(i^=ki<<(ki<<BigInt(e))-ki);_i.push(i)}const[Ni,Pi]=Tr.split(_i,!0),Bi=(e,t,r)=>r>32?Tr.rotlBH(e,t,r):Tr.rotlSH(e,t,r),Di=(e,t,r)=>r>32?Tr.rotlBL(e,t,r):Tr.rotlSL(e,t,r);class Ti extends jr{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,wr.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Er(this.state)}keccak(){!function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,o=r[i],s=r[i+1],a=Bi(o,s,1)^r[n],c=Di(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=Si[r],o=Bi(t,i,n),s=Di(t,i,n),a=Mi[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=Ni[n],e[1]^=Pi[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){wr.exists(this);const{blockLen:t,state:r}=this,n=(e=Ir(e)).length;for(let i=0;i<n;){const o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){wr.exists(this,!1),wr.bytes(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return wr.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(wr.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new Ti(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Ui=(e,t,r)=>Or((()=>new Ti(t,e,r))),Li=(Ui(6,144,28),Ui(6,136,32),Ui(6,104,48),Ui(6,72,64),Ui(1,144,28),Ui(1,136,32)),qi=(Ui(1,104,48),Ui(1,72,64),(e,t,r)=>function(e){const t=(t,r)=>e(r).update(Ir(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(((n={})=>new Ti(t,e,void 0===n.dkLen?r:n.dkLen,!0))));qi(31,168,16),qi(31,136,32);const{bytesToNumberBE:zi,hexToBytes:$i}=b,Fi={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Fi;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:zi(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Fi,r="string"==typeof e?$i(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Fi._parseInt(r.subarray(2)),{d:s,l:a}=Fi._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),c=r(s);return`30${r(s+o+4)}02${c}${i}02${a}${n}`}},Vi=BigInt(0),Hi=BigInt(1),Ki=(BigInt(2),BigInt(3));function Ji(e){const t=function(e){const t=On(e);return hn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(e){return wn(e,n)}function a(e){return En(e,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=function(e){const t=function(e){const t=On(e);hn(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{const i=t.toAffine();return sn(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){const{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&Vi<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:o}=t;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=Xr(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let s;try{s="bigint"==typeof e?e:en(on("private key",e,n))}catch(t){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return i&&(s=wn(s,o)),a(s),s}const u=new Map;function f(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?d.ZERO:new d(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(on("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=o(e);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){f(e);const{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(o,i)),u=r.eql(r.mul(n,a),r.mul(s,i));return c&&u}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,Ki),{px:o,py:s,pz:a}=this;let c=r.ZERO,u=r.ZERO,f=r.ZERO,h=r.mul(o,o),l=r.mul(s,s),p=r.mul(a,a),y=r.mul(o,s);return y=r.add(y,y),f=r.mul(o,a),f=r.add(f,f),c=r.mul(e,f),u=r.mul(i,p),u=r.add(c,u),c=r.sub(l,u),u=r.add(l,u),u=r.mul(c,u),c=r.mul(y,c),f=r.mul(i,f),p=r.mul(e,p),y=r.sub(h,p),y=r.mul(e,y),y=r.add(y,f),f=r.add(h,h),h=r.add(f,h),h=r.add(h,p),h=r.mul(h,y),u=r.add(u,h),p=r.mul(s,a),p=r.add(p,p),h=r.mul(p,y),c=r.sub(c,h),f=r.mul(p,l),f=r.add(f,f),f=r.add(f,f),new d(c,u,f)}add(e){f(e);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:c}=e;let u=r.ZERO,h=r.ZERO,l=r.ZERO;const p=t.a,y=r.mul(t.b,Ki);let b=r.mul(n,s),g=r.mul(i,a),v=r.mul(o,c),m=r.add(n,i),w=r.add(s,a);m=r.mul(m,w),w=r.add(b,g),m=r.sub(m,w),w=r.add(n,o);let x=r.add(s,c);return w=r.mul(w,x),x=r.add(b,v),w=r.sub(w,x),x=r.add(i,o),u=r.add(a,c),x=r.mul(x,u),u=r.add(g,v),x=r.sub(x,u),l=r.mul(p,w),u=r.mul(y,v),l=r.add(u,l),u=r.sub(g,l),l=r.add(g,l),h=r.mul(u,l),g=r.add(b,b),g=r.add(g,b),v=r.mul(p,v),w=r.mul(y,w),g=r.add(g,v),v=r.sub(b,v),v=r.mul(p,v),w=r.add(w,v),b=r.mul(g,w),h=r.add(h,b),b=r.mul(x,w),u=r.mul(m,u),u=r.sub(u,b),b=r.mul(m,g),l=r.mul(x,l),l=r.add(l,b),new d(u,h,l)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return l.wNAFCached(this,u,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}))}multiplyUnsafe(e){const n=d.ZERO;if(e===Vi)return n;if(a(e),e===Hi)return this;const{endo:i}=t;if(!i)return l.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:c,k2:u}=i.splitScalar(e),f=n,h=n,p=this;for(;s>Vi||u>Vi;)s&Hi&&(f=f.add(p)),u&Hi&&(h=h.add(p)),p=p.double(),s>>=Hi,u>>=Hi;return o&&(f=f.negate()),c&&(h=h.negate()),h=new d(r.mul(h.px,i.beta),h.py,h.pz),f.add(h)}multiply(e){a(e);let n,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(o);let{p:u,f}=this.wNAF(t),{p:h,f:p}=this.wNAF(c);u=l.constTimeNegate(e,u),h=l.constTimeNegate(a,h),h=new d(r.mul(h.px,s.beta),h.py,h.pz),n=u.add(h),i=f.add(p)}else{const{p:e,f:t}=this.wNAF(o);n=e,i=t}return d.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=d.BASE,i=(e,t)=>t!==Vi&&t!==Hi&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){const{px:t,py:n,pz:i}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(i));const s=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===Hi)return!0;if(r)return r(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===Hi?this:r?r(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(d,this,e)}toHex(e=!0){return Xr(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,l=jn(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}({...t,toBytes(e,t,n){const i=t.toAffine(),o=r.toBytes(i.x),s=sn;return n?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],s=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===o&&4===n)return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=en(s);if(!(Vi<(a=e)&&a<r.ORDER))throw new Error("Point is not on curve");const t=f(e);let i=r.sqrt(t);return 1==(1&n)!=((i&Hi)===Hi)&&(i=r.neg(i)),{x:e,y:i}}var a}}),h=e=>Xr(rn(e,t.nByteLength));function l(e){return e>n>>Hi}const p=(e,t,r)=>en(e.slice(t,r));class y{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=on("compactSignature",e,2*r),new y(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=Fi.toSig(on("DER",e));return new y(t,r)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:o}=this,u=m(on("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const f=2===o||3===o?n+t.n:n;if(f>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0==(1&o)?"02":"03",l=c.fromHex(d+h(f)),p=a(f),y=s(-u*p),b=s(i*p),g=c.BASE.multiplyAndAddUnsafe(l,y,b);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Yr(this.toDERHex())}toDERHex(){return Fi.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Yr(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const b={isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>rn(function(e,t,r=!1){const n=(e=on("privateHash",e)).length,i=Sn(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);return wn(r?tn(e):en(e),t-pn)+pn}(t.randomBytes(r.BYTES+8),n),t.nByteLength),precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof c}const v=t.bits2int||function(e){const r=en(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},m=t.bits2int_modN||function(e){return s(v(e))},w=an(t.nBitLength);function x(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(Vi<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return rn(e,t.nByteLength)}const A={lowS:t.lowS,prehash:!1},E={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(g(e))throw new Error("first arg must be private key");if(!g(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,n,i=A){const{seed:o,k2sig:f}=function(e,n,i=A){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:f}=t;let{lowS:h,prehash:p,extraEntropy:b}=i;null==h&&(h=!0),e=on("msgHash",e),p&&(e=on("prehashed msgHash",o(e)));const g=m(e),w=u(n),E=[x(w),x(g)];if(null!=b){const e=!0===b?f(r.BYTES):b;E.push(on("extraEntropy",e,r.BYTES))}const M=sn(...E),S=g;return{seed:M,k2sig:function(e){const t=v(e);if(!d(t))return;const r=a(t),n=c.BASE.multiply(t).toAffine(),i=s(n.x);if(i===Vi)return;const o=s(r*s(S+i*w));if(o===Vi)return;let u=(n.x===i?0:2)|Number(n.y&Hi),f=o;return h&&l(o)&&(f=function(e){return l(e)?s(-e):e}(o),u^=1),new y(i,f,u)}}}(e,n,i),h=t;return fn(h.hash.outputLen,h.nByteLength,h.hmac)(o,f)},verify:function(e,r,n,i=E){const o=e;if(r=on("msgHash",r),n=on("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:f}=i;let d,h;try{if("string"==typeof o||o instanceof Uint8Array)try{d=y.fromDER(o)}catch(e){if(!(e instanceof Fi.Err))throw e;d=y.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;d=new y(e,t)}}h=c.fromHex(n)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;f&&(r=t.hash(r));const{r:l,s:p}=d,b=m(r),g=a(p),v=s(b*g),w=s(l*g),x=c.BASE.multiplyAndAddUnsafe(h,v,w)?.toAffine();return!!x&&s(x.x)===l},ProjectivePoint:c,Signature:y,utils:b}}BigInt(4);class Wi extends jr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,wr.hash(e);const r=Ir(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return wr.exists(this),this.iHash.update(e),this}digestInto(e){wr.exists(this),wr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Gi=(e,t,r)=>new Wi(e,t).update(r).digest();function Zi(e){return{hash:e,hmac:(t,...r)=>Gi(e,t,kr(...r)),randomBytes:Cr}}function Xi(e,t){const r=t=>Ji({...e,...Zi(t)});return Object.freeze({...r(t),create:r})}Gi.create=(e,t)=>new Wi(e,t);const Qi=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yi=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eo=BigInt(1),to=BigInt(2),ro=(e,t)=>(e+t/to)/t;const no=_n(Qi,void 0,void 0,{sqrt:function(e){const t=Qi,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=An(f,r,t)*f%t,h=An(d,r,t)*f%t,l=An(h,to,t)*u%t,p=An(l,i,t)*l%t,y=An(p,o,t)*p%t,b=An(y,a,t)*y%t,g=An(b,c,t)*b%t,v=An(g,a,t)*y%t,m=An(v,r,t)*f%t,w=An(m,s,t)*p%t,x=An(w,n,t)*u%t,A=An(x,to,t);if(!no.eql(no.sqr(A),e))throw new Error("Cannot find square root");return A}}),io=Xi({a:BigInt(0),b:BigInt(7),Fp:no,n:Yi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Yi,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-eo*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=ro(o*e,t),c=ro(-n*e,t);let u=wn(e-a*r-c*i,t),f=wn(-a*n-c*o,t);const d=u>s,h=f>s;if(d&&(u=t-u),h&&(f=t-f),u>s||f>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:f}}}},ci);BigInt(0),io.ProjectivePoint;const oo=_n(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),so=Xi({a:oo.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:oo,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},ci);var ao=r(1611),co=r(3685),uo=r(9014);const fo={toString:gr,fromString:br,concat:Ne};function ho(e){return fo.toString(e,"base64url")}function lo(e){const t=e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return fo.fromString(t,"base64url")}function po(e){return fo.fromString(e,"base58btc")}function yo(e,t){let r=e.startsWith("0x")?e.substring(2):e;if(r.length%2!=0&&(r=`0${r}`),t){const e=Math.max(r.length,2*t);r=r.padStart(e,"00")}return fo.fromString(r.toLowerCase(),"base16")}function bo(e){return ho(fo.fromString(e))}function go(e){return fo.toString(lo(e))}function vo(e){return fo.toString(e,"base16")}function mo(e){return BigInt("0x"+fo.toString(e,"base16"))}function wo(e){return fo.fromString(e)}function xo({r:e,s:t,recoveryParam:r},n){const i=new Uint8Array(n?65:64);if(i.set(fo.fromString(e,"base16"),0),i.set(fo.fromString(t,"base16"),32),n){if(void 0===r)throw new Error("Signer did not return a recoveryParam");i[64]=r}return ho(i)}function Ao(e,t){return fo.concat([lo(e),t?lo(t):new Uint8Array(0)])}function Eo(){const e=ei.utils.randomPrivateKey();return{secretKey:e,publicKey:ei.getPublicKey(e)}}function Mo(){const e=Eo();return{publicKeyJWK:{kty:"OKP",crv:"X25519",x:ho(e.publicKey)},secretKey:e.secretKey}}function So(e){const t="string"==typeof e?br(e):e;return ci(t)}const _o=Li;function Io(e){const t=br(e.slice(2),"base16");return`0x${gr(_o(t).slice(-20),"base16")}`}function ko(e,t=new Uint8Array(4)){const r=br(e.toString(),"base10");return t.set(r,4-r.length),t}const jo=e=>Ne([ko(e.length),e]);function Oo(e,t,r,n,i){if(256!==t)throw new Error(`Unsupported key length: ${t}`);const o=Ne([jo(br(r)),jo(void 0===n?new Uint8Array(0):n),jo(void 0===i?new Uint8Array(0):i),ko(t)]);return So(Ne([ko(1),e,o]))}function Co(e){return"object"==typeof e&&"r"in e&&"s"in e}function Ro(e){return function(t,r){try{return Promise.resolve(r(t)).then((function(t){if(Co(t))return xo(t,e);if(e&&void 0===function(e){const t=lo(e);if(t.length<64||t.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${t.length}`);return{r:vo(t.slice(0,32)),s:vo(t.slice(32,64)),recoveryParam:65===t.length?t[64]:void 0}}(t).recoveryParam)throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return t}))}catch(e){return Promise.reject(e)}}}function No(){return function(e,t){try{return Promise.resolve(t(e)).then((function(e){if(Co(e))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return e}))}catch(e){return Promise.reject(e)}}}const Po={ES256:function(e,t){try{return Promise.resolve(t(e)).then((function(e){return Co(e)?xo(e):e}))}catch(e){return Promise.reject(e)}},ES256K:Ro(),"ES256K-R":Ro(!0),Ed25519:No(),EdDSA:No()};function Bo(e,t){if(t){const r=t.split(":");switch(r[0]){case"bip122":r[r.length-1]=function(e,t){const r=vo(po(t).slice(0,1)),n=yo(e),i=r+vo(Ei(So(n))),o=So(yo(i));return s=yo(i+vo(So(o)).substring(0,8)),fo.toString(s,"base58btc");var s}(e,r[r.length-1]);break;case"cosmos":r[r.length-1]=function(e,t){const r=io.ProjectivePoint.fromHex(e).toRawBytes(),n=Ei(So(r)),i=co.gW.toWords(n);return co.gW.encode(t,i).replace(t,"")}(e,r[1]);break;case"eip155":r[r.length-1]=Io(e);break;default:return!1}return r.join(":").toLowerCase()===t.toLowerCase()}return!1}function Do(e,t=!1){const r=lo(e);if(r.length!==(t?65:64))throw new Error("wrong signature length");return{compact:r.slice(0,64),recovery:r[64]}}function To(e){if(e.publicKeyBase58)return po(e.publicKeyBase58);if(e.publicKeyBase64)return lo(e.publicKeyBase64);if(e.publicKeyHex)return yo(e.publicKeyHex);if(e.publicKeyJwk&&"secp256k1"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y)return io.ProjectivePoint.fromAffine({x:mo(lo(e.publicKeyJwk.x)),y:mo(lo(e.publicKeyJwk.y))}).toRawBytes(!1);if(e.publicKeyJwk&&"P-256"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y)return so.ProjectivePoint.fromAffine({x:mo(lo(e.publicKeyJwk.x)),y:mo(lo(e.publicKeyJwk.y))}).toRawBytes(!1);if(e.publicKeyJwk&&"OKP"===e.publicKeyJwk.kty&&["Ed25519","X25519"].includes(e.publicKeyJwk.crv??"")&&e.publicKeyJwk.x)return lo(e.publicKeyJwk.x);if(e.publicKeyMultibase){const{base16:t,base58btc:r,base64:n,base64url:i}=dr;return t.decoder.or(r.decoder.or(n.decoder.or(i.decoder))).decode(e.publicKeyMultibase)}return new Uint8Array}function Uo(e,t,r){const n=[];if(t.length>86)n.push(Do(t,!0));else{const e=Do(t,!1);n.push({...e,recovery:0}),n.push({...e,recovery:1})}const i=So(e),o=e=>{const t=io.Signature.fromCompact(e.compact).addRecoveryBit(e.recovery||0).recoverPublicKey(i),n=Io(t.toHex(!1)).toLowerCase(),o=t.toHex(!1),s=t.toHex(!0);return r.find((e=>{const t=vo(To(e));return t===o||t===s||e.ethereumAddress?.toLowerCase()===n||e.blockchainAccountId?.split("@eip155")?.[0].toLowerCase()===n||Bo(o,e.blockchainAccountId)}))};for(const e of n){const t=o(e);if(t)return t}throw new Error("invalid_signature: Signature invalid for JWT")}function Lo(e,t,r){const n=wo(e),i=lo(t),o=r.find((e=>Qn.verify(i,n,To(e))));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o}const qo={ES256:function(e,t,r){const n=So(e),i=so.Signature.fromCompact(Do(t).compact),o=r.filter((e=>!e.ethereumAddress&&!e.blockchainAccountId)).find((e=>{try{const t=To(e);return so.verify(i,n,t)}catch(e){return!1}}));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o},ES256K:function(e,t,r){const n=So(e),i=io.Signature.fromCompact(lo(t)).normalizeS(),o=r.filter((e=>!e.ethereumAddress&&!e.blockchainAccountId)),s=r.filter((e=>e.ethereumAddress||e.blockchainAccountId));let a=o.find((e=>{try{const t=To(e);return io.verify(i,n,t)}catch(e){return!1}}));if(!a&&s.length>0&&(a=Uo(e,t,s)),!a)throw new Error("invalid_signature: Signature invalid for JWT");return a},"ES256K-R":Uo,Ed25519:Lo,EdDSA:Lo};function zo(e){const t=qo[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}zo.toSignatureObject=function(e,t=!1){const r=lo(e);if(r.length!==(t?65:64))throw new Error("wrong signature length");const n={r:vo(r.slice(0,32)),s:vo(r.slice(32,64))};return t&&(n.recoveryParam=r[64]),n};"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));const $o="ES256K";function Fo(e,t=!1){return bo(t?ao(e):JSON.stringify(e))}function Vo(e,t){return function({header:e,data:t,signature:r},n){return Array.isArray(n)||(n=[n]),zo(e.alg)(t,r,n)}(function(e){const t=e.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(t)return{header:JSON.parse(go(t[1])),payload:t[2],signature:t[3],data:`${t[1]}.${t[2]}`};throw new Error("invalid_argument: Incorrect format JWS")}(e),t)}const Ho="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Ko(e,t,r){if(!e.s){if(r instanceof Jo){if(!r.s)return void(r.o=Ko.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(Ko.bind(null,e,t),Ko.bind(null,e,2));e.s=t,e.v=r;const n=e.o;n&&n(e)}}const Jo=function(){function e(){}return e.prototype.then=function(t,r){const n=new e,i=this.s;if(i){const e=1&i?t:r;if(e){try{Ko(n,1,e(this.v))}catch(e){Ko(n,2,e)}return n}return this}return this.o=function(e){try{const i=e.v;1&e.s?Ko(n,1,t?t(i):i):r?Ko(n,1,r(i)):Ko(n,2,i)}catch(e){Ko(n,2,e)}},n},e}();function Wo(e){return e instanceof Jo&&1&e.s}function Go({ciphertext:e,tag:t,iv:r,protectedHeader:n,recipient:i},o){const s={protected:n,iv:ho(r??new Uint8Array(0)),ciphertext:ho(e),tag:ho(t??new Uint8Array(0))};return o&&(s.aad=ho(o)),i&&(s.recipients=[i]),s}const Zo=function(e,t){try{function r(e){if(null===s)throw new Error("failure: Failed to decrypt");return s}!function(e){if(!(e.protected&&e.iv&&e.ciphertext&&e.tag))throw new Error("bad_jwe: missing properties");e.recipients&&e.recipients.map((e=>{if(!e.header||!e.encrypted_key)throw new Error("bad_jwe: malformed recipients")}))}(e);const n=JSON.parse(go(e.protected));if(n.enc!==t.enc)throw new Error(`not_supported: Decrypter does not supported: '${n.enc}'`);const i=Ao(e.ciphertext,e.tag),o=br(e.aad?`${e.protected}.${e.aad}`:e.protected,"utf-8");let s=null;const a="dir"===n.alg&&"dir"===t.alg?Promise.resolve(t.decrypt(i,lo(e.iv),o)).then((function(e){s=e})):function(){if(e.recipients&&0!==e.recipients.length){let r=0;return function(e,t,r){for(var n;;){var i=e();if(Wo(i)&&(i=i.v),!i)return o;if(i.then){n=0;break}var o=r();if(o&&o.then){if(!Wo(o)){n=1;break}o=o.s}if(t){var s=t();if(s&&s.then&&!Wo(s)){n=2;break}}}var a=new Jo,c=Ko.bind(null,a,2);return(0===n?i.then(f):1===n?o.then(u):s.then(d)).then(void 0,c),a;function u(n){o=n;do{if(t&&(s=t())&&s.then&&!Wo(s))return void s.then(d).then(void 0,c);if(!(i=e())||Wo(i)&&!i.v)return void Ko(a,1,o);if(i.then)return void i.then(f).then(void 0,c);Wo(o=r())&&(o=o.v)}while(!o||!o.then);o.then(u).then(void 0,c)}function f(e){e?(o=r())&&o.then?o.then(u).then(void 0,c):u(o):Ko(a,1,o)}function d(){(i=e())?i.then?i.then(f).then(void 0,c):f(i):Ko(a,1,o)}}((function(){return!s&&r<e.recipients.length}),(function(){return r++}),(function(){const a=e.recipients[r];Object.assign(a.header,n);const c=function(){if(a.header.alg===t.alg)return Promise.resolve(t.decrypt(i,lo(e.iv),o,a)).then((function(e){s=e}))}();if(c&&c.then)return c.then((function(){}))}))}throw new Error("bad_jwe: missing recipients")}();return Promise.resolve(a&&a.then?a.then(r):r())}catch(c){return Promise.reject(c)}};function Xo(e){const t=new uo.NV(e);return(e,r)=>{const n=Cr(t.nonceLength),i=t.seal(n,e,r);return{ciphertext:i.subarray(0,i.length-t.tagLength),tag:i.subarray(i.length-t.tagLength),iv:n}}}function Qo(e){const t=new uo.NV(e);return{alg:"dir",enc:"XC20P",decrypt:function(e,r,n){try{return Promise.resolve(t.open(r,e,n))}catch(e){return Promise.reject(e)}}}}const Yo=function(e,t,r,n,i,o){try{const t="X25519",n=256,s=o?function(e){if(32!==e.length)throw new Error("x25519: seed must be 32 bytes");return{publicKey:ei.getPublicKey(e),secretKey:e}}(o.secretKey):Eo(),a={kty:"OKP",crv:t,x:ho(s.publicKey)},c=Oo(ei.getSharedSecret(s.secretKey,e),n,r,void 0,lo(i??""));return Promise.resolve({epk:a,kek:c})}catch(e){return Promise.reject(e)}};const es=function(e,t){try{const r=function(e,n=[]){try{return Promise.resolve(t.resolve(e)).then((function({didResolutionMetadata:t,didDocument:i}){function o(){const t=i.keyAgreement?.map((e=>"string"==typeof e?[...i.publicKey||[],...i.verificationMethod||[]].find((t=>t.id===e)):e))?.filter((e=>void 0!==e)),r=t?.filter((e=>"X25519KeyAgreementKey2019"===e.type||"X25519KeyAgreementKey2020"===e.type))||[];if(!r.length&&!s.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);return r.map((e=>function(e,t={}){return function(e,t,r={},n,i,o){const s=function(o,s){try{return Promise.resolve(n.createKek(e,t,`${n.alg}+${i.alg}`,r.apu,r.apv,s)).then((function({epk:e,kek:t}){return Promise.resolve(i.from(t).wrap(o)).then((function(t){const o={encrypted_key:ho(t.ciphertext),header:{}};return t.iv&&(o.header.iv=ho(t.iv)),t.tag&&(o.header.tag=ho(t.tag)),r.kid&&(o.header.kid=r.kid),r.apu&&(o.header.apu=r.apu),r.apv&&(o.header.apv=r.apv),s||(o.header.alg=`${n.alg}+${i.alg}`,o.header.epk=e),o}))}))}catch(e){return Promise.reject(e)}};return{alg:i.alg,enc:o.enc,encrypt:function(e,t={},r,a){try{Object.assign(t,{alg:void 0});const c=Cr(32);return Promise.resolve(s(c,a)).then((function(s){return a&&(t.alg=`${n.alg}+${i.alg}`,t.epk=a.publicKeyJWK),Promise.resolve(o.from(c).encrypt(e,t,r)).then((function(e){return{...e,recipient:s,cek:c}}))}))}catch(e){return Promise.reject(e)}},encryptCek:s,genEpk:Mo}}(e,void 0,t,{createKek:Yo,alg:"ECDH-ES"},ts,{from:e=>function(e){const t=Xo(e),r="XC20P";return{alg:"dir",enc:r,encrypt:function(e,n={},i){try{const o=bo(JSON.stringify(Object.assign({alg:"dir"},n,{enc:r}))),s=br(i?`${o}.${ho(i)}`:o,"utf-8");return Promise.resolve({...t(e,s),protectedHeader:o})}catch(e){return Promise.reject(e)}}}}(e),enc:"XC20P"})}(To(e),{kid:e.id,apv:undefined}))).concat(...s)}if(n.push(e),t?.error||null==i)throw new Error(`resolver_error: Could not resolve ${e}: ${t.error}, ${t.message}`);let s=[];if(!i.controller&&!i.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);const a=function(){if(i.controller){let e=Array.isArray(i.controller)?i.controller:[i.controller];e=e.filter((e=>!n.includes(e)));const t=e.map((e=>r(e,n).catch((()=>[]))));return Promise.resolve(Promise.all(t)).then((function(e){s=[].concat(...e)}))}}();return a&&a.then?a.then(o):o()}))}catch(e){return Promise.reject(e)}},n=e.map((e=>r(e)));return Promise.resolve(Promise.all(n)).then((function(e){return[].concat(...e)}))}catch(e){return Promise.reject(e)}};const ts={from:e=>({wrap:function(t){try{return Promise.resolve(Xo(e)(t))}catch(e){return Promise.reject(e)}}}),alg:"XC20PKW"};function rs(e){const t="ECDH-ES+XC20PKW";return{alg:t,enc:"XC20P",decrypt:function(r,n,i,o){try{const s=function(e){if(!(e&&e.epk&&e.iv&&e.tag))throw new Error("bad_jwe: malformed header");return e}(o.header);return Promise.resolve(function(e,t,r){try{function n(){let t,n;return e.header.apu&&(t=lo(e.header.apu)),e.header.apv&&(n=lo(e.header.apv)),Oo(c,o,r,t,n)}const i="X25519",o=256,s=e.header;if(s.epk?.crv!==i||void 0===s.epk.x)return Promise.resolve(null);const a=lo(s.epk.x);let c;const u=function(){if(!(t instanceof Uint8Array))return Promise.resolve(t(a)).then((function(e){c=e}));c=ei.getSharedSecret(t,a)}();return Promise.resolve(u&&u.then?u.then(n):n())}catch(f){return Promise.reject(f)}}(o,e,t)).then((function(e){if(!e)return null;const t=Ao(o.encrypted_key,s.tag);return Promise.resolve(Qo(e).decrypt(t,lo(s.iv))).then((function(e){return null===e?null:Qo(e).decrypt(r,n,i)}))}))}catch(e){return Promise.reject(e)}}}}const ns=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class is extends jr{constructor(e,t,r={},n,i,o){if(super(),this.blockLen=e,this.outputLen=t,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,wr.number(e),wr.number(t),wr.number(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");if(void 0!==r.key&&(r.key.length<1||r.key.length>n))throw new Error(`key must be up 1..${n} byte long or undefined`);if(void 0!==r.salt&&r.salt.length!==i)throw new Error(`salt must be ${i} byte long or undefined`);if(void 0!==r.personalization&&r.personalization.length!==o)throw new Error(`personalization must be ${o} byte long or undefined`);this.buffer32=Er(this.buffer=new Uint8Array(e))}update(e){wr.exists(this);const{blockLen:t,buffer:r,buffer32:n}=this,i=(e=Ir(e)).length,o=e.byteOffset,s=e.buffer;for(let a=0;a<i;){this.pos===t&&(this.compress(n,0,!1),this.pos=0);const c=Math.min(t-this.pos,i-a),u=o+a;if(c!==t||u%4||!(a+c<i))r.set(e.subarray(a,a+c),this.pos),this.pos+=c,this.length+=c,a+=c;else{const e=new Uint32Array(s,u,Math.floor((i-a)/4));for(let r=0;a+t<i;r+=n.length,a+=t)this.length+=t,this.compress(e,r,!1)}}return this}digestInto(e){wr.exists(this),wr.output(e,this);const{pos:t,buffer32:r}=this;this.finished=!0,this.buffer.subarray(t).fill(0),this.compress(r,0,!0);const n=Er(e);this.get().forEach(((e,t)=>n[t]=e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){const{buffer:t,length:r,finished:n,destroyed:i,outputLen:o,pos:s}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.length=r,e.finished=n,e.destroyed=i,e.outputLen=o,e.buffer.set(t),e.pos=s,e}}const os=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ss=new Uint32Array(32);function as(e,t,r,n,i,o){const s=i[o],a=i[o+1];let c=ss[2*e],u=ss[2*e+1],f=ss[2*t],d=ss[2*t+1],h=ss[2*r],l=ss[2*r+1],p=ss[2*n],y=ss[2*n+1],b=Tr.add3L(c,f,s);u=Tr.add3H(b,u,d,a),c=0|b,({Dh:y,Dl:p}={Dh:y^u,Dl:p^c}),({Dh:y,Dl:p}={Dh:Tr.rotr32H(y,p),Dl:Tr.rotr32L(y,p)}),({h:l,l:h}=Tr.add(l,h,y,p)),({Bh:d,Bl:f}={Bh:d^l,Bl:f^h}),({Bh:d,Bl:f}={Bh:Tr.rotrSH(d,f,24),Bl:Tr.rotrSL(d,f,24)}),ss[2*e]=c,ss[2*e+1]=u,ss[2*t]=f,ss[2*t+1]=d,ss[2*r]=h,ss[2*r+1]=l,ss[2*n]=p,ss[2*n+1]=y}function cs(e,t,r,n,i,o){const s=i[o],a=i[o+1];let c=ss[2*e],u=ss[2*e+1],f=ss[2*t],d=ss[2*t+1],h=ss[2*r],l=ss[2*r+1],p=ss[2*n],y=ss[2*n+1],b=Tr.add3L(c,f,s);u=Tr.add3H(b,u,d,a),c=0|b,({Dh:y,Dl:p}={Dh:y^u,Dl:p^c}),({Dh:y,Dl:p}={Dh:Tr.rotrSH(y,p,16),Dl:Tr.rotrSL(y,p,16)}),({h:l,l:h}=Tr.add(l,h,y,p)),({Bh:d,Bl:f}={Bh:d^l,Bl:f^h}),({Bh:d,Bl:f}={Bh:Tr.rotrBH(d,f,63),Bl:Tr.rotrBL(d,f,63)}),ss[2*e]=c,ss[2*e+1]=u,ss[2*t]=f,ss[2*t+1]=d,ss[2*r]=h,ss[2*r+1]=l,ss[2*n]=p,ss[2*n+1]=y}class us extends is{constructor(e={}){super(128,void 0===e.dkLen?64:e.dkLen,e,64,16,16),this.v0l=0|os[0],this.v0h=0|os[1],this.v1l=0|os[2],this.v1h=0|os[3],this.v2l=0|os[4],this.v2h=0|os[5],this.v3l=0|os[6],this.v3h=0|os[7],this.v4l=0|os[8],this.v4h=0|os[9],this.v5l=0|os[10],this.v5h=0|os[11],this.v6l=0|os[12],this.v6h=0|os[13],this.v7l=0|os[14],this.v7h=0|os[15];const t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|65536|1<<24,e.salt){const t=Er(Ir(e.salt));this.v4l^=t[0],this.v4h^=t[1],this.v5l^=t[2],this.v5h^=t[3]}if(e.personalization){const t=Er(Ir(e.personalization));this.v6l^=t[0],this.v6h^=t[1],this.v7l^=t[2],this.v7h^=t[3]}if(e.key){const t=new Uint8Array(this.blockLen);t.set(Ir(e.key)),this.update(t)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:o,v3l:s,v3h:a,v4l:c,v4h:u,v5l:f,v5h:d,v6l:h,v6h:l,v7l:p,v7h:y}=this;return[e,t,r,n,i,o,s,a,c,u,f,d,h,l,p,y]}set(e,t,r,n,i,o,s,a,c,u,f,d,h,l,p,y){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|o,this.v3l=0|s,this.v3h=0|a,this.v4l=0|c,this.v4h=0|u,this.v5l=0|f,this.v5h=0|d,this.v6l=0|h,this.v6h=0|l,this.v7l=0|p,this.v7h=0|y}compress(e,t,r){this.get().forEach(((e,t)=>ss[t]=e)),ss.set(os,16);let{h:n,l:i}=Tr.fromBig(BigInt(this.length));ss[24]=os[8]^i,ss[25]=os[9]^n,r&&(ss[28]=~ss[28],ss[29]=~ss[29]);let o=0;const s=ns;for(let r=0;r<12;r++)as(0,4,8,12,e,t+2*s[o++]),cs(0,4,8,12,e,t+2*s[o++]),as(1,5,9,13,e,t+2*s[o++]),cs(1,5,9,13,e,t+2*s[o++]),as(2,6,10,14,e,t+2*s[o++]),cs(2,6,10,14,e,t+2*s[o++]),as(3,7,11,15,e,t+2*s[o++]),cs(3,7,11,15,e,t+2*s[o++]),as(0,5,10,15,e,t+2*s[o++]),cs(0,5,10,15,e,t+2*s[o++]),as(1,6,11,12,e,t+2*s[o++]),cs(1,6,11,12,e,t+2*s[o++]),as(2,7,8,13,e,t+2*s[o++]),cs(2,7,8,13,e,t+2*s[o++]),as(3,4,9,14,e,t+2*s[o++]),cs(3,4,9,14,e,t+2*s[o++]);this.v0l^=ss[0]^ss[16],this.v0h^=ss[1]^ss[17],this.v1l^=ss[2]^ss[18],this.v1h^=ss[3]^ss[19],this.v2l^=ss[4]^ss[20],this.v2h^=ss[5]^ss[21],this.v3l^=ss[6]^ss[22],this.v3h^=ss[7]^ss[23],this.v4l^=ss[8]^ss[24],this.v4h^=ss[9]^ss[25],this.v5l^=ss[10]^ss[26],this.v5h^=ss[11]^ss[27],this.v6l^=ss[12]^ss[28],this.v6h^=ss[13]^ss[29],this.v7l^=ss[14]^ss[30],this.v7h^=ss[15]^ss[31],ss.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}!function(e){const t=(t,r)=>e(r).update(Ir(t)).digest(),r=e({});t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t)}((e=>new us(e)));const fs={toString:gr,fromString:br,concatArrays:Ne};function ds(e){return fs.toString(e,"base64url")}function hs(e){if(e instanceof Uint8Array)return Uint8Array.from(e);if("string"!=typeof e)throw new Error("illegal_argument: a string must be provided for a hex-string to byte array conversion");const t=e.startsWith("0x")?e.substring(2):e,r=t.length%2!=0?`0${t}`:t;return fs.fromString(r.toLowerCase(),"base16")}r(7302)("veramo:utils");var ls=r(5367);const{ec:ps}=ls;var ys,bs;function gs(e,t){if(t){if("sig"!==t&&"enc"!==t)throw new Error("illegal_argument: Key use must be sig or enc");if("sig"===t&&e===ys.X25519)throw new Error("illegal_argument: X25519 keys cannot be used for signing");if("enc"===t&&e===ys.Ed25519)throw new Error("illegal_argument: Ed25519 keys cannot be used for encryption");return t}switch(e){case ys.Secp256k1:case ys.Secp256r1:case ys.Ed25519:return"sig";case ys.X25519:return"enc";default:throw new Error("illegal_argument: Unknown key type")}}function vs(e,t,r){const n=gs(e,r);switch(e){case ys.Secp256k1:{const e=new ps("secp256k1").keyFromPublic(t,"hex").getPublic(),r=e.getX(),i=e.getY();return{alg:"ES256K",crv:"secp256k1",kty:"EC",...n&&{use:n},x:ds(hs(r.toString("hex"))),y:ds(hs(i.toString("hex")))}}case ys.Secp256r1:{const e=new ps("p256").keyFromPublic(t,"hex").getPublic(),r=e.getX(),i=e.getY();return{alg:"ES256",crv:"P-256",kty:"EC",...n&&{use:n},x:ds(hs(r.toString("hex"))),y:ds(hs(i.toString("hex")))}}case ys.Ed25519:return{alg:"EdDSA",crv:"Ed25519",kty:"OKP",...n&&{use:n},x:ds("string"==typeof t?hs(t):t)};case ys.X25519:return{alg:"ECDH-ES",crv:"X25519",kty:"OKP",...n&&{use:n},x:ds("string"==typeof t?hs(t):t)};default:throw new Error("not_supported: Failed to create JWK for this key type.")}}(bs=ys||(ys={})).Secp256r1="Secp256r1",bs.Secp256k1="Secp256k1",bs.Ed25519="Ed25519",bs.X25519="X25519";const ms=(e,t)=>e.includes(t),ws=e=>{if(["true","false","null","undefined"].includes(e))return{true:!0,false:!1,null:null,undefined:void 0}[e];try{return decodeURIComponent(e)}catch(t){return e}};var xs=["snap","ceramic"],As=e=>ms(xs,e),Es="v1",Ms=["did:ethr","did:pkh"],Ss=e=>ms(Ms,e),_s=["did:ethr","did:pkh","did:key","did:key:jwk_jcs-pub","did:jwk"],Is=e=>ms(_s,e),ks=["did:iden3","did:polygonid"],js=e=>ms(ks,e),Os=["did:key","did:key:jwk_jcs-pub","did:jwk",...ks],Cs=e=>ms(Os,e),Rs=[...Ms,...Os],Ns=e=>ms(Rs,e),Ps=e=>ms(Ms,e),Bs={"did:ethr":["*"],"did:pkh":["0x1","0x89"]},Ds={"did:key":0,"did:key:jwk_jcs-pub":0,"did:jwk":1,"did:iden3":2,"did:polygonid":3},Ts=["jwt","lds","EthereumEip712Signature2021"],Us=e=>ms(Ts,e),Ls=r(5108),qs=e=>"string"==typeof e&&3===e.split(".").length,zs=(e,t,r)=>t[Es].accountState[e].general.account.ssi.storesEnabled[r],$s=(e,t,r)=>{let n=e.options?.store||[];Array.isArray(n)||(n=[n]);for(const e of n)if(!zs(t,r,e))throw new Error(`Store ${e} is not enabled!`)},Fs=e=>{if(!e.success)return(e=>{let t="invalid_argument: ";for(let r=0;r<e.length;r+=1)t+=e[r].path,r<e.length-1&&(t+=", ");return t})(e.errors)},Vs=e=>{const t=[];if(!1===((e,t=!0)=>{Ls.createValidateEquals.join;const r=(e,t=!0)=>(void 0===e.typ||"string"==typeof e.typ)&&(void 0===e.alg||"string"==typeof e.alg)&&Object.keys(e).every((t=>!!["typ","alg"].some((e=>t===e))||(void 0===e[t]||!!RegExp(/(.*)/).test(t)))),n=(e,t=!0)=>(void 0===e.iss||"string"==typeof e.iss)&&(void 0===e.sub||"string"==typeof e.sub)&&null!==e.aud&&(void 0===e.aud||"string"==typeof e.aud||Array.isArray(e.aud)&&e.aud.every(((e,t)=>"string"==typeof e)))&&(void 0===e.iat||"number"==typeof e.iat)&&(void 0===e.nbf||"number"==typeof e.nbf)&&(void 0===e.exp||"number"==typeof e.exp)&&(void 0===e.rexp||"number"==typeof e.rexp)&&Object.keys(e).every((t=>!!["iss","sub","aud","iat","nbf","exp","rexp"].some((e=>t===e))||(void 0===e[t]||!!RegExp(/(.*)/).test(t)))),i=(e,t=!0)=>0===Object.keys(e).length||Object.keys(e).every((t=>void 0===e[t]));return"object"==typeof e&&null!==e&&((e,t=!0)=>"JWZ"===e.type?((e,t=!0)=>"JWZ"===e.type&&"object"==typeof e.data&&null!==e.data&&!1===Array.isArray(e.data)&&((e,t=!0)=>Object.keys(e).every((r=>{const n=e[r];return void 0===n||!!RegExp(/(.*)/).test(r)&&null!=n&&("string"==typeof n||"number"==typeof n||"boolean"==typeof n||Array.isArray(n)&&n.every(((e,r)=>"object"==typeof e&&null!==e&&!1===Array.isArray(e)&&i(e,t)))||"object"==typeof n&&null!==n&&!1===Array.isArray(n)&&i(n,t))})))(e.data,t)&&(2===Object.keys(e).length||Object.keys(e).every((t=>!!["type","data"].some((e=>t===e))||void 0===e[t]))))(e,t):"JWT"===e.type&&((e,t=!0)=>"JWT"===e.type&&(void 0===e.data||"object"==typeof e.data&&null!==e.data&&!1===Array.isArray(e.data)&&((e,t=!0)=>(void 0===e.header||"object"==typeof e.header&&null!==e.header&&!1===Array.isArray(e.header)&&r(e.header,t))&&(void 0===e.payload||"object"==typeof e.payload&&null!==e.payload&&!1===Array.isArray(e.payload)&&n(e.payload,t))&&(0===Object.keys(e).length||Object.keys(e).every((t=>!!["header","payload"].some((e=>t===e))||void 0===e[t]))))(e.data,t))&&(1===Object.keys(e).length||Object.keys(e).every((t=>!!["type","data"].some((e=>t===e))||void 0===e[t]))))(e,t))(e,!0)})(e)){const r=Ls.createValidateEquals.report(t);((e,t,n=!0)=>{const i=Ls.createValidateEquals.join,o=(e,t,n=!0)=>[void 0===e.header||("object"==typeof e.header&&null!==e.header&&!1===Array.isArray(e.header)||r(n,{path:t+".header",expected:"(JWTHeader | undefined)",value:e.header}))&&s(e.header,t+".header",n)||r(n,{path:t+".header",expected:"(JWTHeader | undefined)",value:e.header}),void 0===e.payload||("object"==typeof e.payload&&null!==e.payload&&!1===Array.isArray(e.payload)||r(n,{path:t+".payload",expected:"(JWTPayload | undefined)",value:e.payload}))&&a(e.payload,t+".payload",n)||r(n,{path:t+".payload",expected:"(JWTPayload | undefined)",value:e.payload}),0===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["header","payload"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),s=(e,t,n=!0)=>[void 0===e.typ||"string"==typeof e.typ||r(n,{path:t+".typ",expected:"(string | undefined)",value:e.typ}),void 0===e.alg||"string"==typeof e.alg||r(n,{path:t+".alg",expected:"(string | undefined)",value:e.alg}),!1===n||Object.keys(e).map((o=>{if(["typ","alg"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),a=(e,t,n=!0)=>[void 0===e.iss||"string"==typeof e.iss||r(n,{path:t+".iss",expected:"(string | undefined)",value:e.iss}),void 0===e.sub||"string"==typeof e.sub||r(n,{path:t+".sub",expected:"(string | undefined)",value:e.sub}),(null!==e.aud||r(n,{path:t+".aud",expected:"(Array<string> | string | undefined)",value:e.aud}))&&(void 0===e.aud||"string"==typeof e.aud||(Array.isArray(e.aud)||r(n,{path:t+".aud",expected:"(Array<string> | string | undefined)",value:e.aud}))&&e.aud.map(((e,i)=>"string"==typeof e||r(n,{path:t+".aud["+i+"]",expected:"string",value:e}))).every((e=>e))||r(n,{path:t+".aud",expected:"(Array<string> | string | undefined)",value:e.aud})),void 0===e.iat||"number"==typeof e.iat||r(n,{path:t+".iat",expected:"(number | undefined)",value:e.iat}),void 0===e.nbf||"number"==typeof e.nbf||r(n,{path:t+".nbf",expected:"(number | undefined)",value:e.nbf}),void 0===e.exp||"number"==typeof e.exp||r(n,{path:t+".exp",expected:"(number | undefined)",value:e.exp}),void 0===e.rexp||"number"==typeof e.rexp||r(n,{path:t+".rexp",expected:"(number | undefined)",value:e.rexp}),!1===n||Object.keys(e).map((o=>{if(["iss","sub","aud","iat","nbf","exp","rexp"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),c=(e,t,n=!0)=>[!1===n||Object.keys(e).map((o=>{const s=e[o];return void 0===s||(RegExp(/(.*)/).test(o)?(null!==s||r(n,{path:t+i(o),expected:"(Array<object> | boolean | number | object | string)",value:s}))&&(void 0!==s||r(n,{path:t+i(o),expected:"(Array<object> | boolean | number | object | string)",value:s}))&&("string"==typeof s||"number"==typeof s||"boolean"==typeof s||Array.isArray(s)&&s.map(((e,s)=>("object"==typeof e&&null!==e&&!1===Array.isArray(e)||r(n,{path:t+i(o)+"["+s+"]",expected:"object",value:e}))&&u(e,t+i(o)+"["+s+"]",n)||r(n,{path:t+i(o)+"["+s+"]",expected:"object",value:e}))).every((e=>e))||"object"==typeof s&&null!==s&&!1===Array.isArray(s)&&u(s,t+i(o),n)||r(n,{path:t+i(o),expected:"(Array<object> | boolean | number | object | string)",value:s})||r(n,{path:t+i(o),expected:"(Array<object> | boolean | number | object | string)",value:s})):r(n,{path:t+i(o),expected:"undefined",value:s}))})).every((e=>e))].every((e=>e)),u=(e,t,n=!0)=>[0===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e));("object"==typeof e&&null!==e||r(!0,{path:t+"",expected:'({ type: "JWT" | "JWZ"; } & SignJWTParams | { type: "JWT" | "JWZ"; } & SignJWZParams)',value:e}))&&((e,t,n=!0)=>"JWZ"===e.type?((e,t,n=!0)=>["JWZ"===e.type||r(n,{path:t+".type",expected:'"JWZ"',value:e.type}),("object"==typeof e.data&&null!==e.data&&!1===Array.isArray(e.data)||r(n,{path:t+".data",expected:"JSONObject",value:e.data}))&&c(e.data,t+".data",n)||r(n,{path:t+".data",expected:"JSONObject",value:e.data}),2===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["type","data"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t,n):"JWT"===e.type?((e,t,n=!0)=>["JWT"===e.type||r(n,{path:t+".type",expected:'"JWT"',value:e.type}),void 0===e.data||("object"==typeof e.data&&null!==e.data&&!1===Array.isArray(e.data)||r(n,{path:t+".data",expected:"(JWTData | undefined)",value:e.data}))&&o(e.data,t+".data",n)||r(n,{path:t+".data",expected:"(JWTData | undefined)",value:e.data}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["type","data"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t,n):r(n,{path:t,expected:'({ type: "JWT" | "JWZ"; } & SignJWZParams | { type: "JWT" | "JWZ"; } & SignJWTParams)',value:e}))(e,t+"",!0)||r(!0,{path:t+"",expected:'({ type: "JWT" | "JWZ"; } & SignJWTParams | { type: "JWT" | "JWZ"; } & SignJWZParams)',value:e})})(e,"$input",!0)}const r=0===t.length;return{success:r,errors:t,data:r?e:void 0}},Hs=(e,t,r)=>{const n=(e=>{const t=[];if(!1===((e,t=!0)=>{Ls.createValidateEquals.join;const r=(e,t=!0)=>(void 0===e.id||"string"==typeof e.id)&&Object.keys(e).every((t=>!!["id"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),n=(e,t=!0)=>Object.keys(e).every((t=>void 0===e[t]||!!RegExp(/(.*)/).test(t))),i=(e,t=!0)=>"string"==typeof e.id&&"string"==typeof e.type&&Object.keys(e).every((t=>!!["id","type"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t)));return"object"==typeof e&&null!==e&&((e,t=!0)=>"object"==typeof e.minimalUnsignedCredential&&null!==e.minimalUnsignedCredential&&((e,t=!0)=>"object"==typeof e.credentialSubject&&null!==e.credentialSubject&&!1===Array.isArray(e.credentialSubject)&&r(e.credentialSubject,t)&&null!==e.type&&(void 0===e.type||"string"==typeof e.type||Array.isArray(e.type)&&e.type.every(((e,t)=>"string"==typeof e)))&&null!==e["@context"]&&void 0!==e["@context"]&&("string"==typeof e["@context"]||Array.isArray(e["@context"])&&e["@context"].every(((e,r)=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&!1===Array.isArray(e)&&n(e,t))))||"object"==typeof e["@context"]&&null!==e["@context"]&&!1===Array.isArray(e["@context"])&&n(e["@context"],t))&&(void 0===e.expirationDate||"string"==typeof e.expirationDate)&&(void 0===e.credentialStatus||"object"==typeof e.credentialStatus&&null!==e.credentialStatus&&i(e.credentialStatus,t))&&(void 0===e.id||"string"==typeof e.id)&&Object.keys(e).every((t=>!!["credentialSubject","type","@context","expirationDate","credentialStatus","id"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))))(e.minimalUnsignedCredential,t)&&(void 0===e.proofFormat||"jwt"===e.proofFormat||"lds"===e.proofFormat||"EthereumEip712Signature2021"===e.proofFormat)&&(void 0===e.options||"object"==typeof e.options&&null!==e.options&&!1===Array.isArray(e.options)&&((e,t=!0)=>(void 0===e.save||"boolean"==typeof e.save)&&null!==e.store&&(void 0===e.store||"snap"===e.store||"ceramic"===e.store||Array.isArray(e.store)&&e.store.every(((e,t)=>"snap"===e||"ceramic"===e)))&&(0===Object.keys(e).length||Object.keys(e).every((t=>!!["save","store"].some((e=>t===e))||void 0===e[t]))))(e.options,t))&&(1===Object.keys(e).length||Object.keys(e).every((t=>!!["minimalUnsignedCredential","proofFormat","options"].some((e=>t===e))||void 0===e[t]))))(e,!0)})(e)){const r=Ls.createValidateEquals.report(t);((e,t,n=!0)=>{const i=Ls.createValidateEquals.join,o=(e,t,n=!0)=>[("object"==typeof e.credentialSubject&&null!==e.credentialSubject&&!1===Array.isArray(e.credentialSubject)||r(n,{path:t+".credentialSubject",expected:"CredentialSubject",value:e.credentialSubject}))&&s(e.credentialSubject,t+".credentialSubject",n)||r(n,{path:t+".credentialSubject",expected:"CredentialSubject",value:e.credentialSubject}),(null!==e.type||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type}))&&(void 0===e.type||"string"==typeof e.type||(Array.isArray(e.type)||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type}))&&e.type.map(((e,i)=>"string"==typeof e||r(n,{path:t+".type["+i+"]",expected:"string",value:e}))).every((e=>e))||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type})),(null!==e["@context"]||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]}))&&(void 0!==e["@context"]||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]}))&&("string"==typeof e["@context"]||Array.isArray(e["@context"])&&e["@context"].map(((e,i)=>(null!==e||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&(void 0!==e||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&("string"==typeof e||("object"==typeof e&&null!==e&&!1===Array.isArray(e)||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&a(e,t+'["@context"]['+i+"]",n)||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e})))).every((e=>e))||"object"==typeof e["@context"]&&null!==e["@context"]&&!1===Array.isArray(e["@context"])&&a(e["@context"],t+'["@context"]',n)||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]})||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]})),void 0===e.expirationDate||"string"==typeof e.expirationDate||r(n,{path:t+".expirationDate",expected:"(string | undefined)",value:e.expirationDate}),void 0===e.credentialStatus||("object"==typeof e.credentialStatus&&null!==e.credentialStatus||r(n,{path:t+".credentialStatus",expected:"(CredentialStatusReference | undefined)",value:e.credentialStatus}))&&c(e.credentialStatus,t+".credentialStatus",n)||r(n,{path:t+".credentialStatus",expected:"(CredentialStatusReference | undefined)",value:e.credentialStatus}),void 0===e.id||"string"==typeof e.id||r(n,{path:t+".id",expected:"(string | undefined)",value:e.id}),!1===n||Object.keys(e).map((o=>{if(["credentialSubject","type","@context","expirationDate","credentialStatus","id"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),s=(e,t,n=!0)=>[void 0===e.id||"string"==typeof e.id||r(n,{path:t+".id",expected:"(string | undefined)",value:e.id}),!1===n||Object.keys(e).map((o=>{if(["id"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),a=(e,t,n=!0)=>[!1===n||Object.keys(e).map((o=>{const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),c=(e,t,n=!0)=>["string"==typeof e.id||r(n,{path:t+".id",expected:"string",value:e.id}),"string"==typeof e.type||r(n,{path:t+".type",expected:"string",value:e.type}),!1===n||Object.keys(e).map((o=>{if(["id","type"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),u=(e,t,n=!0)=>[void 0===e.save||"boolean"==typeof e.save||r(n,{path:t+".save",expected:"(boolean | undefined)",value:e.save}),(null!==e.store||r(n,{path:t+".store",expected:'("ceramic" | "snap" | Array<"snap" | "ceramic"> | undefined)',value:e.store}))&&(void 0===e.store||"snap"===e.store||"ceramic"===e.store||(Array.isArray(e.store)||r(n,{path:t+".store",expected:'("ceramic" | "snap" | Array<"snap" | "ceramic"> | undefined)',value:e.store}))&&e.store.map(((e,i)=>"snap"===e||"ceramic"===e||r(n,{path:t+".store["+i+"]",expected:'("ceramic" | "snap")',value:e}))).every((e=>e))||r(n,{path:t+".store",expected:'("ceramic" | "snap" | Array<"snap" | "ceramic"> | undefined)',value:e.store})),0===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["save","store"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e));("object"==typeof e&&null!==e||r(!0,{path:t+"",expected:"CreateCredentialRequestParams",value:e}))&&((e,t,n=!0)=>[("object"==typeof e.minimalUnsignedCredential&&null!==e.minimalUnsignedCredential||r(n,{path:t+".minimalUnsignedCredential",expected:"MinimalUnsignedCredential",value:e.minimalUnsignedCredential}))&&o(e.minimalUnsignedCredential,t+".minimalUnsignedCredential",n)||r(n,{path:t+".minimalUnsignedCredential",expected:"MinimalUnsignedCredential",value:e.minimalUnsignedCredential}),void 0===e.proofFormat||"jwt"===e.proofFormat||"lds"===e.proofFormat||"EthereumEip712Signature2021"===e.proofFormat||r(n,{path:t+".proofFormat",expected:'("EthereumEip712Signature2021" | "jwt" | "lds" | undefined)',value:e.proofFormat}),void 0===e.options||("object"==typeof e.options&&null!==e.options&&!1===Array.isArray(e.options)||r(n,{path:t+".options",expected:"(__type | undefined)",value:e.options}))&&u(e.options,t+".options",n)||r(n,{path:t+".options",expected:"(__type | undefined)",value:e.options}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["minimalUnsignedCredential","proofFormat","options"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t+"",!0)||r(!0,{path:t+"",expected:"CreateCredentialRequestParams",value:e})})(e,"$input",!0)}const r=0===t.length;return{success:r,errors:t,data:r?e:void 0}})(e);if(!n.success)throw new Error(Fs(n));$s(e,t,r)},Ks=e=>{const t=(e=>{const t=[];if(!1===((e,t=!0)=>{Ls.createValidateEquals.join;const r=(e,t=!0)=>"string"==typeof e.id&&Object.keys(e).every((t=>!!["id"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),n=(e,t=!0)=>(void 0===e.id||"string"==typeof e.id)&&Object.keys(e).every((t=>!!["id"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),i=(e,t=!0)=>Object.keys(e).every((t=>void 0===e[t]||!!RegExp(/(.*)/).test(t))),o=(e,t=!0)=>"string"==typeof e.id&&"string"==typeof e.type&&Object.keys(e).every((t=>!!["id","type"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),s=(e,t=!0)=>(void 0===e.type||"string"==typeof e.type)&&Object.keys(e).every((t=>!!["type"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t)));return"object"==typeof e&&null!==e&&((e,t=!0)=>Array.isArray(e.vcs)&&e.vcs.every(((e,a)=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&((e,t=!0)=>null!==e.issuer&&void 0!==e.issuer&&("string"==typeof e.issuer||"object"==typeof e.issuer&&null!==e.issuer&&r(e.issuer,t))&&"object"==typeof e.credentialSubject&&null!==e.credentialSubject&&!1===Array.isArray(e.credentialSubject)&&n(e.credentialSubject,t)&&null!==e.type&&(void 0===e.type||"string"==typeof e.type||Array.isArray(e.type)&&e.type.every(((e,t)=>"string"==typeof e)))&&null!==e["@context"]&&void 0!==e["@context"]&&("string"==typeof e["@context"]||Array.isArray(e["@context"])&&e["@context"].every(((e,r)=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&!1===Array.isArray(e)&&i(e,t))))||"object"==typeof e["@context"]&&null!==e["@context"]&&!1===Array.isArray(e["@context"])&&i(e["@context"],t))&&"string"==typeof e.issuanceDate&&(void 0===e.expirationDate||"string"==typeof e.expirationDate)&&(void 0===e.credentialStatus||"object"==typeof e.credentialStatus&&null!==e.credentialStatus&&o(e.credentialStatus,t))&&(void 0===e.id||"string"==typeof e.id)&&"object"==typeof e.proof&&null!==e.proof&&!1===Array.isArray(e.proof)&&s(e.proof,t)&&Object.keys(e).every((t=>!!["issuer","credentialSubject","type","@context","issuanceDate","expirationDate","credentialStatus","id","proof"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))))(e,t))))&&(void 0===e.proofFormat||"jwt"===e.proofFormat||"lds"===e.proofFormat||"EthereumEip712Signature2021"===e.proofFormat)&&(void 0===e.proofOptions||"object"==typeof e.proofOptions&&null!==e.proofOptions&&!1===Array.isArray(e.proofOptions)&&((e,t=!0)=>(void 0===e.type||"string"==typeof e.type)&&(void 0===e.domain||"string"==typeof e.domain)&&(void 0===e.challenge||"string"==typeof e.challenge)&&(0===Object.keys(e).length||Object.keys(e).every((t=>!!["type","domain","challenge"].some((e=>t===e))||void 0===e[t]))))(e.proofOptions,t))&&(1===Object.keys(e).length||Object.keys(e).every((t=>!!["vcs","proofFormat","proofOptions"].some((e=>t===e))||void 0===e[t]))))(e,!0)})(e)){const r=Ls.createValidateEquals.report(t);((e,t,n=!0)=>{const i=Ls.createValidateEquals.join,o=(e,t,n=!0)=>["string"==typeof e.id||r(n,{path:t+".id",expected:"string",value:e.id}),!1===n||Object.keys(e).map((o=>{if(["id"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),s=(e,t,n=!0)=>[void 0===e.id||"string"==typeof e.id||r(n,{path:t+".id",expected:"(string | undefined)",value:e.id}),!1===n||Object.keys(e).map((o=>{if(["id"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),a=(e,t,n=!0)=>[!1===n||Object.keys(e).map((o=>{const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),c=(e,t,n=!0)=>["string"==typeof e.id||r(n,{path:t+".id",expected:"string",value:e.id}),"string"==typeof e.type||r(n,{path:t+".type",expected:"string",value:e.type}),!1===n||Object.keys(e).map((o=>{if(["id","type"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),u=(e,t,n=!0)=>[void 0===e.type||"string"==typeof e.type||r(n,{path:t+".type",expected:"(string | undefined)",value:e.type}),!1===n||Object.keys(e).map((o=>{if(["type"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),f=(e,t,n=!0)=>[void 0===e.type||"string"==typeof e.type||r(n,{path:t+".type",expected:"(string | undefined)",value:e.type}),void 0===e.domain||"string"==typeof e.domain||r(n,{path:t+".domain",expected:"(string | undefined)",value:e.domain}),void 0===e.challenge||"string"==typeof e.challenge||r(n,{path:t+".challenge",expected:"(string | undefined)",value:e.challenge}),0===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["type","domain","challenge"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e));("object"==typeof e&&null!==e||r(!0,{path:t+"",expected:"CreatePresentationRequestParams",value:e}))&&((e,t,n=!0)=>[(Array.isArray(e.vcs)||r(n,{path:t+".vcs",expected:"Array<W3CVerifiableCredential>",value:e.vcs}))&&e.vcs.map(((e,f)=>(null!==e||r(n,{path:t+".vcs["+f+"]",expected:"(VerifiableCredential | string)",value:e}))&&(void 0!==e||r(n,{path:t+".vcs["+f+"]",expected:"(VerifiableCredential | string)",value:e}))&&("string"==typeof e||("object"==typeof e&&null!==e||r(n,{path:t+".vcs["+f+"]",expected:"(VerifiableCredential | string)",value:e}))&&((e,t,n=!0)=>[(null!==e.issuer||r(n,{path:t+".issuer",expected:"(__type | string)",value:e.issuer}))&&(void 0!==e.issuer||r(n,{path:t+".issuer",expected:"(__type | string)",value:e.issuer}))&&("string"==typeof e.issuer||("object"==typeof e.issuer&&null!==e.issuer||r(n,{path:t+".issuer",expected:"(__type | string)",value:e.issuer}))&&o(e.issuer,t+".issuer",n)||r(n,{path:t+".issuer",expected:"(__type | string)",value:e.issuer})),("object"==typeof e.credentialSubject&&null!==e.credentialSubject&&!1===Array.isArray(e.credentialSubject)||r(n,{path:t+".credentialSubject",expected:"CredentialSubject",value:e.credentialSubject}))&&s(e.credentialSubject,t+".credentialSubject",n)||r(n,{path:t+".credentialSubject",expected:"CredentialSubject",value:e.credentialSubject}),(null!==e.type||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type}))&&(void 0===e.type||"string"==typeof e.type||(Array.isArray(e.type)||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type}))&&e.type.map(((e,i)=>"string"==typeof e||r(n,{path:t+".type["+i+"]",expected:"string",value:e}))).every((e=>e))||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type})),(null!==e["@context"]||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]}))&&(void 0!==e["@context"]||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]}))&&("string"==typeof e["@context"]||Array.isArray(e["@context"])&&e["@context"].map(((e,i)=>(null!==e||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&(void 0!==e||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&("string"==typeof e||("object"==typeof e&&null!==e&&!1===Array.isArray(e)||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&a(e,t+'["@context"]['+i+"]",n)||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e})))).every((e=>e))||"object"==typeof e["@context"]&&null!==e["@context"]&&!1===Array.isArray(e["@context"])&&a(e["@context"],t+'["@context"]',n)||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]})||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]})),"string"==typeof e.issuanceDate||r(n,{path:t+".issuanceDate",expected:"string",value:e.issuanceDate}),void 0===e.expirationDate||"string"==typeof e.expirationDate||r(n,{path:t+".expirationDate",expected:"(string | undefined)",value:e.expirationDate}),void 0===e.credentialStatus||("object"==typeof e.credentialStatus&&null!==e.credentialStatus||r(n,{path:t+".credentialStatus",expected:"(CredentialStatusReference | undefined)",value:e.credentialStatus}))&&c(e.credentialStatus,t+".credentialStatus",n)||r(n,{path:t+".credentialStatus",expected:"(CredentialStatusReference | undefined)",value:e.credentialStatus}),void 0===e.id||"string"==typeof e.id||r(n,{path:t+".id",expected:"(string | undefined)",value:e.id}),("object"==typeof e.proof&&null!==e.proof&&!1===Array.isArray(e.proof)||r(n,{path:t+".proof",expected:"ProofType",value:e.proof}))&&u(e.proof,t+".proof",n)||r(n,{path:t+".proof",expected:"ProofType",value:e.proof}),!1===n||Object.keys(e).map((o=>{if(["issuer","credentialSubject","type","@context","issuanceDate","expirationDate","credentialStatus","id","proof"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t+".vcs["+f+"]",n)||r(n,{path:t+".vcs["+f+"]",expected:"(VerifiableCredential | string)",value:e})))).every((e=>e))||r(n,{path:t+".vcs",expected:"Array<W3CVerifiableCredential>",value:e.vcs}),void 0===e.proofFormat||"jwt"===e.proofFormat||"lds"===e.proofFormat||"EthereumEip712Signature2021"===e.proofFormat||r(n,{path:t+".proofFormat",expected:'("EthereumEip712Signature2021" | "jwt" | "lds" | undefined)',value:e.proofFormat}),void 0===e.proofOptions||("object"==typeof e.proofOptions&&null!==e.proofOptions&&!1===Array.isArray(e.proofOptions)||r(n,{path:t+".proofOptions",expected:"(ProofOptions | undefined)",value:e.proofOptions}))&&f(e.proofOptions,t+".proofOptions",n)||r(n,{path:t+".proofOptions",expected:"(ProofOptions | undefined)",value:e.proofOptions}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["vcs","proofFormat","proofOptions"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t+"",!0)||r(!0,{path:t+"",expected:"CreatePresentationRequestParams",value:e})})(e,"$input",!0)}const r=0===t.length;return{success:r,errors:t,data:r?e:void 0}})(e);if(!t.success)throw new Error(Fs(t));if(!e.vcs.length)throw new Error("invalid_argument: vcs")},Js=(e,t,r)=>{const n=(e=>{const t=[];if(!1===("object"==typeof(r=e)&&null!==r&&((e,t=!0)=>"string"==typeof e.id&&(void 0===e.options||"object"==typeof e.options&&null!==e.options&&!1===Array.isArray(e.options)&&((e,t=!0)=>null!==e.store&&(void 0===e.store||"snap"===e.store||"ceramic"===e.store||Array.isArray(e.store)&&e.store.every(((e,t)=>"snap"===e||"ceramic"===e)))&&(0===Object.keys(e).length||Object.keys(e).every((t=>!!["store"].some((e=>t===e))||void 0===e[t]))))(e.options,t))&&(1===Object.keys(e).length||Object.keys(e).every((t=>!!["id","options"].some((e=>t===e))||void 0===e[t]))))(r,!0))){const r=Ls.createValidateEquals.report(t);((e,t,n=!0)=>{const i=Ls.createValidateEquals.join,o=(e,t,n=!0)=>[(null!==e.store||r(n,{path:t+".store",expected:'("ceramic" | "snap" | Array<"snap" | "ceramic"> | undefined)',value:e.store}))&&(void 0===e.store||"snap"===e.store||"ceramic"===e.store||(Array.isArray(e.store)||r(n,{path:t+".store",expected:'("ceramic" | "snap" | Array<"snap" | "ceramic"> | undefined)',value:e.store}))&&e.store.map(((e,i)=>"snap"===e||"ceramic"===e||r(n,{path:t+".store["+i+"]",expected:'("ceramic" | "snap")',value:e}))).every((e=>e))||r(n,{path:t+".store",expected:'("ceramic" | "snap" | Array<"snap" | "ceramic"> | undefined)',value:e.store})),0===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["store"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e));("object"==typeof e&&null!==e||r(!0,{path:t+"",expected:"DeleteCredentialsRequestParams",value:e}))&&((e,t,n=!0)=>["string"==typeof e.id||r(n,{path:t+".id",expected:"string",value:e.id}),void 0===e.options||("object"==typeof e.options&&null!==e.options&&!1===Array.isArray(e.options)||r(n,{path:t+".options",expected:"(DeleteCredentialsOptions | undefined)",value:e.options}))&&o(e.options,t+".options",n)||r(n,{path:t+".options",expected:"(DeleteCredentialsOptions | undefined)",value:e.options}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["id","options"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t+"",!0)||r(!0,{path:t+"",expected:"DeleteCredentialsRequestParams",value:e})})(e,"$input",!0)}var r;const n=0===t.length;return{success:n,errors:t,data:n?e:void 0}})(e);if(!n.success)throw new Error(Fs(n));$s(e,t,r)},Ws=(e,t,r)=>{if(!e)return;const n=(e=>{const t=[];if(!1===("object"==typeof(r=e)&&null!==r&&!1===Array.isArray(r)&&((e,t=!0)=>(void 0===e.filter||"object"==typeof e.filter&&null!==e.filter&&((e,t=!0)=>("id"===e.type||"none"===e.type||"JSONPath"===e.type)&&"string"==typeof e.filter&&(2===Object.keys(e).length||Object.keys(e).every((t=>!!["type","filter"].some((e=>t===e))||void 0===e[t]))))(e.filter,t))&&(void 0===e.options||"object"==typeof e.options&&null!==e.options&&!1===Array.isArray(e.options)&&((e,t=!0)=>null!==e.store&&(void 0===e.store||"snap"===e.store||"ceramic"===e.store||Array.isArray(e.store)&&e.store.every(((e,t)=>"snap"===e||"ceramic"===e)))&&(void 0===e.returnStore||"boolean"==typeof e.returnStore)&&(0===Object.keys(e).length||Object.keys(e).every((t=>!!["store","returnStore"].some((e=>t===e))||void 0===e[t]))))(e.options,t))&&(0===Object.keys(e).length||Object.keys(e).every((t=>!!["filter","options"].some((e=>t===e))||void 0===e[t]))))(r,!0))){const r=Ls.createValidateEquals.report(t);((e,t,n=!0)=>{const i=Ls.createValidateEquals.join,o=(e,t,n=!0)=>["id"===e.type||"none"===e.type||"JSONPath"===e.type||r(n,{path:t+".type",expected:'("JSONPath" | "id" | "none")',value:e.type}),"string"==typeof e.filter||r(n,{path:t+".filter",expected:"string",value:e.filter}),2===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["type","filter"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),s=(e,t,n=!0)=>[(null!==e.store||r(n,{path:t+".store",expected:'("ceramic" | "snap" | Array<"snap" | "ceramic"> | undefined)',value:e.store}))&&(void 0===e.store||"snap"===e.store||"ceramic"===e.store||(Array.isArray(e.store)||r(n,{path:t+".store",expected:'("ceramic" | "snap" | Array<"snap" | "ceramic"> | undefined)',value:e.store}))&&e.store.map(((e,i)=>"snap"===e||"ceramic"===e||r(n,{path:t+".store["+i+"]",expected:'("ceramic" | "snap")',value:e}))).every((e=>e))||r(n,{path:t+".store",expected:'("ceramic" | "snap" | Array<"snap" | "ceramic"> | undefined)',value:e.store})),void 0===e.returnStore||"boolean"==typeof e.returnStore||r(n,{path:t+".returnStore",expected:"(boolean | undefined)",value:e.returnStore}),0===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["store","returnStore"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e));("object"==typeof e&&null!==e&&!1===Array.isArray(e)||r(!0,{path:t+"",expected:"QueryCredentialsRequestParams",value:e}))&&((e,t,n=!0)=>[void 0===e.filter||("object"==typeof e.filter&&null!==e.filter||r(n,{path:t+".filter",expected:"(Filter | undefined)",value:e.filter}))&&o(e.filter,t+".filter",n)||r(n,{path:t+".filter",expected:"(Filter | undefined)",value:e.filter}),void 0===e.options||("object"==typeof e.options&&null!==e.options&&!1===Array.isArray(e.options)||r(n,{path:t+".options",expected:"(QueryCredentialsOptions | undefined)",value:e.options}))&&s(e.options,t+".options",n)||r(n,{path:t+".options",expected:"(QueryCredentialsOptions | undefined)",value:e.options}),0===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["filter","options"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t+"",!0)||r(!0,{path:t+"",expected:"QueryCredentialsRequestParams",value:e})})(e,"$input",!0)}var r;const n=0===t.length;return{success:n,errors:t,data:n?e:void 0}})(e);if(!n.success)throw new Error(Fs(n));$s(e,t,r)},Gs=e=>{const t=(e=>{const t=[];if(!1===("object"==typeof(r=e)&&null!==r&&"string"==typeof(n=r).did&&(1===Object.keys(n).length||Object.keys(n).every((e=>!!["did"].some((t=>e===t))||void 0===n[e]))))){const r=Ls.createValidateEquals.report(t);((e,t,n=!0)=>{const i=Ls.createValidateEquals.join;("object"==typeof e&&null!==e||r(!0,{path:t+"",expected:"ResolveDIDRequestParams",value:e}))&&((e,t,n=!0)=>["string"==typeof e.did||r(n,{path:t+".did",expected:"string",value:e.did}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["did"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t+"",!0)||r(!0,{path:t+"",expected:"ResolveDIDRequestParams",value:e})})(e,"$input",!0)}var r,n;const i=0===t.length;return{success:i,errors:t,data:i?e:void 0}})(e);if(!t.success)throw new Error(Fs(t))},Zs=(e,t,r)=>{if($s(e,t,r),!S(e?.verifiableCredential)&&!_(e?.verifiableCredential))throw new Error("invalid_argument: input.verifiableCredential")},Xs=e=>{const t=(e=>{const t=[];if(!1===("object"==typeof(r=e)&&null!==r&&"string"==typeof(n=r).account&&(1===Object.keys(n).length||Object.keys(n).every((e=>!!["account"].some((t=>e===t))||void 0===n[e]))))){const r=Ls.createValidateEquals.report(t);((e,t,n=!0)=>{const i=Ls.createValidateEquals.join;("object"==typeof e&&null!==e||r(!0,{path:t+"",expected:"SetCurrentAccountRequestParams",value:e}))&&((e,t,n=!0)=>["string"==typeof e.account||r(n,{path:t+".account",expected:"string",value:e.account}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["account"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t+"",!0)||r(!0,{path:t+"",expected:"SetCurrentAccountRequestParams",value:e})})(e,"$input",!0)}var r,n;const i=0===t.length;return{success:i,errors:t,data:i?e:void 0}})(e);if(!t.success)throw new Error(Fs(t))},Qs=e=>{const t=(e=>{const t=[];if(!1===("object"==typeof(r=e)&&null!==r&&("snap"===(n=r).store||"ceramic"===n.store)&&"boolean"==typeof n.value&&(2===Object.keys(n).length||Object.keys(n).every((e=>!!["store","value"].some((t=>e===t))||void 0===n[e]))))){const r=Ls.createValidateEquals.report(t);((e,t,n=!0)=>{const i=Ls.createValidateEquals.join;("object"==typeof e&&null!==e||r(!0,{path:t+"",expected:"SetCredentialStoreRequestParams",value:e}))&&((e,t,n=!0)=>["snap"===e.store||"ceramic"===e.store||r(n,{path:t+".store",expected:'("ceramic" | "snap")',value:e.store}),"boolean"==typeof e.value||r(n,{path:t+".value",expected:"boolean",value:e.value}),2===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["store","value"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t+"",!0)||r(!0,{path:t+"",expected:"SetCredentialStoreRequestParams",value:e})})(e,"$input",!0)}var r,n;const i=0===t.length;return{success:i,errors:t,data:i?e:void 0}})(e);if(!t.success)throw new Error(Fs(t))},Ys=e=>{const t=(e=>{const t=[];if(!1===("object"==typeof(r=e)&&null!==r&&("did:ethr"===(n=r).didMethod||"did:pkh"===n.didMethod||"did:key"===n.didMethod||"did:key:jwk_jcs-pub"===n.didMethod||"did:jwk"===n.didMethod||"did:iden3"===n.didMethod||"did:polygonid"===n.didMethod)&&(1===Object.keys(n).length||Object.keys(n).every((e=>!!["didMethod"].some((t=>e===t))||void 0===n[e]))))){const r=Ls.createValidateEquals.report(t);((e,t,n=!0)=>{const i=Ls.createValidateEquals.join;("object"==typeof e&&null!==e||r(!0,{path:t+"",expected:"SwitchMethodRequestParams",value:e}))&&((e,t,n=!0)=>["did:ethr"===e.didMethod||"did:pkh"===e.didMethod||"did:key"===e.didMethod||"did:key:jwk_jcs-pub"===e.didMethod||"did:jwk"===e.didMethod||"did:iden3"===e.didMethod||"did:polygonid"===e.didMethod||r(n,{path:t+".didMethod",expected:'("did:ethr" | "did:iden3" | "did:jwk" | "did:key" | "did:key:jwk_jcs-pub" | "did:pkh" | "did:polygonid")',value:e.didMethod}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["didMethod"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t+"",!0)||r(!0,{path:t+"",expected:"SwitchMethodRequestParams",value:e})})(e,"$input",!0)}var r,n;const i=0===t.length;return{success:i,errors:t,data:i?e:void 0}})(e);if(!t.success)throw new Error(Fs(t))},ea=e=>{const t=(e=>{const t=[];if(!1===((e,t=!0)=>{Ls.createValidateEquals.join;const r=(e,t=!0)=>null!==e.issuer&&void 0!==e.issuer&&("string"==typeof e.issuer||"object"==typeof e.issuer&&null!==e.issuer&&n(e.issuer,t))&&"object"==typeof e.credentialSubject&&null!==e.credentialSubject&&!1===Array.isArray(e.credentialSubject)&&i(e.credentialSubject,t)&&null!==e.type&&(void 0===e.type||"string"==typeof e.type||Array.isArray(e.type)&&e.type.every(((e,t)=>"string"==typeof e)))&&null!==e["@context"]&&void 0!==e["@context"]&&("string"==typeof e["@context"]||Array.isArray(e["@context"])&&e["@context"].every(((e,r)=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&!1===Array.isArray(e)&&o(e,t))))||"object"==typeof e["@context"]&&null!==e["@context"]&&!1===Array.isArray(e["@context"])&&o(e["@context"],t))&&"string"==typeof e.issuanceDate&&(void 0===e.expirationDate||"string"==typeof e.expirationDate)&&(void 0===e.credentialStatus||"object"==typeof e.credentialStatus&&null!==e.credentialStatus&&s(e.credentialStatus,t))&&(void 0===e.id||"string"==typeof e.id)&&"object"==typeof e.proof&&null!==e.proof&&!1===Array.isArray(e.proof)&&a(e.proof,t)&&Object.keys(e).every((t=>!!["issuer","credentialSubject","type","@context","issuanceDate","expirationDate","credentialStatus","id","proof"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),n=(e,t=!0)=>"string"==typeof e.id&&Object.keys(e).every((t=>!!["id"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),i=(e,t=!0)=>(void 0===e.id||"string"==typeof e.id)&&Object.keys(e).every((t=>!!["id"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),o=(e,t=!0)=>Object.keys(e).every((t=>void 0===e[t]||!!RegExp(/(.*)/).test(t))),s=(e,t=!0)=>"string"==typeof e.id&&"string"==typeof e.type&&Object.keys(e).every((t=>!!["id","type"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),a=(e,t=!0)=>(void 0===e.type||"string"==typeof e.type)&&Object.keys(e).every((t=>!!["type"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),c=(e,t=!0)=>"string"==typeof e.holder&&(void 0===e.verifiableCredential||Array.isArray(e.verifiableCredential)&&e.verifiableCredential.every(((e,n)=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&r(e,t)))))&&null!==e.type&&(void 0===e.type||"string"==typeof e.type||Array.isArray(e.type)&&e.type.every(((e,t)=>"string"==typeof e)))&&null!==e["@context"]&&void 0!==e["@context"]&&("string"==typeof e["@context"]||Array.isArray(e["@context"])&&e["@context"].every(((e,r)=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&!1===Array.isArray(e)&&o(e,t))))||"object"==typeof e["@context"]&&null!==e["@context"]&&!1===Array.isArray(e["@context"])&&o(e["@context"],t))&&(void 0===e.verifier||Array.isArray(e.verifier)&&e.verifier.every(((e,t)=>"string"==typeof e)))&&(void 0===e.issuanceDate||"string"==typeof e.issuanceDate)&&(void 0===e.expirationDate||"string"==typeof e.expirationDate)&&(void 0===e.id||"string"==typeof e.id)&&"object"==typeof e.proof&&null!==e.proof&&!1===Array.isArray(e.proof)&&a(e.proof,t)&&Object.keys(e).every((t=>!!["holder","verifiableCredential","type","@context","verifier","issuanceDate","expirationDate","id","proof"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t)));return"object"==typeof e&&null!==e&&((e,t=!0)=>null!==e.presentation&&void 0!==e.presentation&&("string"==typeof e.presentation||"object"==typeof e.presentation&&null!==e.presentation&&c(e.presentation,!1))?((e,t=!0)=>null!==e.credential&&void 0===e.credential&&null!==e.presentation&&void 0!==e.presentation&&("string"==typeof e.presentation||"object"==typeof e.presentation&&null!==e.presentation&&c(e.presentation,t))&&(void 0===e.verbose||"boolean"==typeof e.verbose)&&(1===Object.keys(e).length||Object.keys(e).every((t=>!!["credential","presentation","verbose"].some((e=>t===e))||void 0===e[t]))))(e,t):!(null===e.credential||void 0===e.credential||!("string"==typeof e.credential||"object"==typeof e.credential&&null!==e.credential&&r(e.credential,!1)))&&((e,t=!0)=>null!==e.credential&&void 0!==e.credential&&("string"==typeof e.credential||"object"==typeof e.credential&&null!==e.credential&&r(e.credential,t))&&null!==e.presentation&&void 0===e.presentation&&(void 0===e.verbose||"boolean"==typeof e.verbose)&&(1===Object.keys(e).length||Object.keys(e).every((t=>!!["credential","presentation","verbose"].some((e=>t===e))||void 0===e[t]))))(e,t))(e,!0)})(e)){const r=Ls.createValidateEquals.report(t);((e,t,n=!0)=>{const i=Ls.createValidateEquals.join,o=(e,t,n=!0)=>[(null!==e.issuer||r(n,{path:t+".issuer",expected:"(__type.o1 | string)",value:e.issuer}))&&(void 0!==e.issuer||r(n,{path:t+".issuer",expected:"(__type.o1 | string)",value:e.issuer}))&&("string"==typeof e.issuer||("object"==typeof e.issuer&&null!==e.issuer||r(n,{path:t+".issuer",expected:"(__type.o1 | string)",value:e.issuer}))&&s(e.issuer,t+".issuer",n)||r(n,{path:t+".issuer",expected:"(__type.o1 | string)",value:e.issuer})),("object"==typeof e.credentialSubject&&null!==e.credentialSubject&&!1===Array.isArray(e.credentialSubject)||r(n,{path:t+".credentialSubject",expected:"CredentialSubject",value:e.credentialSubject}))&&a(e.credentialSubject,t+".credentialSubject",n)||r(n,{path:t+".credentialSubject",expected:"CredentialSubject",value:e.credentialSubject}),(null!==e.type||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type}))&&(void 0===e.type||"string"==typeof e.type||(Array.isArray(e.type)||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type}))&&e.type.map(((e,i)=>"string"==typeof e||r(n,{path:t+".type["+i+"]",expected:"string",value:e}))).every((e=>e))||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type})),(null!==e["@context"]||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]}))&&(void 0!==e["@context"]||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]}))&&("string"==typeof e["@context"]||Array.isArray(e["@context"])&&e["@context"].map(((e,i)=>(null!==e||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&(void 0!==e||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&("string"==typeof e||("object"==typeof e&&null!==e&&!1===Array.isArray(e)||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&c(e,t+'["@context"]['+i+"]",n)||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e})))).every((e=>e))||"object"==typeof e["@context"]&&null!==e["@context"]&&!1===Array.isArray(e["@context"])&&c(e["@context"],t+'["@context"]',n)||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]})||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]})),"string"==typeof e.issuanceDate||r(n,{path:t+".issuanceDate",expected:"string",value:e.issuanceDate}),void 0===e.expirationDate||"string"==typeof e.expirationDate||r(n,{path:t+".expirationDate",expected:"(string | undefined)",value:e.expirationDate}),void 0===e.credentialStatus||("object"==typeof e.credentialStatus&&null!==e.credentialStatus||r(n,{path:t+".credentialStatus",expected:"(CredentialStatusReference | undefined)",value:e.credentialStatus}))&&u(e.credentialStatus,t+".credentialStatus",n)||r(n,{path:t+".credentialStatus",expected:"(CredentialStatusReference | undefined)",value:e.credentialStatus}),void 0===e.id||"string"==typeof e.id||r(n,{path:t+".id",expected:"(string | undefined)",value:e.id}),("object"==typeof e.proof&&null!==e.proof&&!1===Array.isArray(e.proof)||r(n,{path:t+".proof",expected:"ProofType",value:e.proof}))&&f(e.proof,t+".proof",n)||r(n,{path:t+".proof",expected:"ProofType",value:e.proof}),!1===n||Object.keys(e).map((o=>{if(["issuer","credentialSubject","type","@context","issuanceDate","expirationDate","credentialStatus","id","proof"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),s=(e,t,n=!0)=>["string"==typeof e.id||r(n,{path:t+".id",expected:"string",value:e.id}),!1===n||Object.keys(e).map((o=>{if(["id"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),a=(e,t,n=!0)=>[void 0===e.id||"string"==typeof e.id||r(n,{path:t+".id",expected:"(string | undefined)",value:e.id}),!1===n||Object.keys(e).map((o=>{if(["id"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),c=(e,t,n=!0)=>[!1===n||Object.keys(e).map((o=>{const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),u=(e,t,n=!0)=>["string"==typeof e.id||r(n,{path:t+".id",expected:"string",value:e.id}),"string"==typeof e.type||r(n,{path:t+".type",expected:"string",value:e.type}),!1===n||Object.keys(e).map((o=>{if(["id","type"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),f=(e,t,n=!0)=>[void 0===e.type||"string"==typeof e.type||r(n,{path:t+".type",expected:"(string | undefined)",value:e.type}),!1===n||Object.keys(e).map((o=>{if(["type"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),d=(e,t,n=!0)=>["string"==typeof e.holder||r(n,{path:t+".holder",expected:"string",value:e.holder}),void 0===e.verifiableCredential||(Array.isArray(e.verifiableCredential)||r(n,{path:t+".verifiableCredential",expected:"(Array<W3CVerifiableCredential> | undefined)",value:e.verifiableCredential}))&&e.verifiableCredential.map(((e,i)=>(null!==e||r(n,{path:t+".verifiableCredential["+i+"]",expected:"(VerifiableCredential | string)",value:e}))&&(void 0!==e||r(n,{path:t+".verifiableCredential["+i+"]",expected:"(VerifiableCredential | string)",value:e}))&&("string"==typeof e||("object"==typeof e&&null!==e||r(n,{path:t+".verifiableCredential["+i+"]",expected:"(VerifiableCredential | string)",value:e}))&&o(e,t+".verifiableCredential["+i+"]",n)||r(n,{path:t+".verifiableCredential["+i+"]",expected:"(VerifiableCredential | string)",value:e})))).every((e=>e))||r(n,{path:t+".verifiableCredential",expected:"(Array<W3CVerifiableCredential> | undefined)",value:e.verifiableCredential}),(null!==e.type||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type}))&&(void 0===e.type||"string"==typeof e.type||(Array.isArray(e.type)||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type}))&&e.type.map(((e,i)=>"string"==typeof e||r(n,{path:t+".type["+i+"]",expected:"string",value:e}))).every((e=>e))||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type})),(null!==e["@context"]||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]}))&&(void 0!==e["@context"]||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]}))&&("string"==typeof e["@context"]||Array.isArray(e["@context"])&&e["@context"].map(((e,i)=>(null!==e||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&(void 0!==e||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&("string"==typeof e||("object"==typeof e&&null!==e&&!1===Array.isArray(e)||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&c(e,t+'["@context"]['+i+"]",n)||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e})))).every((e=>e))||"object"==typeof e["@context"]&&null!==e["@context"]&&!1===Array.isArray(e["@context"])&&c(e["@context"],t+'["@context"]',n)||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]})||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]})),void 0===e.verifier||(Array.isArray(e.verifier)||r(n,{path:t+".verifier",expected:"(Array<string> | undefined)",value:e.verifier}))&&e.verifier.map(((e,i)=>"string"==typeof e||r(n,{path:t+".verifier["+i+"]",expected:"string",value:e}))).every((e=>e))||r(n,{path:t+".verifier",expected:"(Array<string> | undefined)",value:e.verifier}),void 0===e.issuanceDate||"string"==typeof e.issuanceDate||r(n,{path:t+".issuanceDate",expected:"(string | undefined)",value:e.issuanceDate}),void 0===e.expirationDate||"string"==typeof e.expirationDate||r(n,{path:t+".expirationDate",expected:"(string | undefined)",value:e.expirationDate}),void 0===e.id||"string"==typeof e.id||r(n,{path:t+".id",expected:"(string | undefined)",value:e.id}),("object"==typeof e.proof&&null!==e.proof&&!1===Array.isArray(e.proof)||r(n,{path:t+".proof",expected:"ProofType",value:e.proof}))&&f(e.proof,t+".proof",n)||r(n,{path:t+".proof",expected:"ProofType",value:e.proof}),!1===n||Object.keys(e).map((o=>{if(["holder","verifiableCredential","type","@context","verifier","issuanceDate","expirationDate","id","proof"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e));("object"==typeof e&&null!==e||r(!0,{path:t+"",expected:"(__type | __type.o2)",value:e}))&&((e,t,n=!0)=>null!==e.presentation&&void 0!==e.presentation&&("string"==typeof e.presentation||"object"==typeof e.presentation&&null!==e.presentation&&d(e.presentation,t+".presentation",!1))?((e,t,n=!0)=>[(null!==e.credential||r(n,{path:t+".credential",expected:"undefined",value:e.credential}))&&(void 0===e.credential||r(n,{path:t+".credential",expected:"undefined",value:e.credential})),(null!==e.presentation||r(n,{path:t+".presentation",expected:"(VerifiablePresentation | string)",value:e.presentation}))&&(void 0!==e.presentation||r(n,{path:t+".presentation",expected:"(VerifiablePresentation | string)",value:e.presentation}))&&("string"==typeof e.presentation||("object"==typeof e.presentation&&null!==e.presentation||r(n,{path:t+".presentation",expected:"(VerifiablePresentation | string)",value:e.presentation}))&&d(e.presentation,t+".presentation",n)||r(n,{path:t+".presentation",expected:"(VerifiablePresentation | string)",value:e.presentation})),void 0===e.verbose||"boolean"==typeof e.verbose||r(n,{path:t+".verbose",expected:"(boolean | undefined)",value:e.verbose}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["credential","presentation","verbose"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t,n):null!==e.credential&&void 0!==e.credential&&("string"==typeof e.credential||"object"==typeof e.credential&&null!==e.credential&&o(e.credential,t+".credential",!1))?((e,t,n=!0)=>[(null!==e.credential||r(n,{path:t+".credential",expected:"(VerifiableCredential | string)",value:e.credential}))&&(void 0!==e.credential||r(n,{path:t+".credential",expected:"(VerifiableCredential | string)",value:e.credential}))&&("string"==typeof e.credential||("object"==typeof e.credential&&null!==e.credential||r(n,{path:t+".credential",expected:"(VerifiableCredential | string)",value:e.credential}))&&o(e.credential,t+".credential",n)||r(n,{path:t+".credential",expected:"(VerifiableCredential | string)",value:e.credential})),(null!==e.presentation||r(n,{path:t+".presentation",expected:"undefined",value:e.presentation}))&&(void 0===e.presentation||r(n,{path:t+".presentation",expected:"undefined",value:e.presentation})),void 0===e.verbose||"boolean"==typeof e.verbose||r(n,{path:t+".verbose",expected:"(boolean | undefined)",value:e.verbose}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["credential","presentation","verbose"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t,n):r(n,{path:t,expected:"(__type.o2 | __type)",value:e}))(e,t+"",!0)||r(!0,{path:t+"",expected:"(__type | __type.o2)",value:e})})(e,"$input",!0)}const r=0===t.length;return{success:r,errors:t,data:r?e:void 0}})(e);if(!t.success)throw new Error(Fs(t))},ta=e=>{if(e&&(!e.serializedState||"string"!=typeof e.serializedState))throw new Error("invalid_argument: input.serializedState")},ra=e=>{const t=(e=>{const t=[];if(!1===((e,t=!0)=>{Ls.createValidateEquals.join;const r=(e,t=!0)=>Object.keys(e).every((r=>{const i=e[r];return void 0===i||!!RegExp(/(.*)/).test(r)&&"object"==typeof i&&null!==i&&n(i,t)})),n=(e,t=!0)=>"object"==typeof e.polygon&&null!==e.polygon&&i(e.polygon,t)&&"object"==typeof e.veramo&&null!==e.veramo&&d(e.veramo,t)&&"object"==typeof e.general&&null!==e.general&&m(e.general,t)&&(3===Object.keys(e).length||Object.keys(e).every((t=>!!["polygon","veramo","general"].some((e=>t===e))||void 0===e[t]))),i=(e,t=!0)=>"object"==typeof e.state&&null!==e.state&&o(e.state,t)&&(1===Object.keys(e).length||Object.keys(e).every((t=>!!["state"].some((e=>t===e))||void 0===e[t]))),o=(e,t=!0)=>"object"==typeof e.iden3&&null!==e.iden3&&s(e.iden3,t)&&"object"==typeof e.polygonid&&null!==e.polygonid&&s(e.polygonid,t)&&(2===Object.keys(e).length||Object.keys(e).every((t=>!!["iden3","polygonid"].some((e=>t===e))||void 0===e[t]))),s=(e,t=!0)=>"object"==typeof e.eth&&null!==e.eth&&a(e.eth,t)&&"object"==typeof e.polygon&&null!==e.polygon&&a(e.polygon,t)&&(2===Object.keys(e).length||Object.keys(e).every((t=>!!["eth","polygon"].some((e=>t===e))||void 0===e[t]))),a=(e,t=!0)=>"object"==typeof e.main&&null!==e.main&&c(e.main,t)&&"object"==typeof e.mumbai&&null!==e.mumbai&&c(e.mumbai,t)&&"object"==typeof e.goerli&&null!==e.goerli&&c(e.goerli,t)&&(3===Object.keys(e).length||Object.keys(e).every((t=>!!["main","mumbai","goerli"].some((e=>t===e))||void 0===e[t]))),c=(e,t=!0)=>"object"==typeof e.credentials&&null!==e.credentials&&!1===Array.isArray(e.credentials)&&u(e.credentials,t)&&"object"==typeof e.identities&&null!==e.identities&&!1===Array.isArray(e.identities)&&u(e.identities,t)&&"object"==typeof e.profiles&&null!==e.profiles&&!1===Array.isArray(e.profiles)&&u(e.profiles,t)&&Array.isArray(e.merkleTreeMeta)&&e.merkleTreeMeta.every(((e,r)=>"object"==typeof e&&null!==e&&f(e,t)))&&"object"==typeof e.merkleTree&&null!==e.merkleTree&&!1===Array.isArray(e.merkleTree)&&u(e.merkleTree,t)&&(5===Object.keys(e).length||Object.keys(e).every((t=>!!["credentials","identities","profiles","merkleTreeMeta","merkleTree"].some((e=>t===e))||void 0===e[t]))),u=(e,t=!0)=>Object.keys(e).every((t=>{const r=e[t];return void 0===r||!!RegExp(/(.*)/).test(t)&&"string"==typeof r})),f=(e,t=!0)=>"string"==typeof e.treeId&&"string"==typeof e.identifier&&(0===e.type||1===e.type||2===e.type)&&(3===Object.keys(e).length||Object.keys(e).every((t=>!!["treeId","identifier","type"].some((e=>t===e))||void 0===e[t]))),d=(e,t=!0)=>"object"==typeof e.credentials&&null!==e.credentials&&!1===Array.isArray(e.credentials)&&h(e.credentials,t)&&(1===Object.keys(e).length||Object.keys(e).every((t=>!!["credentials"].some((e=>t===e))||void 0===e[t]))),h=(e,t=!0)=>Object.keys(e).every((r=>{const n=e[r];return void 0===n||!!RegExp(/(.*)/).test(r)&&null!=n&&("string"==typeof n||"object"==typeof n&&null!==n&&l(n,t))})),l=(e,t=!0)=>null!==e.issuer&&void 0!==e.issuer&&("string"==typeof e.issuer||"object"==typeof e.issuer&&null!==e.issuer&&p(e.issuer,t))&&"object"==typeof e.credentialSubject&&null!==e.credentialSubject&&!1===Array.isArray(e.credentialSubject)&&y(e.credentialSubject,t)&&null!==e.type&&(void 0===e.type||"string"==typeof e.type||Array.isArray(e.type)&&e.type.every(((e,t)=>"string"==typeof e)))&&null!==e["@context"]&&void 0!==e["@context"]&&("string"==typeof e["@context"]||Array.isArray(e["@context"])&&e["@context"].every(((e,r)=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&!1===Array.isArray(e)&&b(e,t))))||"object"==typeof e["@context"]&&null!==e["@context"]&&!1===Array.isArray(e["@context"])&&b(e["@context"],t))&&"string"==typeof e.issuanceDate&&(void 0===e.expirationDate||"string"==typeof e.expirationDate)&&(void 0===e.credentialStatus||"object"==typeof e.credentialStatus&&null!==e.credentialStatus&&g(e.credentialStatus,t))&&(void 0===e.id||"string"==typeof e.id)&&"object"==typeof e.proof&&null!==e.proof&&!1===Array.isArray(e.proof)&&v(e.proof,t)&&Object.keys(e).every((t=>!!["issuer","credentialSubject","type","@context","issuanceDate","expirationDate","credentialStatus","id","proof"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),p=(e,t=!0)=>"string"==typeof e.id&&Object.keys(e).every((t=>!!["id"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),y=(e,t=!0)=>(void 0===e.id||"string"==typeof e.id)&&Object.keys(e).every((t=>!!["id"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),b=(e,t=!0)=>Object.keys(e).every((t=>void 0===e[t]||!!RegExp(/(.*)/).test(t))),g=(e,t=!0)=>"string"==typeof e.id&&"string"==typeof e.type&&Object.keys(e).every((t=>!!["id","type"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),v=(e,t=!0)=>(void 0===e.type||"string"==typeof e.type)&&Object.keys(e).every((t=>!!["type"].some((e=>t===e))||void 0===e[t]||!!RegExp(/(.*)/).test(t))),m=(e,t=!0)=>"object"==typeof e.account&&null!==e.account&&w(e.account,t)&&(void 0===e.ceramicSession||"string"==typeof e.ceramicSession)&&(1===Object.keys(e).length||Object.keys(e).every((t=>!!["account","ceramicSession"].some((e=>t===e))||void 0===e[t]))),w=(e,t=!0)=>"object"==typeof e.ssi&&null!==e.ssi&&x(e.ssi,t)&&(1===Object.keys(e).length||Object.keys(e).every((t=>!!["ssi"].some((e=>t===e))||void 0===e[t]))),x=(e,t=!0)=>("did:ethr"===e.selectedMethod||"did:pkh"===e.selectedMethod||"did:key"===e.selectedMethod||"did:key:jwk_jcs-pub"===e.selectedMethod||"did:jwk"===e.selectedMethod||"did:iden3"===e.selectedMethod||"did:polygonid"===e.selectedMethod)&&"object"==typeof e.storesEnabled&&null!==e.storesEnabled&&A(e.storesEnabled,t)&&(2===Object.keys(e).length||Object.keys(e).every((t=>!!["selectedMethod","storesEnabled"].some((e=>t===e))||void 0===e[t]))),A=(e,t=!0)=>"boolean"==typeof e.snap&&"boolean"==typeof e.ceramic&&(2===Object.keys(e).length||Object.keys(e).every((t=>!!["snap","ceramic"].some((e=>t===e))||void 0===e[t]))),E=(e,t=!0)=>"object"==typeof e.snap&&null!==e.snap&&M(e.snap,t)&&"object"==typeof e.dApp&&null!==e.dApp&&S(e.dApp,t)&&(2===Object.keys(e).length||Object.keys(e).every((t=>!!["snap","dApp"].some((e=>t===e))||void 0===e[t]))),M=(e,t=!0)=>"boolean"==typeof e.acceptedTerms&&(1===Object.keys(e).length||Object.keys(e).every((t=>!!["acceptedTerms"].some((e=>t===e))||void 0===e[t]))),S=(e,t=!0)=>"boolean"==typeof e.disablePopups&&Array.isArray(e.friendlyDapps)&&e.friendlyDapps.every(((e,t)=>"string"==typeof e))&&(2===Object.keys(e).length||Object.keys(e).every((t=>!!["disablePopups","friendlyDapps"].some((e=>t===e))||void 0===e[t])));return"object"==typeof e&&null!==e&&((e,t=!0)=>"object"==typeof e.v1&&null!==e.v1&&((e,t=!0)=>"object"==typeof e.accountState&&null!==e.accountState&&!1===Array.isArray(e.accountState)&&r(e.accountState,t)&&"string"==typeof e.currentAccount&&"object"==typeof e.config&&null!==e.config&&E(e.config,t)&&(3===Object.keys(e).length||Object.keys(e).every((t=>!!["accountState","currentAccount","config"].some((e=>t===e))||void 0===e[t]))))(e.v1,t)&&(1===Object.keys(e).length||Object.keys(e).every((t=>!!["v1"].some((e=>t===e))||void 0===e[t]))))(e,!0)})(e)){const r=Ls.createValidateEquals.report(t);((e,t,n=!0)=>{const i=Ls.createValidateEquals.join,o=(e,t,n=!0)=>[("object"==typeof e.accountState&&null!==e.accountState&&!1===Array.isArray(e.accountState)||r(n,{path:t+".accountState",expected:"Record<string, MascaAccountState>",value:e.accountState}))&&s(e.accountState,t+".accountState",n)||r(n,{path:t+".accountState",expected:"Record<string, MascaAccountState>",value:e.accountState}),"string"==typeof e.currentAccount||r(n,{path:t+".currentAccount",expected:"string",value:e.currentAccount}),("object"==typeof e.config&&null!==e.config||r(n,{path:t+".config",expected:"MascaConfig",value:e.config}))&&I(e.config,t+".config",n)||r(n,{path:t+".config",expected:"MascaConfig",value:e.config}),3===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["accountState","currentAccount","config"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),s=(e,t,n=!0)=>[!1===n||Object.keys(e).map((o=>{const s=e[o];return void 0===s||(RegExp(/(.*)/).test(o)?("object"==typeof s&&null!==s||r(n,{path:t+i(o),expected:"MascaAccountState",value:s}))&&a(s,t+i(o),n)||r(n,{path:t+i(o),expected:"MascaAccountState",value:s}):r(n,{path:t+i(o),expected:"undefined",value:s}))})).every((e=>e))].every((e=>e)),a=(e,t,n=!0)=>[("object"==typeof e.polygon&&null!==e.polygon||r(n,{path:t+".polygon",expected:"__type.o1",value:e.polygon}))&&c(e.polygon,t+".polygon",n)||r(n,{path:t+".polygon",expected:"__type.o1",value:e.polygon}),("object"==typeof e.veramo&&null!==e.veramo||r(n,{path:t+".veramo",expected:"__type.o2",value:e.veramo}))&&y(e.veramo,t+".veramo",n)||r(n,{path:t+".veramo",expected:"__type.o2",value:e.veramo}),("object"==typeof e.general&&null!==e.general||r(n,{path:t+".general",expected:"__type.o4",value:e.general}))&&E(e.general,t+".general",n)||r(n,{path:t+".general",expected:"__type.o4",value:e.general}),3===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["polygon","veramo","general"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),c=(e,t,n=!0)=>[("object"==typeof e.state&&null!==e.state||r(n,{path:t+".state",expected:"PolygonState",value:e.state}))&&u(e.state,t+".state",n)||r(n,{path:t+".state",expected:"PolygonState",value:e.state}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["state"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),u=(e,t,n=!0)=>[("object"==typeof e.iden3&&null!==e.iden3||r(n,{path:t+".iden3",expected:"Record<Blockchain.Ethereum | Blockchain.Polygon, Record<NetworkId.Main | NetworkId.Mumbai | NetworkId.Goerli, PolygonBaseState>>",value:e.iden3}))&&f(e.iden3,t+".iden3",n)||r(n,{path:t+".iden3",expected:"Record<Blockchain.Ethereum | Blockchain.Polygon, Record<NetworkId.Main | NetworkId.Mumbai | NetworkId.Goerli, PolygonBaseState>>",value:e.iden3}),("object"==typeof e.polygonid&&null!==e.polygonid||r(n,{path:t+".polygonid",expected:"Record<Blockchain.Ethereum | Blockchain.Polygon, Record<NetworkId.Main | NetworkId.Mumbai | NetworkId.Goerli, PolygonBaseState>>",value:e.polygonid}))&&f(e.polygonid,t+".polygonid",n)||r(n,{path:t+".polygonid",expected:"Record<Blockchain.Ethereum | Blockchain.Polygon, Record<NetworkId.Main | NetworkId.Mumbai | NetworkId.Goerli, PolygonBaseState>>",value:e.polygonid}),2===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["iden3","polygonid"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),f=(e,t,n=!0)=>[("object"==typeof e.eth&&null!==e.eth||r(n,{path:t+".eth",expected:"Record<NetworkId.Main | NetworkId.Mumbai | NetworkId.Goerli, PolygonBaseState>",value:e.eth}))&&d(e.eth,t+".eth",n)||r(n,{path:t+".eth",expected:"Record<NetworkId.Main | NetworkId.Mumbai | NetworkId.Goerli, PolygonBaseState>",value:e.eth}),("object"==typeof e.polygon&&null!==e.polygon||r(n,{path:t+".polygon",expected:"Record<NetworkId.Main | NetworkId.Mumbai | NetworkId.Goerli, PolygonBaseState>",value:e.polygon}))&&d(e.polygon,t+".polygon",n)||r(n,{path:t+".polygon",expected:"Record<NetworkId.Main | NetworkId.Mumbai | NetworkId.Goerli, PolygonBaseState>",value:e.polygon}),2===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["eth","polygon"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),d=(e,t,n=!0)=>[("object"==typeof e.main&&null!==e.main||r(n,{path:t+".main",expected:"PolygonBaseState",value:e.main}))&&h(e.main,t+".main",n)||r(n,{path:t+".main",expected:"PolygonBaseState",value:e.main}),("object"==typeof e.mumbai&&null!==e.mumbai||r(n,{path:t+".mumbai",expected:"PolygonBaseState",value:e.mumbai}))&&h(e.mumbai,t+".mumbai",n)||r(n,{path:t+".mumbai",expected:"PolygonBaseState",value:e.mumbai}),("object"==typeof e.goerli&&null!==e.goerli||r(n,{path:t+".goerli",expected:"PolygonBaseState",value:e.goerli}))&&h(e.goerli,t+".goerli",n)||r(n,{path:t+".goerli",expected:"PolygonBaseState",value:e.goerli}),3===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["main","mumbai","goerli"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),h=(e,t,n=!0)=>[("object"==typeof e.credentials&&null!==e.credentials&&!1===Array.isArray(e.credentials)||r(n,{path:t+".credentials",expected:"Record<string, string>",value:e.credentials}))&&l(e.credentials,t+".credentials",n)||r(n,{path:t+".credentials",expected:"Record<string, string>",value:e.credentials}),("object"==typeof e.identities&&null!==e.identities&&!1===Array.isArray(e.identities)||r(n,{path:t+".identities",expected:"Record<string, string>",value:e.identities}))&&l(e.identities,t+".identities",n)||r(n,{path:t+".identities",expected:"Record<string, string>",value:e.identities}),("object"==typeof e.profiles&&null!==e.profiles&&!1===Array.isArray(e.profiles)||r(n,{path:t+".profiles",expected:"Record<string, string>",value:e.profiles}))&&l(e.profiles,t+".profiles",n)||r(n,{path:t+".profiles",expected:"Record<string, string>",value:e.profiles}),(Array.isArray(e.merkleTreeMeta)||r(n,{path:t+".merkleTreeMeta",expected:"Array<IdentityMerkleTreeMetaInformation>",value:e.merkleTreeMeta}))&&e.merkleTreeMeta.map(((e,i)=>("object"==typeof e&&null!==e||r(n,{path:t+".merkleTreeMeta["+i+"]",expected:"IdentityMerkleTreeMetaInformation",value:e}))&&p(e,t+".merkleTreeMeta["+i+"]",n)||r(n,{path:t+".merkleTreeMeta["+i+"]",expected:"IdentityMerkleTreeMetaInformation",value:e}))).every((e=>e))||r(n,{path:t+".merkleTreeMeta",expected:"Array<IdentityMerkleTreeMetaInformation>",value:e.merkleTreeMeta}),("object"==typeof e.merkleTree&&null!==e.merkleTree&&!1===Array.isArray(e.merkleTree)||r(n,{path:t+".merkleTree",expected:"Record<string, string>",value:e.merkleTree}))&&l(e.merkleTree,t+".merkleTree",n)||r(n,{path:t+".merkleTree",expected:"Record<string, string>",value:e.merkleTree}),5===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["credentials","identities","profiles","merkleTreeMeta","merkleTree"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),l=(e,t,n=!0)=>[!1===n||Object.keys(e).map((o=>{const s=e[o];return void 0===s||(RegExp(/(.*)/).test(o)?"string"==typeof s||r(n,{path:t+i(o),expected:"string",value:s}):r(n,{path:t+i(o),expected:"undefined",value:s}))})).every((e=>e))].every((e=>e)),p=(e,t,n=!0)=>["string"==typeof e.treeId||r(n,{path:t+".treeId",expected:"string",value:e.treeId}),"string"==typeof e.identifier||r(n,{path:t+".identifier",expected:"string",value:e.identifier}),0===e.type||1===e.type||2===e.type||r(n,{path:t+".type",expected:"(0 | 1 | 2)",value:e.type}),3===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["treeId","identifier","type"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),y=(e,t,n=!0)=>[("object"==typeof e.credentials&&null!==e.credentials&&!1===Array.isArray(e.credentials)||r(n,{path:t+".credentials",expected:"Record<string, W3CVerifiableCredential>",value:e.credentials}))&&b(e.credentials,t+".credentials",n)||r(n,{path:t+".credentials",expected:"Record<string, W3CVerifiableCredential>",value:e.credentials}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["credentials"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),b=(e,t,n=!0)=>[!1===n||Object.keys(e).map((o=>{const s=e[o];return void 0===s||(RegExp(/(.*)/).test(o)?(null!==s||r(n,{path:t+i(o),expected:"(VerifiableCredential | string)",value:s}))&&(void 0!==s||r(n,{path:t+i(o),expected:"(VerifiableCredential | string)",value:s}))&&("string"==typeof s||("object"==typeof s&&null!==s||r(n,{path:t+i(o),expected:"(VerifiableCredential | string)",value:s}))&&g(s,t+i(o),n)||r(n,{path:t+i(o),expected:"(VerifiableCredential | string)",value:s})):r(n,{path:t+i(o),expected:"undefined",value:s}))})).every((e=>e))].every((e=>e)),g=(e,t,n=!0)=>[(null!==e.issuer||r(n,{path:t+".issuer",expected:"(__type.o3 | string)",value:e.issuer}))&&(void 0!==e.issuer||r(n,{path:t+".issuer",expected:"(__type.o3 | string)",value:e.issuer}))&&("string"==typeof e.issuer||("object"==typeof e.issuer&&null!==e.issuer||r(n,{path:t+".issuer",expected:"(__type.o3 | string)",value:e.issuer}))&&v(e.issuer,t+".issuer",n)||r(n,{path:t+".issuer",expected:"(__type.o3 | string)",value:e.issuer})),("object"==typeof e.credentialSubject&&null!==e.credentialSubject&&!1===Array.isArray(e.credentialSubject)||r(n,{path:t+".credentialSubject",expected:"CredentialSubject",value:e.credentialSubject}))&&m(e.credentialSubject,t+".credentialSubject",n)||r(n,{path:t+".credentialSubject",expected:"CredentialSubject",value:e.credentialSubject}),(null!==e.type||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type}))&&(void 0===e.type||"string"==typeof e.type||(Array.isArray(e.type)||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type}))&&e.type.map(((e,i)=>"string"==typeof e||r(n,{path:t+".type["+i+"]",expected:"string",value:e}))).every((e=>e))||r(n,{path:t+".type",expected:"(Array<string> | string | undefined)",value:e.type})),(null!==e["@context"]||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]}))&&(void 0!==e["@context"]||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]}))&&("string"==typeof e["@context"]||Array.isArray(e["@context"])&&e["@context"].map(((e,i)=>(null!==e||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&(void 0!==e||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&("string"==typeof e||("object"==typeof e&&null!==e&&!1===Array.isArray(e)||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e}))&&w(e,t+'["@context"]['+i+"]",n)||r(n,{path:t+'["@context"]['+i+"]",expected:"(Record<string, any> | string)",value:e})))).every((e=>e))||"object"==typeof e["@context"]&&null!==e["@context"]&&!1===Array.isArray(e["@context"])&&w(e["@context"],t+'["@context"]',n)||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]})||r(n,{path:t+'["@context"]',expected:"(Array<string | Record<string, any>> | Record<string, any> | string)",value:e["@context"]})),"string"==typeof e.issuanceDate||r(n,{path:t+".issuanceDate",expected:"string",value:e.issuanceDate}),void 0===e.expirationDate||"string"==typeof e.expirationDate||r(n,{path:t+".expirationDate",expected:"(string | undefined)",value:e.expirationDate}),void 0===e.credentialStatus||("object"==typeof e.credentialStatus&&null!==e.credentialStatus||r(n,{path:t+".credentialStatus",expected:"(CredentialStatusReference | undefined)",value:e.credentialStatus}))&&x(e.credentialStatus,t+".credentialStatus",n)||r(n,{path:t+".credentialStatus",expected:"(CredentialStatusReference | undefined)",value:e.credentialStatus}),void 0===e.id||"string"==typeof e.id||r(n,{path:t+".id",expected:"(string | undefined)",value:e.id}),("object"==typeof e.proof&&null!==e.proof&&!1===Array.isArray(e.proof)||r(n,{path:t+".proof",expected:"ProofType",value:e.proof}))&&A(e.proof,t+".proof",n)||r(n,{path:t+".proof",expected:"ProofType",value:e.proof}),!1===n||Object.keys(e).map((o=>{if(["issuer","credentialSubject","type","@context","issuanceDate","expirationDate","credentialStatus","id","proof"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),v=(e,t,n=!0)=>["string"==typeof e.id||r(n,{path:t+".id",expected:"string",value:e.id}),!1===n||Object.keys(e).map((o=>{if(["id"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),m=(e,t,n=!0)=>[void 0===e.id||"string"==typeof e.id||r(n,{path:t+".id",expected:"(string | undefined)",value:e.id}),!1===n||Object.keys(e).map((o=>{if(["id"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),w=(e,t,n=!0)=>[!1===n||Object.keys(e).map((o=>{const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),x=(e,t,n=!0)=>["string"==typeof e.id||r(n,{path:t+".id",expected:"string",value:e.id}),"string"==typeof e.type||r(n,{path:t+".type",expected:"string",value:e.type}),!1===n||Object.keys(e).map((o=>{if(["id","type"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),A=(e,t,n=!0)=>[void 0===e.type||"string"==typeof e.type||r(n,{path:t+".type",expected:"(string | undefined)",value:e.type}),!1===n||Object.keys(e).map((o=>{if(["type"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||!!RegExp(/(.*)/).test(o)||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),E=(e,t,n=!0)=>[("object"==typeof e.account&&null!==e.account||r(n,{path:t+".account",expected:"MascaAccountConfig",value:e.account}))&&M(e.account,t+".account",n)||r(n,{path:t+".account",expected:"MascaAccountConfig",value:e.account}),void 0===e.ceramicSession||"string"==typeof e.ceramicSession||r(n,{path:t+".ceramicSession",expected:"(string | undefined)",value:e.ceramicSession}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["account","ceramicSession"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),M=(e,t,n=!0)=>[("object"==typeof e.ssi&&null!==e.ssi||r(n,{path:t+".ssi",expected:"__type.o5",value:e.ssi}))&&S(e.ssi,t+".ssi",n)||r(n,{path:t+".ssi",expected:"__type.o5",value:e.ssi}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["ssi"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),S=(e,t,n=!0)=>["did:ethr"===e.selectedMethod||"did:pkh"===e.selectedMethod||"did:key"===e.selectedMethod||"did:key:jwk_jcs-pub"===e.selectedMethod||"did:jwk"===e.selectedMethod||"did:iden3"===e.selectedMethod||"did:polygonid"===e.selectedMethod||r(n,{path:t+".selectedMethod",expected:'("did:ethr" | "did:iden3" | "did:jwk" | "did:key" | "did:key:jwk_jcs-pub" | "did:pkh" | "did:polygonid")',value:e.selectedMethod}),("object"==typeof e.storesEnabled&&null!==e.storesEnabled||r(n,{path:t+".storesEnabled",expected:'Record<"snap" | "ceramic", boolean>',value:e.storesEnabled}))&&_(e.storesEnabled,t+".storesEnabled",n)||r(n,{path:t+".storesEnabled",expected:'Record<"snap" | "ceramic", boolean>',value:e.storesEnabled}),2===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["selectedMethod","storesEnabled"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),_=(e,t,n=!0)=>["boolean"==typeof e.snap||r(n,{path:t+".snap",expected:"boolean",value:e.snap}),"boolean"==typeof e.ceramic||r(n,{path:t+".ceramic",expected:"boolean",value:e.ceramic}),2===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["snap","ceramic"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),I=(e,t,n=!0)=>[("object"==typeof e.snap&&null!==e.snap||r(n,{path:t+".snap",expected:"__type.o6",value:e.snap}))&&k(e.snap,t+".snap",n)||r(n,{path:t+".snap",expected:"__type.o6",value:e.snap}),("object"==typeof e.dApp&&null!==e.dApp||r(n,{path:t+".dApp",expected:"__type.o7",value:e.dApp}))&&j(e.dApp,t+".dApp",n)||r(n,{path:t+".dApp",expected:"__type.o7",value:e.dApp}),2===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["snap","dApp"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),k=(e,t,n=!0)=>["boolean"==typeof e.acceptedTerms||r(n,{path:t+".acceptedTerms",expected:"boolean",value:e.acceptedTerms}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["acceptedTerms"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)),j=(e,t,n=!0)=>["boolean"==typeof e.disablePopups||r(n,{path:t+".disablePopups",expected:"boolean",value:e.disablePopups}),(Array.isArray(e.friendlyDapps)||r(n,{path:t+".friendlyDapps",expected:"Array<string>",value:e.friendlyDapps}))&&e.friendlyDapps.map(((e,i)=>"string"==typeof e||r(n,{path:t+".friendlyDapps["+i+"]",expected:"string",value:e}))).every((e=>e))||r(n,{path:t+".friendlyDapps",expected:"Array<string>",value:e.friendlyDapps}),2===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["disablePopups","friendlyDapps"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e));("object"==typeof e&&null!==e||r(!0,{path:t+"",expected:"MascaState",value:e}))&&((e,t,n=!0)=>[("object"==typeof e.v1&&null!==e.v1||r(n,{path:t+".v1",expected:"__type",value:e.v1}))&&o(e.v1,t+".v1",n)||r(n,{path:t+".v1",expected:"__type",value:e.v1}),1===Object.keys(e).length||!1===n||Object.keys(e).map((o=>{if(["v1"].some((e=>o===e)))return!0;const s=e[o];return void 0===s||r(n,{path:t+i(o),expected:"undefined",value:s})})).every((e=>e))].every((e=>e)))(e,t+"",!0)||r(!0,{path:t+"",expected:"MascaState",value:e})})(e,"$input",!0)}const r=0===t.length;return{success:r,errors:t,data:r?e:void 0}})(e);if(!t.success)throw new Error(Fs(t))},na=e=>{const t=Vs(e);if(!t.success)throw new Error(Fs(t))},ia=e=>{const t=e=>"string"==typeof e.id&&Object.keys(e).every((t=>(["id"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))),r=e=>(void 0===e.id||"string"==typeof e.id)&&Object.keys(e).every((t=>(["id"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))),n=e=>Object.keys(e).every((t=>(void 0===e[t]||RegExp(/(.*)/).test(t),!0))),i=e=>"string"==typeof e.id&&"string"==typeof e.type&&Object.keys(e).every((t=>(["id","type"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))),o=e=>(void 0===e.type||"string"==typeof e.type)&&Object.keys(e).every((t=>(["type"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0)));return"object"==typeof e&&null!==e&&"string"==typeof(s=e).holder&&(void 0===s.verifiableCredential||Array.isArray(s.verifiableCredential)&&s.verifiableCredential.every((e=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&(e=>null!==e.issuer&&void 0!==e.issuer&&("string"==typeof e.issuer||"object"==typeof e.issuer&&null!==e.issuer&&t(e.issuer))&&"object"==typeof e.credentialSubject&&null!==e.credentialSubject&&!1===Array.isArray(e.credentialSubject)&&r(e.credentialSubject)&&null!==e.type&&(void 0===e.type||"string"==typeof e.type||Array.isArray(e.type)&&e.type.every((e=>"string"==typeof e)))&&null!==e["@context"]&&void 0!==e["@context"]&&("string"==typeof e["@context"]||Array.isArray(e["@context"])&&e["@context"].every((e=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&!1===Array.isArray(e)&&n(e))))||"object"==typeof e["@context"]&&null!==e["@context"]&&!1===Array.isArray(e["@context"])&&n(e["@context"]))&&"string"==typeof e.issuanceDate&&(void 0===e.expirationDate||"string"==typeof e.expirationDate)&&(void 0===e.credentialStatus||"object"==typeof e.credentialStatus&&null!==e.credentialStatus&&i(e.credentialStatus))&&(void 0===e.id||"string"==typeof e.id)&&"object"==typeof e.proof&&null!==e.proof&&!1===Array.isArray(e.proof)&&o(e.proof)&&Object.keys(e).every((t=>(["issuer","credentialSubject","type","@context","issuanceDate","expirationDate","credentialStatus","id","proof"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))))(e)))))&&null!==s.type&&(void 0===s.type||"string"==typeof s.type||Array.isArray(s.type)&&s.type.every((e=>"string"==typeof e)))&&null!==s["@context"]&&void 0!==s["@context"]&&("string"==typeof s["@context"]||Array.isArray(s["@context"])&&s["@context"].every((e=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&!1===Array.isArray(e)&&n(e))))||"object"==typeof s["@context"]&&null!==s["@context"]&&!1===Array.isArray(s["@context"])&&n(s["@context"]))&&(void 0===s.verifier||Array.isArray(s.verifier)&&s.verifier.every((e=>"string"==typeof e)))&&(void 0===s.issuanceDate||"string"==typeof s.issuanceDate)&&(void 0===s.expirationDate||"string"==typeof s.expirationDate)&&(void 0===s.id||"string"==typeof s.id)&&"object"==typeof s.proof&&null!==s.proof&&!1===Array.isArray(s.proof)&&o(s.proof)&&Object.keys(s).every((e=>(["holder","verifiableCredential","type","@context","verifier","issuanceDate","expirationDate","id","proof"].some((t=>e===t))||void 0===s[e]||RegExp(/(.*)/).test(e),!0)));var s},oa=e=>{const t=e=>"string"==typeof e.id&&Object.keys(e).every((t=>(["id"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))),r=e=>(void 0===e.id||"string"==typeof e.id)&&Object.keys(e).every((t=>(["id"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))),n=e=>Object.keys(e).every((t=>(void 0===e[t]||RegExp(/(.*)/).test(t),!0))),i=e=>"string"==typeof e.id&&"string"==typeof e.type&&Object.keys(e).every((t=>(["id","type"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))),o=e=>(void 0===e.type||"string"==typeof e.type)&&Object.keys(e).every((t=>(["type"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0)));return null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&"string"==typeof(s=e).holder&&(void 0===s.verifiableCredential||Array.isArray(s.verifiableCredential)&&s.verifiableCredential.every((e=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&(e=>null!==e.issuer&&void 0!==e.issuer&&("string"==typeof e.issuer||"object"==typeof e.issuer&&null!==e.issuer&&t(e.issuer))&&"object"==typeof e.credentialSubject&&null!==e.credentialSubject&&!1===Array.isArray(e.credentialSubject)&&r(e.credentialSubject)&&null!==e.type&&(void 0===e.type||"string"==typeof e.type||Array.isArray(e.type)&&e.type.every((e=>"string"==typeof e)))&&null!==e["@context"]&&void 0!==e["@context"]&&("string"==typeof e["@context"]||Array.isArray(e["@context"])&&e["@context"].every((e=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&!1===Array.isArray(e)&&n(e))))||"object"==typeof e["@context"]&&null!==e["@context"]&&!1===Array.isArray(e["@context"])&&n(e["@context"]))&&"string"==typeof e.issuanceDate&&(void 0===e.expirationDate||"string"==typeof e.expirationDate)&&(void 0===e.credentialStatus||"object"==typeof e.credentialStatus&&null!==e.credentialStatus&&i(e.credentialStatus))&&(void 0===e.id||"string"==typeof e.id)&&"object"==typeof e.proof&&null!==e.proof&&!1===Array.isArray(e.proof)&&o(e.proof)&&Object.keys(e).every((t=>(["issuer","credentialSubject","type","@context","issuanceDate","expirationDate","credentialStatus","id","proof"].some((e=>t===e))||void 0===e[t]||RegExp(/(.*)/).test(t),!0))))(e)))))&&null!==s.type&&(void 0===s.type||"string"==typeof s.type||Array.isArray(s.type)&&s.type.every((e=>"string"==typeof e)))&&null!==s["@context"]&&void 0!==s["@context"]&&("string"==typeof s["@context"]||Array.isArray(s["@context"])&&s["@context"].every((e=>null!=e&&("string"==typeof e||"object"==typeof e&&null!==e&&!1===Array.isArray(e)&&n(e))))||"object"==typeof s["@context"]&&null!==s["@context"]&&!1===Array.isArray(s["@context"])&&n(s["@context"]))&&(void 0===s.verifier||Array.isArray(s.verifier)&&s.verifier.every((e=>"string"==typeof e)))&&(void 0===s.issuanceDate||"string"==typeof s.issuanceDate)&&(void 0===s.expirationDate||"string"==typeof s.expirationDate)&&(void 0===s.id||"string"==typeof s.id)&&"object"==typeof s.proof&&null!==s.proof&&!1===Array.isArray(s.proof)&&o(s.proof)&&Object.keys(s).every((e=>(["holder","verifiableCredential","type","@context","verifier","issuanceDate","expirationDate","id","proof"].some((t=>e===t))||void 0===s[e]||RegExp(/(.*)/).test(e),!0))));var s},sa={"0x89":{chainId:"0x89",rpcUrls:["https://polygon-rpc.com/"],chainName:"Polygon Mainnet",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},blockExplorerUrls:["https://polygonscan.com/"]},"0x13881":{chainId:"0x13881",rpcUrls:["https://polygon-mumbai.blockpi.network/v1/rpc/public"],chainName:"Polygon Mumbai",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},blockExplorerUrls:["https://mumbai.polygonscan.com/"]}},aa=r(898),ca=r.n(aa);const ua={H:"1.0.0"};function fa(){return fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fa.apply(this,arguments)}var da={name:"chainId",regex:"[-:a-zA-Z0-9]{5,41}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"}}}},ha={name:"assetName",regex:"[-:a-zA-Z0-9]{5,73}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,64}"}}}},la={2:da,10:{name:"accountId",regex:"[-:a-zA-Z0-9]{7,106}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"},2:{name:"address",regex:"[a-zA-Z0-9]{1,64}"}}}},19:{assetName:ha,assetType:{name:"assetType",regex:"[-:a-zA-Z0-9]{11,115}",parameters:{delimiter:"/",values:{0:da,1:ha}}},assetId:{name:"assetId",regex:"[-:a-zA-Z0-9]{13,148}",parameters:{delimiter:"/",values:{0:da,1:ha,2:{name:"tokenId",regex:"[-a-zA-Z0-9]{1,32}"}}}}}};function pa(e,t){return e.split(t.parameters.delimiter)}function ya(e,t){var r=pa(e,t),n={};return r.forEach((function(e,r){n[t.parameters.values[r].name]=e})),n}function ba(e,t){return Object.values(t.parameters.values).map((function(t){var r=e[t.name];return"string"==typeof r?r:ba(r,t)})).join(t.parameters.delimiter)}function ga(e,t){if(!new RegExp(t.regex).test(e))return!1;var r=pa(e,t);return r.length===Object.keys(t.parameters.values).length&&r.map((function(e,r){return new RegExp(t.parameters.values[r].regex).test(e)})).filter((function(e){return!!e})).length===r.length}var va=function(){function e(t){"string"==typeof t&&(t=e.parse(t)),this.namespace=t.namespace,this.reference=t.reference}e.parse=function(t){if(!ga(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(ya(t,this.spec)).toJSON()},e.format=function(e){return ba(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},e}();va.spec=la[2];var ma=function(){function e(t){"string"==typeof t&&(t=e.parse(t)),this.chainId=new va(t.chainId),this.address=t.address}e.parse=function(t){if(!ga(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);var r=ya(t,this.spec),n=r.namespace,i=r.reference,o=r.address;return new e({chainId:new va({namespace:n,reference:i}),address:o}).toJSON()},e.format=function(e){return ba(fa({},new va(e.chainId).toJSON(),{address:e.address}),this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),address:this.address}},e}();ma.spec=la[10];var wa=function(){function e(t){"string"==typeof t&&(t=e.parse(t)),this.namespace=t.namespace,this.reference=t.reference}e.parse=function(t){if(!ga(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(ya(t,this.spec)).toJSON()},e.format=function(e){return ba(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},e}();function xa(e){return"Left"===e._tag}function Aa(e){return{_tag:"Left",left:e}}function Ea(e){return{_tag:"Right",right:e}}function Ma(e){if(xa(e))throw e.left;return e.right}wa.spec=la[19].assetName,(function(){function e(t){"string"==typeof t&&(t=e.parse(t)),this.chainId=new va(t.chainId),this.assetName=new wa(t.assetName)}e.parse=function(t){if(!ga(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(ya(t,this.spec)).toJSON()},e.format=function(e){return ba(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName}},e}()).spec=la[19].assetType,(function(){function e(t){"string"==typeof t&&(t=e.parse(t)),this.chainId=new va(t.chainId),this.assetName=new wa(t.assetName),this.tokenId=t.tokenId}e.parse=function(t){if(!ga(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(ya(t,this.spec)).toJSON()},e.format=function(e){return ba(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName.toJSON(),tokenId:this.tokenId}},e}()).spec=la[19].assetId;class Sa{input;position=0;constructor(e){this.input=e}get isEOF(){return this.position>=this.input.length}}function _a(e,t,r){return r.position=t,Ia(e)}function Ia(e){return Aa(e)}function ka(e){return function(t){return t.input.slice(t.position,t.position+e.length)===e?(t.position+=e.length,Ea(e)):Ia(new Error(`Can not match literal "${e}"`))}}function ja(e,t){return function(r){const n=r.position,i=e(r);if(xa(i))return r.position=n,i;const o=t(i.right);return xa(o)?_a(o.left,n,r):o}}function Oa(e,t){return function(r){const n=r.position,i=e(r);return xa(i)?(r.position=n,i):Ea(t(i.right))}}function Ca(e){return function(t){const r=t.input.slice(t.position).match(e);return r?(t.position+=r[0].length,Ea(r[0])):Ia(new Error(`Can not match ${e}`))}}function Ra(...e){return Na(Ba(e))}function Na(e,t=""){return function(r){const n=r.position,i=e(r);return xa(i)?(r.position=n,i):Ea(i.right.join(t))}}function Pa(...e){return Ba(e)}function Ba(e){return function(t){const r=t.position,n=[];for(const i of e){const e=i(t);if(xa(e))return _a(e.left,r,t);n.push(e.right)}return Ea(n)}}function Da(e,t){return function(r){const n=e(r);return xa(n)?Ea(t):n}}function Ta(...e){return function(t){for(const r of e){const e=t.position,n=r(t);if(!xa(n))return n;t.position=e}return Ia(new Error(`Can not find any of ${e.map((e=>e.name)).join(", ")}`))}}function Ua(e,t,r=1,n=1/0){return function(i){const o=i.position,s=[],a=e(i);if(xa(a))return _a(a.left,o,i);s.push(a.right);let c=i.position;const u=e=>s.length<r?_a(e.left,c,i):(i.position=c,Ea(s));for(;!i.isEOF&&s.length<n;){c=i.position;const r=t(i);if(xa(r))return u(r);const n=e(i);if(xa(n))return u(n);s.push(n.right)}return s.length<r?_a(new Error(`Got ${s}/${r} instances of ${e.name}`),o,i):Ea(s)}}function La(e){return function(t){const r=t.position,n=e(t);return xa(n)||t.isEOF?n:_a(new Error(`Consumed only ${t.position} of ${t.input.length} input length`),r,t)}}class qa{_A;_I;_O;name;constructor(e){this.name=e}pipe(e,t=`${this.name}${e.name}`){return new Fa(t,e.is,((t,r)=>{const n=this.decode(t,r);return xa(n)?n:e.decode(n.right,r)}),this.encode===za&&e.encode===za?za:t=>this.encode(e.encode(t)))}}function za(e){return e}class $a extends qa{is;constructor(e,t){super(e),this.is=t}encode=za;decode(e,t){return this.is(e)?t.success(e):t.failure()}}new $a("null",(e=>null===e)),new $a("undefined",(e=>void 0===e)),new $a("void",(e=>void 0===e)),new $a("string",(e=>"string"==typeof e)),new $a("number",(e=>"number"==typeof e)),new $a("boolean",(e=>"boolean"==typeof e)),new $a("bigint",(e=>"bigint"==typeof e)),new $a("unknown",(e=>!0)),new $a("object",(e=>Boolean(e)&&"object"==typeof e)),new $a("UnknownArray",(e=>Array.isArray(e))),new $a("UnknownDictionary",(e=>{if(!Boolean(e)||"object"!=typeof e)return!1;if(Array.isArray(e))return!1;const t=Object.getPrototypeOf(e);if(!t)return!0;const r=Object.hasOwn(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&r.toString()==Object.toString()})),new $a("any",(e=>!0)),new $a("never",(e=>!1));class Fa extends qa{name;is;decode;encode;constructor(e,t,r,n){super(e),this.name=e,this.is=t,this.decode=r,this.encode=n}}const Va=ka("."),Ha=ka(":"),Ka=ka("::"),Ja=Ca(/^([0-9a-fA-F]{2}){1,4}/),Wa=Ca(/^(25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|(\d)/),Ga=Ra(Wa,Va,Wa,Va,Wa,Va,Wa),Za=Ta(Ra(Ja,Ha,Ja),Ga),Xa=function(){const e=e=>Na(function(e,t=1,r=1/0){return function(n){const i=n.position,o=[];for(;!n.isEOF&&o.length<r;){const r=e(n);if(xa(r))return o.length<t?_a(r.left,i,n):Ea(o);o.push(r.right)}return Ea(o)}}(Ra(Ja,Ha),e,e)),t=e=>Da(Na(Ua(Ja,Ha,1,e),":"),"");return Na(Ta(Pa(e(6),Za),Pa(Ka,e(5),Za),Pa(t(1),Ka,e(4),Za),Pa(t(2),Ka,e(3),Za),Pa(t(3),Ka,e(2),Za),Pa(t(4),Ka,e(1),Za),Pa(t(5),Ka,Za),Pa(t(6),Ka,Ja),Pa(t(7),Ka)))}(),Qa=Ra(ka("["),Xa,ka("]")),Ya=ja(Ca(/^\d+/),(e=>String(parseInt(e,10))===e?Ea(e):Aa(new Error(`Invalid port ${e}`)))),ec=Ta(Qa,Ga,Ca(/^([a-zA-Z0-9\-._~!$&'()*+,;=]|(%[a-fA-F0-9]{2}))*/)),tc=Ra(ka(":"),Ya),rc=ja(Ra(ec,Da(tc,"")),(e=>e?Ea(e):Aa(new Error("domain can not be empty")))),nc=ja(Ca(/^\S+/),(e=>{try{return new URL(e),Ea(e)}catch(t){return Aa(new Error(`Invalid URI ${e}`))}})),ic=ka("\n"),oc=Ca(/^\d+/),sc=Ca(/^\w+/),ac=Oa(Pa(rc,ka(" wants you to sign in with your "),sc,ka(" account:")),(e=>({domain:e[0],network:e[2]}))),cc=Ca(/^\w+/),uc=Oa(Da(Pa(Ca(/^[^\n]+/),ic),void 0),(e=>{if(e)return e[0]})),fc=Oa(Pa(ka("URI: "),nc,ic),(e=>e[1])),dc=Oa(Pa(ka("Version: 1"),ic),(()=>"1")),hc=Oa(Pa(ka("Chain ID: "),oc,ic),(e=>e[1])),lc=Ca(/^[a-zA-Z0-9]{8,}/),pc=Oa(Pa(ka("Nonce: "),lc,ic),(e=>e[1])),yc=ja(Ca(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|([+-](\d\d):(\d\d)))/),(e=>Number.isFinite(Date.parse(e))?Ea(e):Aa(new Error(`Invalid date-time ${e}`)))),bc=e=>Oa(Pa(ka(e),yc),(e=>e[1])),gc=bc("Issued At: "),vc=bc("Expiration Time: "),mc=bc("Not Before: "),wc=Ca(/^([a-zA-Z0-9-._~!$&'():@]|(%[a-fA-F0-9]{2}))*/),xc=Oa(Pa(ka("Request ID: "),wc,ic),(e=>e[1])),Ac=nc,Ec=Oa(Pa(ka("- "),Ac),(e=>e[1])),Mc=Oa(Pa(ka("Resources:"),ic,Da(Ua(Ec,ic),[])),(e=>e[2])),Sc=Oa(Pa(ac,ic,cc,ic),(e=>({domain:e[0].domain,network:e[0].network,address:e[2]}))),_c=Oa(Pa(fc,dc,hc,pc,gc),(e=>({uri:e[0],version:e[1],chainId:e[2],nonce:e[3],issuedAt:e[4]}))),Ic=Da(Pa(ic,vc),void 0),kc=Da(Pa(ic,mc),void 0),jc=Da(Pa(ic,xc),void 0),Oc=Oa(Da(Pa(ic,Mc),void 0),(e=>e?e[1]:void 0)),Cc=Oa(Pa(Ic,kc,jc,Oc),(e=>({expirationTime:e[0],notBefore:e[1],requestId:e[2],resources:e[3]}))),Rc=Oa(Pa(Sc,ic,uc,ic,_c,Cc),(e=>{const t=e[0],r=e[2],n=e[4],i=e[5];return{domain:t.domain,network:t.network,address:t.address,statement:r,uri:n.uri,version:n.version,chainId:n.chainId,nonce:n.nonce,issuedAt:n.issuedAt,resources:i.resources}}));function Nc(e){const t=La(e);return function(e){return Ma(t(new Sa(e)))}}const Pc=Nc(rc),Bc=Nc(yc),Dc=Nc(nc);function Tc(e,t){if(e)return e;throw new Error(`Expect non-empty string for "${t}" field`)}function Uc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Lc{toString(){return function(e){const t=`${e.domain} wants you to sign in with your ${e.network} account:`,r=e.address,n=e.statement;let i=`${t}\n${r}\n\n`;return n&&(i+=`${n}\n`),[i,`URI: ${e.uri}`,`Version: ${e.version}`,`Chain ID: ${e.chainId}`,`Nonce: ${e.nonce}`,`Issued At: ${e.issuedAt}`,e.expirationTime?`Expiration Time: ${e.expirationTime}`:void 0,e.notBefore?`Not Before: ${e.notBefore}`:void 0,e.requestId?`Request ID: ${e.requestId}`:void 0,e.resources?`Resources:\n${function(e){return e.map((e=>`- ${e}`)).join("\n")}(e.resources)}`:void 0].filter(Boolean).join("\n")}(this)}constructor(e){var t;Uc(this,"domain",void 0),Uc(this,"network",void 0),Uc(this,"address",void 0),Uc(this,"statement",void 0),Uc(this,"uri",void 0),Uc(this,"version",void 0),Uc(this,"chainId",void 0),Uc(this,"nonce",void 0),Uc(this,"issuedAt",void 0),Uc(this,"expirationTime",void 0),Uc(this,"notBefore",void 0),Uc(this,"requestId",void 0),Uc(this,"resources",void 0),this.domain=Pc(e.domain),this.network=Tc(e.network,"network"),this.address=Tc(e.address,"address"),this.statement=$c(e.statement,(e=>Tc(e,"statement"))),this.uri=Dc(e.uri),this.version=function(e){if("1"!==String(e))throw new Error(`Invalid version string: ${e}`);return"1"}(e.version||"1"),this.chainId=(t=e.chainId,String(t)),this.nonce=function(e){return Nc(lc)(String(e))}(e.nonce),this.issuedAt=Bc(e.issuedAt),this.expirationTime=$c(e.expirationTime,Bc),this.notBefore=$c(e.notBefore,Bc),this.requestId=$c(e.requestId,(e=>Tc(e,"requestId"))),this.resources=$c(e.resources,(e=>e.map(Dc)))}}function qc(e){const t=La(Rc)(new Sa(e));return xa(t)?t:Ea(new Lc(t.right))}function zc(e){return Ma(qc(e))}function $c(e,t){return void 0!==e?t(e):void 0}function Fc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vc,Hc;Uc(Lc,"fromString",zc),Uc(Lc,"fromStringSafe",qc),function(e){e.INVALID_SIGNATURE="Invalid signature.",e.EXPIRED_MESSAGE="Expired message.",e.MALFORMED_SESSION="Malformed session."}(Vc||(Vc={})),function(e){e.PERSONAL_SIGNATURE="Personal signature"}(Hc||(Hc={}));class Kc{static fromCacao(e){const t=ma.parse(e.p.iss.replace("did:pkh:","")),r=new this({domain:e.p.domain,address:t.address,uri:e.p.aud,version:e.p.version,chainId:new va(t.chainId).reference});return e.p.statement&&(r.statement=e.p.statement),e.p.nonce&&(r.nonce=e.p.nonce),e.p.iat&&(r.issuedAt=e.p.iat),e.p.exp&&(r.expirationTime=e.p.exp),e.p.nbf&&(r.notBefore=e.p.nbf),e.p.requestId&&(r.requestId=e.p.requestId),e.p.resources&&(r.resources=e.p.resources),e.s&&(e.s.s&&(r.signature=e.s.s),"eip191"===e.s.t&&(r.type=Hc.PERSONAL_SIGNATURE)),r}toMessage(e){return function(e,t){const r=`${e.domain} wants you to sign in with your ${t} account:`,n=`URI: ${e.uri}`;let i=[r,e.address].join("\n");const o=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const s=`Nonce: ${e.nonce}`,a=[n,o,`Chain ID: ${e.chainId}`,s];if(e.issuedAt&&Date.parse(e.issuedAt),e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),a.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;a.push(t)}e.notBefore&&a.push(`Not Before: ${e.notBefore}`),e.requestId&&a.push(`Request ID: ${e.requestId}`),e.resources&&e.resources.length>=1&&a.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const c=a.join("\n");return e.statement&&(i=[i,e.statement].join("\n\n")),[i,c].join("\n\n")}(this,e)}constructor(e){if(Fc(this,"domain",void 0),Fc(this,"address",void 0),Fc(this,"statement",void 0),Fc(this,"uri",void 0),Fc(this,"version",void 0),Fc(this,"nonce",void 0),Fc(this,"issuedAt",void 0),Fc(this,"expirationTime",void 0),Fc(this,"notBefore",void 0),Fc(this,"requestId",void 0),Fc(this,"chainId",void 0),Fc(this,"resources",void 0),Fc(this,"signature",void 0),Fc(this,"type",void 0),"string"==typeof e){const t=zc(e);this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else Object.assign(this,e)}}class Jc extends Kc{toMessage(){return super.toMessage("Ethereum")}signMessage(){let e;return this.type,Hc.PERSONAL_SIGNATURE,e=this.toMessage(),e}}const Wc=["string","number","bigint","symbol"],Gc=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class Zc{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Zc.uint=new Zc(0,"uint",!0),Zc.negint=new Zc(1,"negint",!0),Zc.bytes=new Zc(2,"bytes",!0),Zc.string=new Zc(3,"string",!0),Zc.array=new Zc(4,"array",!1),Zc.map=new Zc(5,"map",!1),Zc.tag=new Zc(6,"tag",!1),Zc.float=new Zc(7,"float",!0),Zc.false=new Zc(7,"false",!0),Zc.true=new Zc(7,"true",!0),Zc.null=new Zc(7,"null",!0),Zc.undefined=new Zc(7,"undefined",!0),Zc.break=new Zc(7,"break",!0);class Xc{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Qc=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,Yc=new TextDecoder,eu=new TextEncoder;function tu(e){return Qc&&globalThis.Buffer.isBuffer(e)}function ru(e){return e instanceof Uint8Array?tu(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const nu=Qc?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):fu(e,t,r):(e,t,r)=>r-t>64?Yc.decode(e.subarray(t,r)):fu(e,t,r),iu=Qc?e=>e.length>64?globalThis.Buffer.from(e):uu(e):e=>e.length>64?eu.encode(e):uu(e),ou=e=>Uint8Array.from(e),su=Qc?(e,t,r)=>tu(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),au=Qc?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),ru(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let t of e)n+t.length>r.length&&(t=t.subarray(0,r.length-n)),r.set(t,n),n+=t.length;return r},cu=Qc?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function uu(e,t=1/0){let r;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function fu(e,t,r){const n=[];for(;t<r;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=r){let r,n,a,c;switch(s){case 1:i<128&&(o=i);break;case 2:r=e[t+1],128==(192&r)&&(c=(31&i)<<6|63&r,c>127&&(o=c));break;case 3:r=e[t+1],n=e[t+2],128==(192&r)&&128==(192&n)&&(c=(15&i)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[t+1],n=e[t+2],a=e[t+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=s}return function(e){const t=e.length;if(t<=du)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=du));return r}(n)}const du=4096;class hu{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=cu(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=su(r,0,this.cursor)}else t=au(this.chunks,this.cursor);return e&&this.reset(),t}}const lu="CBOR decode error:",pu="CBOR encode error:",yu=[];function bu(e,t,r){if(e.length-t<r)throw new Error(`${lu} not enough data for type`)}yu[23]=1,yu[24]=2,yu[25]=3,yu[26]=5,yu[27]=9;const gu=[24,256,65536,4294967296,BigInt("18446744073709551616")];function vu(e,t,r){bu(e,t,1);const n=e[t];if(!0===r.strict&&n<gu[0])throw new Error(`${lu} integer encoded in more bytes than necessary (strict decode)`);return n}function mu(e,t,r){bu(e,t,2);const n=e[t]<<8|e[t+1];if(!0===r.strict&&n<gu[1])throw new Error(`${lu} integer encoded in more bytes than necessary (strict decode)`);return n}function wu(e,t,r){bu(e,t,4);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<gu[2])throw new Error(`${lu} integer encoded in more bytes than necessary (strict decode)`);return n}function xu(e,t,r){bu(e,t,8);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<gu[3])throw new Error(`${lu} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw new Error(`${lu} integers outside of the safe integer range are not supported`)}function Au(e,t){return Eu(e,0,t.value)}function Eu(e,t,r){if(r<gu[0]){const n=Number(r);e.push([t|n])}else if(r<gu[1]){const n=Number(r);e.push([24|t,n])}else if(r<gu[2]){const n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<gu[3]){const n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{const n=BigInt(r);if(!(n<gu[4]))throw new Error(`${lu} encountered BigInt larger than allowable range`);{const r=[27|t,0,0,0,0,0,0,0];let i=Number(n&BigInt(4294967295)),o=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}}}Au.encodedSize=function(e){return Eu.encodedSize(e.value)},Eu.encodedSize=function(e){return e<gu[0]?1:e<gu[1]?2:e<gu[2]?3:e<gu[3]?5:9},Au.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const Mu=BigInt(-1),Su=BigInt(1);function _u(e,t){const r=t.value,n="bigint"==typeof r?r*Mu-Su:-1*r-1;Eu(e,t.type.majorEncoded,n)}function Iu(e,t,r,n){bu(e,t,r+n);const i=su(e,t+r,t+r+n);return new Xc(Zc.bytes,i,r+n)}function ku(e,t,r,n){return Iu(e,t,1,r)}function ju(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===Zc.string?iu(e.value):e.value),e.encodedBytes}function Ou(e,t){const r=ju(t);Eu(e,t.type.majorEncoded,r.length),e.push(r)}function Cu(e,t,r,n,i){const o=r+n;bu(e,t,o);const s=new Xc(Zc.string,nu(e,t+r,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=su(e,t+r,t+o)),s}function Ru(e,t,r,n){return Cu(e,t,1,r,n)}_u.encodedSize=function(e){const t=e.value,r="bigint"==typeof t?t*Mu-Su:-1*t-1;return r<gu[0]?1:r<gu[1]?2:r<gu[2]?3:r<gu[3]?5:9},_u.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},Ou.encodedSize=function(e){const t=ju(e);return Eu.encodedSize(t.length)+t.length},Ou.compareTokens=function(e,t){return r=ju(e),n=ju(t),r.length<n.length?-1:r.length>n.length?1:function(e,t){if(tu(e)&&tu(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}(r,n);var r,n};const Nu=Ou;function Pu(e,t,r,n){return new Xc(Zc.array,n,r)}function Bu(e,t,r,n){return Pu(0,0,1,r)}function Du(e,t){Eu(e,Zc.array.majorEncoded,t.value)}function Tu(e,t,r,n){return new Xc(Zc.map,n,r)}function Uu(e,t,r,n){return Tu(0,0,1,r)}function Lu(e,t){Eu(e,Zc.map.majorEncoded,t.value)}function qu(e,t,r,n){return new Xc(Zc.tag,r,1)}function zu(e,t){Eu(e,Zc.tag.majorEncoded,t.value)}Du.compareTokens=Au.compareTokens,Du.encodedSize=function(e){return Eu.encodedSize(e.value)},Lu.compareTokens=Au.compareTokens,Lu.encodedSize=function(e){return Eu.encodedSize(e.value)},zu.compareTokens=Au.compareTokens,zu.encodedSize=function(e){return Eu.encodedSize(e.value)};function $u(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error(`${lu} NaN values are not supported`);if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error(`${lu} Infinity values are not supported`)}return new Xc(Zc.float,e,t)}function Fu(e,t,r){const n=t.value;if(!1===n)e.push([20|Zc.float.majorEncoded]);else if(!0===n)e.push([21|Zc.float.majorEncoded]);else if(null===n)e.push([22|Zc.float.majorEncoded]);else if(void 0===n)e.push([23|Zc.float.majorEncoded]);else{let t,o=!1;r&&!0===r.float64||(Ju(n),t=Wu(Ku,1),n===t||Number.isNaN(n)?(Ku[0]=249,e.push(Ku.slice(0,3)),o=!0):(Gu(n),t=Zu(Ku,1),n===t&&(Ku[0]=250,e.push(Ku.slice(0,5)),o=!0))),o||(i=n,Hu.setFloat64(0,i,!1),t=Xu(Ku,1),Ku[0]=251,e.push(Ku.slice(0,9)))}var i}Fu.encodedSize=function(e,t){const r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){Ju(r);let e=Wu(Ku,1);if(r===e||Number.isNaN(r))return 3;if(Gu(r),e=Zu(Ku,1),r===e)return 5}return 9};const Vu=new ArrayBuffer(9),Hu=new DataView(Vu,1),Ku=new Uint8Array(Vu,0);function Ju(e){if(e===1/0)Hu.setUint16(0,31744,!1);else if(e===-1/0)Hu.setUint16(0,64512,!1);else if(Number.isNaN(e))Hu.setUint16(0,32256,!1);else{Hu.setFloat32(0,e);const t=Hu.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)Hu.setUint16(0,31744,!1);else if(0===r)Hu.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{const e=r-127;e<-24?Hu.setUint16(0,0):e<-14?Hu.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):Hu.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function Wu(e,t){if(e.length-t<2)throw new Error(`${lu} not enough data for float16`);const r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;const n=r>>10&31,i=1023&r;let o;return o=0===n?i*2**-24:31!==n?(i+1024)*2**(n-25):0===i?1/0:NaN,32768&r?-o:o}function Gu(e){Hu.setFloat32(0,e,!1)}function Zu(e,t){if(e.length-t<4)throw new Error(`${lu} not enough data for float32`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Xu(e,t){if(e.length-t<8)throw new Error(`${lu} not enough data for float64`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function Qu(e,t,r){throw new Error(`${lu} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Yu(e){return()=>{throw new Error(`${lu} ${e}`)}}Fu.compareTokens=Au.compareTokens;const ef=[];for(let e=0;e<=23;e++)ef[e]=Qu;ef[24]=function(e,t,r,n){return new Xc(Zc.uint,vu(e,t+1,n),2)},ef[25]=function(e,t,r,n){return new Xc(Zc.uint,mu(e,t+1,n),3)},ef[26]=function(e,t,r,n){return new Xc(Zc.uint,wu(e,t+1,n),5)},ef[27]=function(e,t,r,n){return new Xc(Zc.uint,xu(e,t+1,n),9)},ef[28]=Qu,ef[29]=Qu,ef[30]=Qu,ef[31]=Qu;for(let e=32;e<=55;e++)ef[e]=Qu;ef[56]=function(e,t,r,n){return new Xc(Zc.negint,-1-vu(e,t+1,n),2)},ef[57]=function(e,t,r,n){return new Xc(Zc.negint,-1-mu(e,t+1,n),3)},ef[58]=function(e,t,r,n){return new Xc(Zc.negint,-1-wu(e,t+1,n),5)},ef[59]=function(e,t,r,n){const i=xu(e,t+1,n);if("bigint"!=typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new Xc(Zc.negint,e,9)}if(!0!==n.allowBigInt)throw new Error(`${lu} integers outside of the safe integer range are not supported`);return new Xc(Zc.negint,Mu-BigInt(i),9)},ef[60]=Qu,ef[61]=Qu,ef[62]=Qu,ef[63]=Qu;for(let e=64;e<=87;e++)ef[e]=ku;ef[88]=function(e,t,r,n){return Iu(e,t,2,vu(e,t+1,n))},ef[89]=function(e,t,r,n){return Iu(e,t,3,mu(e,t+1,n))},ef[90]=function(e,t,r,n){return Iu(e,t,5,wu(e,t+1,n))},ef[91]=function(e,t,r,n){const i=xu(e,t+1,n);if("bigint"==typeof i)throw new Error(`${lu} 64-bit integer bytes lengths not supported`);return Iu(e,t,9,i)},ef[92]=Qu,ef[93]=Qu,ef[94]=Qu,ef[95]=Yu("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)ef[e]=Ru;ef[120]=function(e,t,r,n){return Cu(e,t,2,vu(e,t+1,n),n)},ef[121]=function(e,t,r,n){return Cu(e,t,3,mu(e,t+1,n),n)},ef[122]=function(e,t,r,n){return Cu(e,t,5,wu(e,t+1,n),n)},ef[123]=function(e,t,r,n){const i=xu(e,t+1,n);if("bigint"==typeof i)throw new Error(`${lu} 64-bit integer string lengths not supported`);return Cu(e,t,9,i,n)},ef[124]=Qu,ef[125]=Qu,ef[126]=Qu,ef[127]=Yu("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)ef[e]=Bu;ef[152]=function(e,t,r,n){return Pu(0,0,2,vu(e,t+1,n))},ef[153]=function(e,t,r,n){return Pu(0,0,3,mu(e,t+1,n))},ef[154]=function(e,t,r,n){return Pu(0,0,5,wu(e,t+1,n))},ef[155]=function(e,t,r,n){const i=xu(e,t+1,n);if("bigint"==typeof i)throw new Error(`${lu} 64-bit integer array lengths not supported`);return Pu(0,0,9,i)},ef[156]=Qu,ef[157]=Qu,ef[158]=Qu,ef[159]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error(`${lu} indefinite length items not allowed`);return Pu(0,0,1,1/0)};for(let e=160;e<=183;e++)ef[e]=Uu;ef[184]=function(e,t,r,n){return Tu(0,0,2,vu(e,t+1,n))},ef[185]=function(e,t,r,n){return Tu(0,0,3,mu(e,t+1,n))},ef[186]=function(e,t,r,n){return Tu(0,0,5,wu(e,t+1,n))},ef[187]=function(e,t,r,n){const i=xu(e,t+1,n);if("bigint"==typeof i)throw new Error(`${lu} 64-bit integer map lengths not supported`);return Tu(0,0,9,i)},ef[188]=Qu,ef[189]=Qu,ef[190]=Qu,ef[191]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error(`${lu} indefinite length items not allowed`);return Tu(0,0,1,1/0)};for(let e=192;e<=215;e++)ef[e]=qu;ef[216]=function(e,t,r,n){return new Xc(Zc.tag,vu(e,t+1,n),2)},ef[217]=function(e,t,r,n){return new Xc(Zc.tag,mu(e,t+1,n),3)},ef[218]=function(e,t,r,n){return new Xc(Zc.tag,wu(e,t+1,n),5)},ef[219]=function(e,t,r,n){return new Xc(Zc.tag,xu(e,t+1,n),9)},ef[220]=Qu,ef[221]=Qu,ef[222]=Qu,ef[223]=Qu;for(let e=224;e<=243;e++)ef[e]=Yu("simple values are not supported");ef[244]=Qu,ef[245]=Qu,ef[246]=Qu,ef[247]=function(e,t,r,n){if(!1===n.allowUndefined)throw new Error(`${lu} undefined values are not supported`);return!0===n.coerceUndefinedToNull?new Xc(Zc.null,null,1):new Xc(Zc.undefined,void 0,1)},ef[248]=Yu("simple values are not supported"),ef[249]=function(e,t,r,n){return $u(Wu(e,t+1),3,n)},ef[250]=function(e,t,r,n){return $u(Zu(e,t+1),5,n)},ef[251]=function(e,t,r,n){return $u(Xu(e,t+1),9,n)},ef[252]=Qu,ef[253]=Qu,ef[254]=Qu,ef[255]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error(`${lu} indefinite length items not allowed`);return new Xc(Zc.break,void 0,1)};const tf=[];for(let e=0;e<24;e++)tf[e]=new Xc(Zc.uint,e,1);for(let e=-1;e>=-24;e--)tf[31-e]=new Xc(Zc.negint,e,1);tf[64]=new Xc(Zc.bytes,new Uint8Array(0),1),tf[96]=new Xc(Zc.string,"",1),tf[128]=new Xc(Zc.array,0,1),tf[160]=new Xc(Zc.map,0,1),tf[244]=new Xc(Zc.false,!1,1),tf[245]=new Xc(Zc.true,!0,1),tf[246]=new Xc(Zc.null,null,1);const rf={float64:!1,mapSorter:function(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const i=r.type.major,o=nf[i].compareTokens(r,n);return 0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o},quickEncodeToken:function(e){switch(e.type){case Zc.false:return ou([244]);case Zc.true:return ou([245]);case Zc.null:return ou([246]);case Zc.bytes:return e.value.length?void 0:ou([64]);case Zc.string:return""===e.value?ou([96]):void 0;case Zc.array:return 0===e.value?ou([128]):void 0;case Zc.map:return 0===e.value?ou([160]):void 0;case Zc.uint:return e.value<24?ou([Number(e.value)]):void 0;case Zc.negint:if(e.value>=-24)return ou([31-Number(e.value)])}}},nf=function(){const e=[];return e[Zc.uint.major]=Au,e[Zc.negint.major]=_u,e[Zc.bytes.major]=Ou,e[Zc.string.major]=Nu,e[Zc.array.major]=Du,e[Zc.map.major]=Lu,e[Zc.tag.major]=zu,e[Zc.float.major]=Fu,e}(),of=new hu;class sf{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${pu} object contains circular references`);return new sf(t,e)}}const af={null:new Xc(Zc.null,null),undefined:new Xc(Zc.undefined,void 0),true:new Xc(Zc.true,!0),false:new Xc(Zc.false,!1),emptyArray:new Xc(Zc.array,0),emptyMap:new Xc(Zc.map,0)},cf={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new Xc(e>=0?Zc.uint:Zc.negint,e):new Xc(Zc.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new Xc(Zc.uint,e):new Xc(Zc.negint,e),Uint8Array:(e,t,r,n)=>new Xc(Zc.bytes,e),string:(e,t,r,n)=>new Xc(Zc.string,e),boolean:(e,t,r,n)=>e?af.true:af.false,null:(e,t,r,n)=>af.null,undefined:(e,t,r,n)=>af.undefined,ArrayBuffer:(e,t,r,n)=>new Xc(Zc.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new Xc(Zc.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[af.emptyArray,new Xc(Zc.break)]:af.emptyArray;n=sf.createCheck(n,e);const i=[];let o=0;for(const t of e)i[o++]=uf(t,r,n);return r.addBreakTokens?[new Xc(Zc.array,e.length),i,new Xc(Zc.break)]:[new Xc(Zc.array,e.length),i]},Object(e,t,r,n){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===r.addBreakTokens?[af.emptyMap,new Xc(Zc.break)]:af.emptyMap;n=sf.createCheck(n,e);const a=[];let c=0;for(const t of o)a[c++]=[uf(t,r,n),uf(i?e.get(t):e[t],r,n)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,r),r.addBreakTokens?[new Xc(Zc.map,s),a,new Xc(Zc.break)]:[new Xc(Zc.map,s),a]}};cf.Map=cf.Object,cf.Buffer=cf.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))cf[`${e}Array`]=cf.DataView;function uf(e,t={},r){const n=function(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(Wc.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";return function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(Gc.includes(t))return t}(e)||"Object"}(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||cf[n];if("function"==typeof i){const o=i(e,n,t,r);if(null!=o)return o}const o=cf[n];if(!o)throw new Error(`${pu} unsupported type: ${n}`);return o(e,n,t,r)}function ff(e,t,r,n){if(Array.isArray(t))for(const i of t)ff(e,i,r,n);else r[t.type.major](e,t,n)}function df(e,t,r){const n=uf(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const e=r.quickEncodeToken(n);if(e)return e;const i=t[n.type.major];if(i.encodedSize){const e=i.encodedSize(n,r),t=new hu(e);if(i(t,n,r),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return ru(t.chunks[0])}}return of.reset(),ff(of,n,t,r),of.toBytes(!0)}const hf={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class lf{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=tf[e];if(void 0===t){const r=ef[e];if(!r)throw new Error(`${lu} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}const pf=Symbol.for("DONE"),yf=Symbol.for("BREAK");function bf(e,t){if(e.done())return pf;const r=e.next();if(r.type===Zc.break)return yf;if(r.type.terminal)return r.value;if(r.type===Zc.array)return function(e,t,r){const n=[];for(let i=0;i<e.value;i++){const o=bf(t,r);if(o===yf){if(e.value===1/0)break;throw new Error(`${lu} got unexpected break to lengthed array`)}if(o===pf)throw new Error(`${lu} found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}(r,e,t);if(r.type===Zc.map)return function(e,t,r){const n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<e.value;s++){const a=bf(t,r);if(a===yf){if(e.value===1/0)break;throw new Error(`${lu} got unexpected break to lengthed map`)}if(a===pf)throw new Error(`${lu} found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==n&&"string"!=typeof a)throw new Error(`${lu} non-string keys not supported (got ${typeof a})`);if(!0===r.rejectDuplicateMapKeys&&(n&&o.has(a)||!n&&a in i))throw new Error(`${lu} found repeat map key "${a}"`);const c=bf(t,r);if(c===pf)throw new Error(`${lu} found map but not enough entries (got ${s} [no value], expected ${e.value})`);n?o.set(a,c):i[a]=c}return n?o:i}(r,e,t);if(r.type===Zc.tag){if(t.tags&&"function"==typeof t.tags[r.value]){const n=bf(e,t);return t.tags[r.value](n)}throw new Error(`${lu} tag not supported (${r.value})`)}throw new Error("unsupported")}const gf={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=nr.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Xc(Zc.tag,42),new Xc(Zc.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},vf={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};vf.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return nr.decode(e.subarray(1))};const mf="dag-cbor",wf=113,xf=e=>{return t=e,r=gf,r=Object.assign({},rf,r),df(t,nf,r);var t,r},Af=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error(`${lu} data to decode must be a Uint8Array`);const r=(t=Object.assign({},hf,t)).tokenizer||new lf(e,t),n=bf(r,t);if(n===pf)throw new Error(`${lu} did not find any content to decode`);if(n===yf)throw new Error(`${lu} got unexpected break`);if(!r.done())throw new Error(`${lu} too many terminals, data makes no sense`);return n}(e,vf);function Ef({enumerable:e=!0,configurable:t=!1}={}){return{enumerable:e,configurable:t,writable:!1}}function*Mf(e,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[r,n]of t.entries()){const t=[...e,r],i=pe.asCID(n);i?yield[t.join("/"),i]:"object"==typeof n&&(yield*Sf(n,t))}else{const r=pe.asCID(t);r?yield[e.join("/"),r]:yield*Sf(t,e)}}function*Sf(e,t){if(null==e||e instanceof Uint8Array)return;const r=pe.asCID(e);r&&(yield[t.join("/"),r]);for(const[r,n]of Object.entries(e)){const e=[...t,r];yield*Mf(e,n)}}function*_f(e,t){if(Array.isArray(t))for(const[r,n]of t.entries()){const t=[...e,r];yield t.join("/"),"object"!=typeof n||pe.asCID(n)||(yield*If(n,t))}else yield*If(t,e)}function*If(e,t){if(null!=e&&"object"==typeof e)for(const[r,n]of Object.entries(e)){const e=[...t,r];yield e.join("/"),null==n||n instanceof Uint8Array||"object"!=typeof n||pe.asCID(n)||(yield*_f(e,n))}}class kf{constructor({cid:e,bytes:t,value:r}){if(!e||!t||void 0===r)throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:Ef(),bytes:Ef(),value:Ef(),asBlock:Ef()})}links(){return Sf(this.value,[])}tree(){return If(this.value,[])}get(e="/"){return function(e,t){let r=e;for(const[e,n]of t.entries()){if(r=r[n],null==r)throw new Error(`Object has no property at ${t.slice(0,e+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);const i=pe.asCID(r);if(i)return{value:i,remaining:t.slice(e+1).join("/")}}return{value:r}}(this.value,e.split("/").filter(Boolean))}}async function jf({value:e,codec:t,hasher:r}){if(void 0===e)throw new Error('Missing required argument "value"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const n=t.encode(e),i=await r.digest(n),o=pe.create(1,t.code,i);return new kf({value:e,bytes:n,cid:o})}const Of=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Cf=Ae({name:"sha2-256",code:18,encode:Of("SHA-256")}),Rf=(Ae({name:"sha2-512",code:19,encode:Of("SHA-512")}),300);var Nf,Pf;function Bf(e){if(null===e.s||void 0===e.s)throw new Error("CACAO does not have a signature")}new Date("2022-09-20").valueOf(),function(e){e.fromSiweMessage=function(e){const t={h:{t:"eip4361"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:eip155:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"eip191",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwsMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:solana:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"solana:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwTezosMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:tezos:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"tezos:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwStacksMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:stacks:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"stacks:secp256k1",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromBlockBytes=async function(e){const t=await async function({bytes:e,codec:t,hasher:r}){if(!e)throw new Error('Missing required argument "bytes"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const n=t.decode(e),i=await r.digest(e),o=pe.create(1,t.code,i);return new kf({value:n,bytes:e,cid:o})}({bytes:e,codec:g,hasher:Cf});return t.value},e.verify=async function(e,t={}){Bf(e);const r=t.verifiers[e.s.t];if(!r)throw new Error("Unsupported CACAO signature type, register the needed verifier");return r(e,t)}}(Nf||(Nf={})),function(e){e.fromCacao=function(e){return jf({value:e,codec:g,hasher:Cf})}}(Pf||(Pf={}));var Df=r(900);function Tf(e,t,r){if(null==r&&(r=[]),e.request)return e.request({method:t,params:r}).then((e=>e),(e=>{throw e}));if(e.sendAsync||e.send){const n=(e.sendAsync?e.sendAsync:e.send).bind(e),i=function(e,t){return{jsonrpc:"2.0",id:1,method:e,params:t}}(t,r);return new Promise(((e,t)=>{n(i,((r,n)=>{if(r&&t(r),n.error){const e=new Error(n.error.message);e.code=n.error.code,e.data=n.error.data,t(e)}e(n.result)}))}))}throw new Error("Unsupported provider; provider must implement one of the following methods: send, sendAsync, request")}const Uf="eip155";var Lf,qf;async function zf(e,t,r){const n=new Date,i=new Date(n.getTime()+6048e5),o=new ma({address:(s=r).address.toLowerCase(),chainId:s.chainId});var s;const a=new Jc({domain:e.domain,address:o.address,statement:e.statement??"Give this application access to some of your data on Ceramic",uri:e.uri,version:"1",nonce:e.nonce??(0,Df.randomString)(10),issuedAt:n.toISOString(),expirationTime:e.expirationTime??i.toISOString(),chainId:o.chainId.reference,resources:e.resources}),c=await Tf(t,"personal_sign",[(u=a.signMessage(),`0x${gr(br(u,"utf8"),"base16")}`),o.address]);var u;return a.signature=c,Nf.fromSiweMessage(a)}!function(e){e.getAuthMethod=async function(e,t){if("undefined"==typeof window)throw new Error("Web Auth method requires browser environment");const r=window.location.hostname;return async n=>(n.domain=r,zf(n,e,t))}}(Lf||(Lf={})),function(e){e.getAuthMethod=async function(e,t,r){if(!r)throw new Error("Node Auth method requires an application name gethAuthMethod(ethProvider, account, appName)");return async n=>(n.domain=r,zf(n,e,t))}}(qf||(qf={}));var $f,Ff=r(378),Vf=r(5687);!function(e){e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"}($f||($f={}));const Hf={[$f.PARSE_ERROR]:"Parse error",[$f.INVALID_REQUEST]:"Invalid request",[$f.METHOD_NOT_FOUND]:"Method not found",[$f.INVALID_PARAMS]:"Invalid params",[$f.INTERNAL_ERROR]:"Internal error"};function Kf(e){return Hf[e.toString()]??(function(e){return-32e3>=e&&e>=-32099}(e)?"Server error":"Application error")}class Jf extends Error{static fromObject(e){return new Jf(e.code,e.message,e.data)}toObject(){return{code:this.code,data:this.data,message:this.message}}constructor(e,t,r){super(),Object.setPrototypeOf(this,Jf.prototype),this.code=e,this.data=r,this.message=t??Kf(e)}}function Wf(e){const t=Hf[e];return function(r){return new Jf(e,t,r)}}Wf($f.PARSE_ERROR),Wf($f.INVALID_REQUEST),Wf($f.METHOD_NOT_FOUND),Wf($f.INVALID_PARAMS),Wf($f.INTERNAL_ERROR);const Gf=Symbol("abortable"),Zf=Symbol("aborted"),Xf="utils_abort_request";function Qf(e,t){return{jsonrpc:"2.0",id:e,error:{code:t,message:Kf(t)}}}function Yf(e,t,r){console.warn("Unhandled handler error",t,r)}function ed(e,t){console.warn("Unhandled invalid message",t)}function td(e,t){console.warn("Unhandled notification",t)}function rd(e){return JSON.parse(Vf(e))}function nd(e){const[t,r,n]=e.split(".");return{payload:r,signatures:[{protected:t,signature:n}]}}const id=async(e,t,r,n={})=>{const i=`${t}#${t.split(":")[2]}`,o=function(e){const t=e;if(64!==t.length)throw new Error(`bad_key: Invalid private key format. Expecting 64 bytes, but got ${t.length}`);return function(e){try{const r="string"==typeof e?wo(e):e,n=Qn.sign(r,t.slice(0,32));return Promise.resolve(ho(n))}catch(e){return Promise.reject(e)}}}(r),s=rd(Object.assign(n,{kid:i,alg:"EdDSA"}));return function(e,t,r={},n={}){try{r.alg||(r.alg=$o);const i="string"==typeof e?e:Fo(e,n.canonicalize),o=[Fo(r,n.canonicalize),i].join("."),s=function(e){const t=Po[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}(r.alg);return Promise.resolve(s(o,t)).then((function(e){return[o,e].join(".")}))}catch(e){return Promise.reject(e)}}("string"==typeof e?e:rd(e),o,s)},od={did_authenticate:async({did:e,secretKey:t},r)=>nd(await id({did:e,aud:r.aud,nonce:r.nonce,paths:r.paths,exp:Math.floor(Date.now()/1e3)+600},e,t)),did_createJWS:async({did:e,secretKey:t},r)=>{if(r.did.split("#")[0]!==e)throw new Jf(4100,`Unknown DID: ${e}`);return{jws:nd(await id(r.payload,e,t,r.protected))}},did_decryptJWE:async({secretKey:e},t)=>{const r=rs((0,Ff.zh)(e));try{return{cleartext:gr(await Zo(t.jwe,r),"base64pad")}}catch(e){throw new Jf(-32e3,e.message)}}};class sd{get isDidProvider(){return!0}async send(e){return await this._handle(e)}constructor(e){const{secretKey:t,publicKey:r}=(0,Ff._w)(e),n=function(e){const t=new Uint8Array(e.length+2);return t[0]=237,t[1]=1,t.set(e,2),`did:key:z${gr(t,"base58btc")}`}(r),i=function(e,t={}){const r=t.onHandlerError??Yf,n=t.onInvalidMessage??ed,i=t.onNotification??td,o={};return async function(t,s){const a=s.id;if("2.0"!==s.jsonrpc||null==s.method)return null==a?(n(t,s),null):Qf(a,$f.INVALID_REQUEST);const c=e[s.method];if(null==c)return null==a?(function(e,t){if(t.method===Xf){const e=t.params?.id;null!=e&&o[e]?.abort()}else i(e,t)}(t,s),null):Qf(a,$f.METHOD_NOT_FOUND);try{let e;if(null!=a&&c[Gf]){const r=new AbortController;o[a]=r,e=c(t,s.params,{signal:r.signal})}else e=c(t,s.params,{});const r=null==e?e:"function"==typeof e.then?await e:e;return null==a||o[a]?.signal.aborted?null:{jsonrpc:"2.0",id:a,result:r}}catch(e){if(null==a||o[a]?.signal.aborted)return r(t,s,e),null;let n;if(e instanceof Jf)n=e.toObject();else{r(t,s,e);const i=e.code??-32e3;n={code:i,message:e.message||Kf(i)}}return{jsonrpc:"2.0",id:a,error:n}}finally{null!=a&&delete o[a]}}}(od);this._handle=async e=>await i({did:n,secretKey:t},e)}}var ad=r(233);function cd(e,t){const r=`did:key:${t}`,n=`${r}#${t}`;return{id:r,verificationMethod:[{id:n,type:"Secp256k1VerificationKey2018",controller:r,publicKeyBase58:gr(e,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function ud(e,t){const r=`did:key:${t}`,n=`${r}#${t}`,i=(0,Ff.SH)(e),o=`${r}#${function(e){const t=new Uint8Array(e.length+2);return t[0]=236,t[1]=1,t.set(e,2),`z${gr(t,"base58btc")}`}(i)}`;return{id:r,verificationMethod:[{id:n,type:"Ed25519VerificationKey2018",controller:r,publicKeyBase58:gr(e,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n],keyAgreement:[{id:o,type:"X25519KeyAgreementKey2019",controller:r,publicKeyBase58:gr(i,"base58btc")}]}}var fd=r(1605),dd=r(5669);function hd(e){if(!yd(e))throw new TypeError("input must be a Uint8Array");return fd.toString(e,"base16")}function ld(e){if(!pd(e))throw new TypeError("input must be string with characters 0-9,A-F,a-f");const t=function(e){if(!pd(e))throw new TypeError("input must be string with characters 0-9,A-F,a-f");const t=e.slice(0,e.length/2),r=e.slice(e.length/2,e.length);return{xOctet:fd.fromString(t,"base16"),yOctet:fd.fromString(r,"base16")}}(e);return{xm:dd.base64url.encode(t.xOctet).slice(1),ym:dd.base64url.encode(t.yOctet).slice(1)}}function pd(e){const t=/^[A-Fa-f0-9]+$/i;return!(null===t.exec(e)||!t.test(e)||"string"!=typeof e)}function yd(e){return null!=e&&e.constructor===Uint8Array}function bd(e){if(null==e)throw new TypeError("input cannot be null or undefined.");if("object"!=typeof e)throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(e,"x")||!Object.prototype.hasOwnProperty.call(e,"y"))throw new Error("Input must have properties x and y");if("bigint"!=typeof e.x&&"bigint"!=typeof e.y)throw new Error("Input coordinates must be BigInt");const t=function(e){if(null==e)throw new TypeError("input cannot be null or undefined.");if("object"!=typeof e)throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(e,"x")||!Object.prototype.hasOwnProperty.call(e,"y"))throw new Error("Input must have properties x and y");if("bigint"!=typeof e.x&&"bigint"!=typeof e.y)throw new Error("Input coordinates must be BigInt");const t=e.x.toString(),r=e.y.toString();return{xOctet:fd.fromString(t,"base10"),yOctet:fd.fromString(r,"base10")}}(e);return{xm:dd.base64url.encode(t.xOctet).slice(1),ym:dd.base64url.encode(t.yOctet).slice(1)}}function gd(e,t){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),t<=0n)throw new RangeError("n must be > 0");const r=e%t;return r<0n?r+t:r}function vd(e,t){const r=function(e,t){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),e<=0n||t<=0n)throw new RangeError("a and b MUST be > 0");let r=0n,n=1n,i=1n,o=0n;for(;0n!==e;){const s=t/e,a=t%e,c=r-i*s,u=n-o*s;t=e,e=a,r=i,n=o,i=c,o=u}return{g:t,x:r,y:n}}(gd(e,t),t);if(1n!==r.g)throw new RangeError(`${e.toString()} does not have inverse modulo ${t.toString()}`);return gd(r.x,t)}function md(e,t,r){if(e.length!==t.length)throw new RangeError("The remainders and modulos arrays should have the same length");const n=r??t.reduce(((e,t)=>e*t),1n);return t.reduce(((t,r,i)=>{const o=n/r;return gd(t+o*vd(o,r)%n*e[i]%n,n)}),0n)}function wd(e,t,r,n){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),"number"==typeof r&&(r=BigInt(r)),r<=0n)throw new RangeError("n must be > 0");if(1n===r)return 0n;if(e=gd(e,r),t<0n)return vd(wd(e,function(e){return e>=0?e:-e}(t),r,n),r);if(void 0!==n)return function(e,t,r,n){const i=n.map((e=>e[0]**e[1])),o=n.map((e=>function(e){return e.map((e=>e[0]**(e[1]-1n)*(e[0]-1n))).reduce(((e,t)=>t*e),1n)}([e]))),s=o.map(((r,n)=>wd(e,t%r,i[n])));return md(s,i,r)}(e,t,r,function(e){const t={};return e.forEach((e=>{if("bigint"==typeof e||"number"==typeof e){const r=String(e);void 0===t[r]?t[r]={p:BigInt(e),k:1n}:t[r].k+=1n}else{const r=String(e[0]);void 0===t[r]?t[r]={p:BigInt(e[0]),k:BigInt(e[1])}:t[r].k+=BigInt(e[1])}})),Object.values(t).map((e=>[e.p,e.k]))}(n));let i=1n;for(;t>0;)t%2n===1n&&(i=i*e%r),t/=2n,e=e**2n%r;return i}function xd(e,t){const r=`did:key:${t}`,n=`${r}#${t}`,i=Ad(e);return{id:r,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:r,publicKeyJwk:{kty:"EC",crv:"P-256",x:i.xm,y:i.ym}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function Ad(e){if(!yd(e))throw new TypeError("input must be a Uint8Array");const t=hd(e),r=t.length/2;if(64==r)return ld(t);if(65==r&&"04"==t.slice(0,2))return ld(t.slice(2));if(33==r&&("03"==t.slice(0,2)||"02"==t.slice(0,2)))return bd(function(e){if(!yd(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2),r=t**256n-t**224n+t**192n+t**96n-1n,n=(r+1n)/4n,i=BigInt(e[0]-2),o=e.subarray(1),s=BigInt(fd.toString(o,"base10"));let a=wd(s**3n-3n*s+41058363725152142129326129780047268409114441015993725554835256314039467401291n,n,r);return a%2n!==i&&(a=r-a),{x:s,y:a}}(br(t,"base16")));throw new Error("Unexpected pubKeyBytes")}function Ed(e,t){const r=`did:key:${t}`,n=`${r}#${t}`,i=Md(e);return{id:r,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:r,publicKeyJwk:{kty:"EC",crv:"P-384",x:i.xm,y:i.ym}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function Md(e){if(!yd(e))throw new TypeError("input must be a Uint8Array");const t=hd(e),r=t.length/2;if(96==r)return ld(t);if(97==r&&"04"==t.slice(0,2))return ld(t.slice(2));if(49==r&&("03"==t.slice(0,2)||"02"==t.slice(0,2)))return bd(function(e){if(!yd(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2),r=t**384n-t**128n-t**96n+t**32n-1n,n=(r+1n)/4n,i=BigInt(e[0]-2),o=e.subarray(1),s=BigInt(fd.toString(o,"base10"));let a=wd(s**3n-3n*s+27580193559959705877849011840389048093056905856361568521428707301988689241309860865136260764883745107765439761230575n,n,r);return a%2n!==i&&(a=r-a),{x:s,y:a}}(br(t,"base16")));throw new Error("Unexpected pubKeyBytes")}function Sd(e,t){const r=`did:key:${t}`,n=`${r}#${t}`,i=_d(e);return{id:r,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:r,publicKeyJwk:{kty:"EC",crv:"P-521",x:i.xm,y:i.ym}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function _d(e){if(!yd(e))throw new TypeError("input must be a Uint8Array");const t=hd(e);if(132<=t.length&&t.length<=134&&("03"==t.slice(0,2)||"02"==t.slice(0,2)))return bd(function(e){if(!yd(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2)**521n-1n,r=(t+1n)/4n,n=BigInt(e[0]-2),i=e.subarray(1),o=BigInt(fd.toString(i,"base10"));let s=wd(o**3n-3n*o+1093849038073734274511112390766805569936207598951683748994586394495953116150735016013708737573759623248592132296706313309438452531591012912142327488478985984n,r,t);return s%2n!==n&&(s=t-s),{x:o,y:s}}(br(t,"base16")));throw new Error("Unexpected pubKeyBytes")}const Id="application/did+json",kd={231:v,237:m,4608:w,4609:x,4610:A},jd=function(){return{key:async(e,t,r,n)=>{const i=n.accept||Id,o={didResolutionMetadata:{contentType:i},didDocument:null,didDocumentMetadata:{}};try{const e=ue.decode(t.id),r=ad.decode(e),n=e.slice(ad.decode.bytes),s=await kd[r].keyToDidDoc(n,t.id);"application/did+ld+json"===i?(s["@context"]="https://w3id.org/did/v1",o.didDocument=s):i===Id?o.didDocument=s:(delete o.didResolutionMetadata.contentType,o.didResolutionMetadata.error="representationNotSupported")}catch(e){o.didResolutionMetadata.error="invalidDid",o.didResolutionMetadata.message=e.toString()}return o}}};function Od(e,t){return t()}const Cd="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",Rd="[a-zA-Z0-9_.:%-]",Nd=new RegExp(`^did:([a-z0-9]+):((?:${Cd}*:)*(${Cd}+))((;${Rd}+=${Rd}*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$`),Pd={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Bd{constructor(e={},t={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=!0===t.cache?function(){const e=new Map;return function(t,r){try{let n;function i(i){if(n)return i;const o=e.get(t.didUrl);return void 0!==o?o:Promise.resolve(r()).then((function(r){var n;return"notFound"!==(null==(n=r.didResolutionMetadata)?void 0:n.error)&&e.set(t.didUrl,r),r}))}const o=function(){if(t.params&&"true"===t.params["no-cache"])return Promise.resolve(r()).then((function(e){return n=1,e}))}();return Promise.resolve(o&&o.then?o.then(i):i(o))}catch(s){return Promise.reject(s)}}}():t.cache||Od,t.legacyResolvers&&Object.keys(t.legacyResolvers).map((e=>{var r;this.registry[e]||(this.registry[e]=(r=t.legacyResolvers[e],function(e,t,n){try{return Promise.resolve(function(i,o){try{var s=Promise.resolve(r(e,t,n)).then((function(e){return{...Pd,didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:e}}))}catch(e){return o(e)}return s&&s.then?s.then(void 0,o):s}(0,(function(e){return{...Pd,didResolutionMetadata:{error:"notFound",message:e.toString()}}})))}catch(e){return Promise.reject(e)}}))}))}resolve(e,t={}){try{const r=this,n=function(e){if(""===e||!e)return null;const t=e.match(Nd);if(t){const r={did:`did:${t[1]}:${t[2]}`,method:t[1],id:t[2],didUrl:e};if(t[4]){const e=t[4].slice(1).split(";");r.params={};for(const t of e){const e=t.split("=");r.params[e[0]]=e[1]}}return t[6]&&(r.path=t[6]),t[7]&&(r.query=t[7].slice(1)),t[8]&&(r.fragment=t[8].slice(1)),r}return null}(e);if(null===n)return Promise.resolve({...Pd,didResolutionMetadata:{error:"invalidDid"}});const i=r.registry[n.method];return i?Promise.resolve(r.cache(n,(()=>i(n.did,n,r,t)))):Promise.resolve({...Pd,didResolutionMetadata:{error:"unsupportedDidMethod"}})}catch(e){return Promise.reject(e)}}}const Dd=X,Td={code:0,name:"identity",encode:Dd,digest:e=>Q(0,Dd(e))},Ud=(ce({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ce({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ce({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ce({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),["string","number","bigint","symbol"]),Ld=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class qd{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}qd.uint=new qd(0,"uint",!0),qd.negint=new qd(1,"negint",!0),qd.bytes=new qd(2,"bytes",!0),qd.string=new qd(3,"string",!0),qd.array=new qd(4,"array",!1),qd.map=new qd(5,"map",!1),qd.tag=new qd(6,"tag",!1),qd.float=new qd(7,"float",!0),qd.false=new qd(7,"false",!0),qd.true=new qd(7,"true",!0),qd.null=new qd(7,"null",!0),qd.undefined=new qd(7,"undefined",!0),qd.break=new qd(7,"break",!0);class zd{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const $d=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,Fd=new TextDecoder,Vd=new TextEncoder;function Hd(e){return $d&&globalThis.Buffer.isBuffer(e)}function Kd(e){return e instanceof Uint8Array?Hd(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const Jd=$d?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):eh(e,t,r):(e,t,r)=>r-t>64?Fd.decode(e.subarray(t,r)):eh(e,t,r),Wd=$d?e=>e.length>64?globalThis.Buffer.from(e):Yd(e):e=>e.length>64?Vd.encode(e):Yd(e),Gd=e=>Uint8Array.from(e),Zd=$d?(e,t,r)=>Hd(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Xd=$d?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),Kd(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let t of e)n+t.length>r.length&&(t=t.subarray(0,r.length-n)),r.set(t,n),n+=t.length;return r},Qd=$d?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Yd(e,t=1/0){let r;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function eh(e,t,r){const n=[];for(;t<r;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=r){let r,n,a,c;switch(s){case 1:i<128&&(o=i);break;case 2:r=e[t+1],128==(192&r)&&(c=(31&i)<<6|63&r,c>127&&(o=c));break;case 3:r=e[t+1],n=e[t+2],128==(192&r)&&128==(192&n)&&(c=(15&i)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[t+1],n=e[t+2],a=e[t+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=s}return function(e){const t=e.length;if(t<=th)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=th));return r}(n)}const th=4096;class rh{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Qd(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=Zd(r,0,this.cursor)}else t=Xd(this.chunks,this.cursor);return e&&this.reset(),t}}const nh="CBOR decode error:",ih="CBOR encode error:",oh=[];function sh(e,t,r){if(e.length-t<r)throw new Error(`${nh} not enough data for type`)}oh[23]=1,oh[24]=2,oh[25]=3,oh[26]=5,oh[27]=9;const ah=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ch(e,t,r){sh(e,t,1);const n=e[t];if(!0===r.strict&&n<ah[0])throw new Error(`${nh} integer encoded in more bytes than necessary (strict decode)`);return n}function uh(e,t,r){sh(e,t,2);const n=e[t]<<8|e[t+1];if(!0===r.strict&&n<ah[1])throw new Error(`${nh} integer encoded in more bytes than necessary (strict decode)`);return n}function fh(e,t,r){sh(e,t,4);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<ah[2])throw new Error(`${nh} integer encoded in more bytes than necessary (strict decode)`);return n}function dh(e,t,r){sh(e,t,8);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<ah[3])throw new Error(`${nh} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw new Error(`${nh} integers outside of the safe integer range are not supported`)}function hh(e,t){return lh(e,0,t.value)}function lh(e,t,r){if(r<ah[0]){const n=Number(r);e.push([t|n])}else if(r<ah[1]){const n=Number(r);e.push([24|t,n])}else if(r<ah[2]){const n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<ah[3]){const n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{const n=BigInt(r);if(!(n<ah[4]))throw new Error(`${nh} encountered BigInt larger than allowable range`);{const r=[27|t,0,0,0,0,0,0,0];let i=Number(n&BigInt(4294967295)),o=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}}}hh.encodedSize=function(e){return lh.encodedSize(e.value)},lh.encodedSize=function(e){return e<ah[0]?1:e<ah[1]?2:e<ah[2]?3:e<ah[3]?5:9},hh.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const ph=BigInt(-1),yh=BigInt(1);function bh(e,t){const r=t.value,n="bigint"==typeof r?r*ph-yh:-1*r-1;lh(e,t.type.majorEncoded,n)}function gh(e,t,r,n){sh(e,t,r+n);const i=Zd(e,t+r,t+r+n);return new zd(qd.bytes,i,r+n)}function vh(e,t,r,n){return gh(e,t,1,r)}function mh(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===qd.string?Wd(e.value):e.value),e.encodedBytes}function wh(e,t){const r=mh(t);lh(e,t.type.majorEncoded,r.length),e.push(r)}function xh(e,t,r,n,i){const o=r+n;sh(e,t,o);const s=new zd(qd.string,Jd(e,t+r,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=Zd(e,t+r,t+o)),s}function Ah(e,t,r,n){return xh(e,t,1,r,n)}bh.encodedSize=function(e){const t=e.value,r="bigint"==typeof t?t*ph-yh:-1*t-1;return r<ah[0]?1:r<ah[1]?2:r<ah[2]?3:r<ah[3]?5:9},bh.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},wh.encodedSize=function(e){const t=mh(e);return lh.encodedSize(t.length)+t.length},wh.compareTokens=function(e,t){return r=mh(e),n=mh(t),r.length<n.length?-1:r.length>n.length?1:function(e,t){if(Hd(e)&&Hd(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}(r,n);var r,n};const Eh=wh;function Mh(e,t,r,n){return new zd(qd.array,n,r)}function Sh(e,t,r,n){return Mh(0,0,1,r)}function _h(e,t){lh(e,qd.array.majorEncoded,t.value)}function Ih(e,t,r,n){return new zd(qd.map,n,r)}function kh(e,t,r,n){return Ih(0,0,1,r)}function jh(e,t){lh(e,qd.map.majorEncoded,t.value)}function Oh(e,t,r,n){return new zd(qd.tag,r,1)}function Ch(e,t){lh(e,qd.tag.majorEncoded,t.value)}_h.compareTokens=hh.compareTokens,_h.encodedSize=function(e){return lh.encodedSize(e.value)},jh.compareTokens=hh.compareTokens,jh.encodedSize=function(e){return lh.encodedSize(e.value)},Ch.compareTokens=hh.compareTokens,Ch.encodedSize=function(e){return lh.encodedSize(e.value)};function Rh(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error(`${nh} NaN values are not supported`);if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error(`${nh} Infinity values are not supported`)}return new zd(qd.float,e,t)}function Nh(e,t,r){const n=t.value;if(!1===n)e.push([20|qd.float.majorEncoded]);else if(!0===n)e.push([21|qd.float.majorEncoded]);else if(null===n)e.push([22|qd.float.majorEncoded]);else if(void 0===n)e.push([23|qd.float.majorEncoded]);else{let t,o=!1;r&&!0===r.float64||(Th(n),t=Uh(Dh,1),n===t||Number.isNaN(n)?(Dh[0]=249,e.push(Dh.slice(0,3)),o=!0):(Lh(n),t=qh(Dh,1),n===t&&(Dh[0]=250,e.push(Dh.slice(0,5)),o=!0))),o||(i=n,Bh.setFloat64(0,i,!1),t=zh(Dh,1),Dh[0]=251,e.push(Dh.slice(0,9)))}var i}Nh.encodedSize=function(e,t){const r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){Th(r);let e=Uh(Dh,1);if(r===e||Number.isNaN(r))return 3;if(Lh(r),e=qh(Dh,1),r===e)return 5}return 9};const Ph=new ArrayBuffer(9),Bh=new DataView(Ph,1),Dh=new Uint8Array(Ph,0);function Th(e){if(e===1/0)Bh.setUint16(0,31744,!1);else if(e===-1/0)Bh.setUint16(0,64512,!1);else if(Number.isNaN(e))Bh.setUint16(0,32256,!1);else{Bh.setFloat32(0,e);const t=Bh.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)Bh.setUint16(0,31744,!1);else if(0===r)Bh.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{const e=r-127;e<-24?Bh.setUint16(0,0):e<-14?Bh.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):Bh.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function Uh(e,t){if(e.length-t<2)throw new Error(`${nh} not enough data for float16`);const r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;const n=r>>10&31,i=1023&r;let o;return o=0===n?i*2**-24:31!==n?(i+1024)*2**(n-25):0===i?1/0:NaN,32768&r?-o:o}function Lh(e){Bh.setFloat32(0,e,!1)}function qh(e,t){if(e.length-t<4)throw new Error(`${nh} not enough data for float32`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function zh(e,t){if(e.length-t<8)throw new Error(`${nh} not enough data for float64`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function $h(e,t,r){throw new Error(`${nh} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Fh(e){return()=>{throw new Error(`${nh} ${e}`)}}Nh.compareTokens=hh.compareTokens;const Vh=[];for(let e=0;e<=23;e++)Vh[e]=$h;Vh[24]=function(e,t,r,n){return new zd(qd.uint,ch(e,t+1,n),2)},Vh[25]=function(e,t,r,n){return new zd(qd.uint,uh(e,t+1,n),3)},Vh[26]=function(e,t,r,n){return new zd(qd.uint,fh(e,t+1,n),5)},Vh[27]=function(e,t,r,n){return new zd(qd.uint,dh(e,t+1,n),9)},Vh[28]=$h,Vh[29]=$h,Vh[30]=$h,Vh[31]=$h;for(let e=32;e<=55;e++)Vh[e]=$h;Vh[56]=function(e,t,r,n){return new zd(qd.negint,-1-ch(e,t+1,n),2)},Vh[57]=function(e,t,r,n){return new zd(qd.negint,-1-uh(e,t+1,n),3)},Vh[58]=function(e,t,r,n){return new zd(qd.negint,-1-fh(e,t+1,n),5)},Vh[59]=function(e,t,r,n){const i=dh(e,t+1,n);if("bigint"!=typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new zd(qd.negint,e,9)}if(!0!==n.allowBigInt)throw new Error(`${nh} integers outside of the safe integer range are not supported`);return new zd(qd.negint,ph-BigInt(i),9)},Vh[60]=$h,Vh[61]=$h,Vh[62]=$h,Vh[63]=$h;for(let e=64;e<=87;e++)Vh[e]=vh;Vh[88]=function(e,t,r,n){return gh(e,t,2,ch(e,t+1,n))},Vh[89]=function(e,t,r,n){return gh(e,t,3,uh(e,t+1,n))},Vh[90]=function(e,t,r,n){return gh(e,t,5,fh(e,t+1,n))},Vh[91]=function(e,t,r,n){const i=dh(e,t+1,n);if("bigint"==typeof i)throw new Error(`${nh} 64-bit integer bytes lengths not supported`);return gh(e,t,9,i)},Vh[92]=$h,Vh[93]=$h,Vh[94]=$h,Vh[95]=Fh("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)Vh[e]=Ah;Vh[120]=function(e,t,r,n){return xh(e,t,2,ch(e,t+1,n),n)},Vh[121]=function(e,t,r,n){return xh(e,t,3,uh(e,t+1,n),n)},Vh[122]=function(e,t,r,n){return xh(e,t,5,fh(e,t+1,n),n)},Vh[123]=function(e,t,r,n){const i=dh(e,t+1,n);if("bigint"==typeof i)throw new Error(`${nh} 64-bit integer string lengths not supported`);return xh(e,t,9,i,n)},Vh[124]=$h,Vh[125]=$h,Vh[126]=$h,Vh[127]=Fh("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)Vh[e]=Sh;Vh[152]=function(e,t,r,n){return Mh(0,0,2,ch(e,t+1,n))},Vh[153]=function(e,t,r,n){return Mh(0,0,3,uh(e,t+1,n))},Vh[154]=function(e,t,r,n){return Mh(0,0,5,fh(e,t+1,n))},Vh[155]=function(e,t,r,n){const i=dh(e,t+1,n);if("bigint"==typeof i)throw new Error(`${nh} 64-bit integer array lengths not supported`);return Mh(0,0,9,i)},Vh[156]=$h,Vh[157]=$h,Vh[158]=$h,Vh[159]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error(`${nh} indefinite length items not allowed`);return Mh(0,0,1,1/0)};for(let e=160;e<=183;e++)Vh[e]=kh;Vh[184]=function(e,t,r,n){return Ih(0,0,2,ch(e,t+1,n))},Vh[185]=function(e,t,r,n){return Ih(0,0,3,uh(e,t+1,n))},Vh[186]=function(e,t,r,n){return Ih(0,0,5,fh(e,t+1,n))},Vh[187]=function(e,t,r,n){const i=dh(e,t+1,n);if("bigint"==typeof i)throw new Error(`${nh} 64-bit integer map lengths not supported`);return Ih(0,0,9,i)},Vh[188]=$h,Vh[189]=$h,Vh[190]=$h,Vh[191]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error(`${nh} indefinite length items not allowed`);return Ih(0,0,1,1/0)};for(let e=192;e<=215;e++)Vh[e]=Oh;Vh[216]=function(e,t,r,n){return new zd(qd.tag,ch(e,t+1,n),2)},Vh[217]=function(e,t,r,n){return new zd(qd.tag,uh(e,t+1,n),3)},Vh[218]=function(e,t,r,n){return new zd(qd.tag,fh(e,t+1,n),5)},Vh[219]=function(e,t,r,n){return new zd(qd.tag,dh(e,t+1,n),9)},Vh[220]=$h,Vh[221]=$h,Vh[222]=$h,Vh[223]=$h;for(let e=224;e<=243;e++)Vh[e]=Fh("simple values are not supported");Vh[244]=$h,Vh[245]=$h,Vh[246]=$h,Vh[247]=function(e,t,r,n){if(!1===n.allowUndefined)throw new Error(`${nh} undefined values are not supported`);return!0===n.coerceUndefinedToNull?new zd(qd.null,null,1):new zd(qd.undefined,void 0,1)},Vh[248]=Fh("simple values are not supported"),Vh[249]=function(e,t,r,n){return Rh(Uh(e,t+1),3,n)},Vh[250]=function(e,t,r,n){return Rh(qh(e,t+1),5,n)},Vh[251]=function(e,t,r,n){return Rh(zh(e,t+1),9,n)},Vh[252]=$h,Vh[253]=$h,Vh[254]=$h,Vh[255]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error(`${nh} indefinite length items not allowed`);return new zd(qd.break,void 0,1)};const Hh=[];for(let e=0;e<24;e++)Hh[e]=new zd(qd.uint,e,1);for(let e=-1;e>=-24;e--)Hh[31-e]=new zd(qd.negint,e,1);Hh[64]=new zd(qd.bytes,new Uint8Array(0),1),Hh[96]=new zd(qd.string,"",1),Hh[128]=new zd(qd.array,0,1),Hh[160]=new zd(qd.map,0,1),Hh[244]=new zd(qd.false,!1,1),Hh[245]=new zd(qd.true,!0,1),Hh[246]=new zd(qd.null,null,1);const Kh={float64:!1,mapSorter:function(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const i=r.type.major,o=Jh[i].compareTokens(r,n);return 0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o},quickEncodeToken:function(e){switch(e.type){case qd.false:return Gd([244]);case qd.true:return Gd([245]);case qd.null:return Gd([246]);case qd.bytes:return e.value.length?void 0:Gd([64]);case qd.string:return""===e.value?Gd([96]):void 0;case qd.array:return 0===e.value?Gd([128]):void 0;case qd.map:return 0===e.value?Gd([160]):void 0;case qd.uint:return e.value<24?Gd([Number(e.value)]):void 0;case qd.negint:if(e.value>=-24)return Gd([31-Number(e.value)])}}},Jh=function(){const e=[];return e[qd.uint.major]=hh,e[qd.negint.major]=bh,e[qd.bytes.major]=wh,e[qd.string.major]=Eh,e[qd.array.major]=_h,e[qd.map.major]=jh,e[qd.tag.major]=Ch,e[qd.float.major]=Nh,e}(),Wh=new rh;class Gh{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${ih} object contains circular references`);return new Gh(t,e)}}const Zh={null:new zd(qd.null,null),undefined:new zd(qd.undefined,void 0),true:new zd(qd.true,!0),false:new zd(qd.false,!1),emptyArray:new zd(qd.array,0),emptyMap:new zd(qd.map,0)},Xh={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new zd(e>=0?qd.uint:qd.negint,e):new zd(qd.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new zd(qd.uint,e):new zd(qd.negint,e),Uint8Array:(e,t,r,n)=>new zd(qd.bytes,e),string:(e,t,r,n)=>new zd(qd.string,e),boolean:(e,t,r,n)=>e?Zh.true:Zh.false,null:(e,t,r,n)=>Zh.null,undefined:(e,t,r,n)=>Zh.undefined,ArrayBuffer:(e,t,r,n)=>new zd(qd.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new zd(qd.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[Zh.emptyArray,new zd(qd.break)]:Zh.emptyArray;n=Gh.createCheck(n,e);const i=[];let o=0;for(const t of e)i[o++]=Qh(t,r,n);return r.addBreakTokens?[new zd(qd.array,e.length),i,new zd(qd.break)]:[new zd(qd.array,e.length),i]},Object(e,t,r,n){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===r.addBreakTokens?[Zh.emptyMap,new zd(qd.break)]:Zh.emptyMap;n=Gh.createCheck(n,e);const a=[];let c=0;for(const t of o)a[c++]=[Qh(t,r,n),Qh(i?e.get(t):e[t],r,n)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,r),r.addBreakTokens?[new zd(qd.map,s),a,new zd(qd.break)]:[new zd(qd.map,s),a]}};Xh.Map=Xh.Object,Xh.Buffer=Xh.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Xh[`${e}Array`]=Xh.DataView;function Qh(e,t={},r){const n=function(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(Ud.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";return function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(Ld.includes(t))return t}(e)||"Object"}(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||Xh[n];if("function"==typeof i){const o=i(e,n,t,r);if(null!=o)return o}const o=Xh[n];if(!o)throw new Error(`${ih} unsupported type: ${n}`);return o(e,n,t,r)}function Yh(e,t,r,n){if(Array.isArray(t))for(const i of t)Yh(e,i,r,n);else r[t.type.major](e,t,n)}function el(e,t,r){const n=Qh(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const e=r.quickEncodeToken(n);if(e)return e;const i=t[n.type.major];if(i.encodedSize){const e=i.encodedSize(n,r),t=new rh(e);if(i(t,n,r),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Kd(t.chunks[0])}}return Wh.reset(),Yh(Wh,n,t,r),Wh.toBytes(!0)}const tl={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class rl{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=Hh[e];if(void 0===t){const r=Vh[e];if(!r)throw new Error(`${nh} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}const nl=Symbol.for("DONE"),il=Symbol.for("BREAK");function ol(e,t){if(e.done())return nl;const r=e.next();if(r.type===qd.break)return il;if(r.type.terminal)return r.value;if(r.type===qd.array)return function(e,t,r){const n=[];for(let i=0;i<e.value;i++){const o=ol(t,r);if(o===il){if(e.value===1/0)break;throw new Error(`${nh} got unexpected break to lengthed array`)}if(o===nl)throw new Error(`${nh} found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}(r,e,t);if(r.type===qd.map)return function(e,t,r){const n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<e.value;s++){const a=ol(t,r);if(a===il){if(e.value===1/0)break;throw new Error(`${nh} got unexpected break to lengthed map`)}if(a===nl)throw new Error(`${nh} found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==n&&"string"!=typeof a)throw new Error(`${nh} non-string keys not supported (got ${typeof a})`);if(!0===r.rejectDuplicateMapKeys&&(n&&o.has(a)||!n&&a in i))throw new Error(`${nh} found repeat map key "${a}"`);const c=ol(t,r);if(c===nl)throw new Error(`${nh} found map but not enough entries (got ${s} [no value], expected ${e.value})`);n?o.set(a,c):i[a]=c}return n?o:i}(r,e,t);if(r.type===qd.tag){if(t.tags&&"function"==typeof t.tags[r.value]){const n=ol(e,t);return t.tags[r.value](n)}throw new Error(`${nh} tag not supported (${r.value})`)}throw new Error("unsupported")}var sl=r(3889);const al={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=sl.k.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new zd(qd.tag,42),new zd(qd.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},cl={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};cl.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return sl.k.decode(e.subarray(1))};const ul="dag-cbor",fl=113,dl=e=>{return t=e,r=al,r=Object.assign({},Kh,r),el(t,Jh,r);var t,r},hl=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error(`${nh} data to decode must be a Uint8Array`);const r=(t=Object.assign({},tl,t)).tokenizer||new rl(e,t),n=ol(r,t);if(n===nl)throw new Error(`${nh} did not find any content to decode`);if(n===il)throw new Error(`${nh} got unexpected break`);if(!r.done())throw new Error(`${nh} too many terminals, data makes no sense`);return n}(e,cl);function ll(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function pl(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ll(e,t,"get"))}var yl=new WeakMap;class bl{get connection(){return pl(this,yl)}createID(){return((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))()}request(e,t=void 0,r={}){const{signal:n}=r;if(n?.aborted)return Promise.reject(Zf);const i=this.createID(),o=pl(this,yl).send({jsonrpc:"2.0",id:i,method:e,params:t}).then((e=>{if(null==e)throw new Error("Missing response");if(null!=e.error)throw Jf.fromObject(e.error);return e.result}));return null==n?o:(n.addEventListener("abort",(()=>{this.notify(Xf,{id:i})})),function(e,t){if(t.aborted)return Promise.reject(Zf);let r;const n=new Promise(((e,t)=>{r=t}));return t.addEventListener("abort",(()=>{r(Zf)})),Promise.race([e,n])}(o,n))}async notify(e,t=void 0){await pl(this,yl).send({jsonrpc:"2.0",method:e,params:t})}constructor(e){var t,r,n;n={writable:!0,value:void 0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,r=yl),r.set(t,n),function(e,t,r){(function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}})(e,ll(e,t,"set"),r)}(this,yl,e)}}let gl=!1,vl=!1;const ml={debug:1,default:2,info:2,warning:3,error:4,off:5};let wl=ml.default,xl=null;const Al=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var El,Ml;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(El||(El={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(Ml||(Ml={}));const Sl="0123456789abcdef";class _l{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==ml[r]&&this.throwArgumentError("invalid log level name","logLevel",e),wl>ml[r]||console.log.apply(console,t)}debug(...e){this._log(_l.levels.DEBUG,e)}info(...e){this._log(_l.levels.INFO,e)}warn(...e){this._log(_l.levels.WARNING,e)}makeError(e,t,r){if(vl)return this.makeError("censored error",t,{});t||(t=_l.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=Sl[t[e]>>4],r+=Sl[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case Ml.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Ml.CALL_EXCEPTION:case Ml.INSUFFICIENT_FUNDS:case Ml.MISSING_NEW:case Ml.NONCE_EXPIRED:case Ml.REPLACEMENT_UNDERPRICED:case Ml.TRANSACTION_REPLACED:case Ml.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,_l.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),Al&&this.throwError("platform missing String.prototype.normalize",_l.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Al})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,_l.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,_l.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,_l.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,_l.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",_l.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",_l.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",_l.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return xl||(xl=new _l("logger/5.7.0")),xl}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",_l.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),gl){if(!e)return;this.globalLogger().throwError("error censorship permanent",_l.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}vl=!!e,gl=!!t}static setLogLevel(e){const t=ml[e.toLowerCase()];null!=t?wl=t:_l.globalLogger().warn("invalid log level - "+e)}static from(e){return new _l(e)}}_l.errors=Ml,_l.levels=El;const Il=new _l("bytes/5.7.0");function kl(e){return!!e.toHexString}function jl(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return jl(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Ol(e){return"number"==typeof e&&e==e&&e%1==0}function Cl(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!Ol(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Ol(r)||r<0||r>=256)return!1}return!0}function Rl(e,t){if(t||(t={}),"number"==typeof e){Il.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),jl(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),kl(e)&&(e=e.toHexString()),Nl(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":Il.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return jl(new Uint8Array(n))}return Cl(e)?jl(new Uint8Array(e)):Il.throwArgumentError("invalid arrayify value","value",e)}function Nl(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const Pl="0123456789abcdef";function Bl(e,t){if(t||(t={}),"number"==typeof e){Il.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=Pl[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),kl(e))return e.toHexString();if(Nl(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":Il.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Cl(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=Pl[(240&n)>>4]+Pl[15&n]}return t}return Il.throwArgumentError("invalid hexlify value","value",e)}function Dl(e,t,r){return"string"!=typeof e?e=Bl(e):(!Nl(e)||e.length%2)&&Il.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function Tl(e,t){for("string"!=typeof e?e=Bl(e):Nl(e)||Il.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Il.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function Ul(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Nl(r=e)&&!(r.length%2)||Cl(r)){let r=Rl(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=Bl(r.slice(0,32)),t.s=Bl(r.slice(32,64))):65===r.length?(t.r=Bl(r.slice(0,32)),t.s=Bl(r.slice(32,64)),t.v=r[64]):Il.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:Il.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=Bl(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=function(e,t){(e=Rl(e)).length>t&&Il.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),jl(r)}(Rl(t._vs),32);t._vs=Bl(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&Il.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const i=Bl(r);null==t.s?t.s=i:t.s!==i&&Il.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?Il.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&Il.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&Nl(t.r)?t.r=Tl(t.r,32):Il.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&Nl(t.s)?t.s=Tl(t.s,32):Il.throwArgumentError("signature missing or invalid s","signature",e);const r=Rl(t.s);r[0]>=128&&Il.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=Bl(r);t._vs&&(Nl(t._vs)||Il.throwArgumentError("signature invalid _vs","signature",e),t._vs=Tl(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&Il.throwArgumentError("signature _vs mismatch v and s","signature",e)}var r;return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var Ll=r(4474),ql=r.n(Ll);function zl(e){return"0x"+ql().keccak_256(Rl(e))}const $l=new _l("strings/5.7.0");var Fl,Vl;function Hl(e,t,r,n,i){if(e===Vl.BAD_PREFIX||e===Vl.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===Vl.OVERRUN?r.length-t-1:0}function Kl(e,t=Fl.current){t!=Fl.current&&($l.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){t++;const i=e.charCodeAt(t);if(t>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return Rl(r)}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(Fl||(Fl={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Vl||(Vl={})),Object.freeze({error:function(e,t,r,n,i){return $l.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:Hl,replace:function(e,t,r,n,i){return e===Vl.OVERLONG?(n.push(i),0):(n.push(65533),Hl(e,t,r))}});var Jl=r(8394),Wl=r.n(Jl),Gl=Wl().BN;new _l("bignumber/5.7.0");const Zl=new _l("address/5.7.0");function Xl(e){Nl(e,20)||Zl.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);const n=Rl(zl(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Ql={};for(let e=0;e<10;e++)Ql[String(e)]=String(e);for(let e=0;e<26;e++)Ql[String.fromCharCode(65+e)]=String(10+e);const Yl=Math.floor((ep=9007199254740991,Math.log10?Math.log10(ep):Math.log(ep)/Math.LN10));var ep;function tp(e){let t=null;if("string"!=typeof e&&Zl.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=Xl(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Zl.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Ql[e])).join("");for(;t.length>=Yl;){let e=t.substring(0,Yl);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e)&&Zl.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new Gl(r,36).toString(16);t.length<40;)t="0"+t;t=Xl("0x"+t)}else Zl.throwArgumentError("invalid address","address",e);var r;return t}var rp=r(5370),np=r.n(rp);function ip(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var op=sp;function sp(e,t){if(!e)throw new Error(t||"Assertion failed")}sp.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var ap=ip((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),cp=ip((function(e,t){var r=t;r.assert=op,r.toArray=ap.toArray,r.zero2=ap.zero2,r.toHex=ap.toHex,r.encode=ap.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,c=o.andln(i-1);o.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),s=0==(1&c)?0:3!=(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c,r[0].push(s),a=0==(1&u)?0:3!=(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new(Wl())(e,"hex","le")}})),up=cp.getNAF,fp=cp.getJSF,dp=cp.assert;function hp(e,t){this.type=e,this.p=new(Wl())(t.p,16),this.red=t.prime?Wl().red(t.prime):Wl().mont(this.p),this.zero=new(Wl())(0).toRed(this.red),this.one=new(Wl())(1).toRed(this.red),this.two=new(Wl())(2).toRed(this.red),this.n=t.n&&new(Wl())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var lp=hp;function pp(e,t){this.curve=e,this.type=t,this.precomputed=null}hp.prototype.point=function(){throw new Error("Not implemented")},hp.prototype.validate=function(){throw new Error("Not implemented")},hp.prototype._fixedNafMul=function(e,t){dp(e.precomputed);var r=e._getDoubles(),n=up(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var c=o+r.step-1;c>=o;c--)s=(s<<1)+n[c];a.push(s)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<a.length;o++)(s=a[o])===d?f=f.mixedAdd(r.points[o]):s===-d&&(f=f.mixedAdd(r.points[o].neg()));u=u.add(f)}return u.toP()},hp.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=up(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var c=0;a>=0&&0===o[a];a--)c++;if(a>=0&&c++,s=s.dblp(c),a<0)break;var u=o[a];dp(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},hp.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,c=this._wnafT1,u=this._wnafT2,f=this._wnafT3,d=0;for(o=0;o<n;o++){var h=(a=t[o])._getNAFPoints(e);c[o]=h.wnd,u[o]=h.points}for(o=n-1;o>=1;o-=2){var l=o-1,p=o;if(1===c[l]&&1===c[p]){var y=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(y[1]=t[l].add(t[p]),y[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(y[1]=t[l].toJ().mixedAdd(t[p]),y[2]=t[l].add(t[p].neg())):(y[1]=t[l].toJ().mixedAdd(t[p]),y[2]=t[l].toJ().mixedAdd(t[p].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],g=fp(r[l],r[p]);for(d=Math.max(g[0].length,d),f[l]=new Array(d),f[p]=new Array(d),s=0;s<d;s++){var v=0|g[0][s],m=0|g[1][s];f[l][s]=b[3*(v+1)+(m+1)],f[p][s]=0,u[l]=y}}else f[l]=up(r[l],c[l],this._bitLength),f[p]=up(r[p],c[p],this._bitLength),d=Math.max(f[l].length,d),d=Math.max(f[p].length,d)}var w=this.jpoint(null,null,null),x=this._wnafT4;for(o=d;o>=0;o--){for(var A=0;o>=0;){var E=!0;for(s=0;s<n;s++)x[s]=0|f[s][o],0!==x[s]&&(E=!1);if(!E)break;A++,o--}if(o>=0&&A++,w=w.dblp(A),o<0)break;for(s=0;s<n;s++){var M=x[s];0!==M&&(M>0?a=u[s][M-1>>1]:M<0&&(a=u[s][-M-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?w:w.toP()},hp.BasePoint=pp,pp.prototype.eq=function(){throw new Error("Not implemented")},pp.prototype.validate=function(){return this.curve.validate(this)},hp.prototype.decodePoint=function(e,t){e=cp.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?dp(e[e.length-1]%2==0):7===e[0]&&dp(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},pp.prototype.encodeCompressed=function(e){return this.encode(e,!0)},pp.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},pp.prototype.encode=function(e,t){return cp.encode(this._encode(t),e)},pp.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},pp.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},pp.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},pp.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},pp.prototype._getBeta=function(){return null},pp.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var yp=ip((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),bp=cp.assert;function gp(e){lp.call(this,"short",e),this.a=new(Wl())(e.a,16).toRed(this.red),this.b=new(Wl())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}yp(gp,lp);var vp=gp;function mp(e,t,r,n){lp.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(Wl())(t,16),this.y=new(Wl())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function wp(e,t,r,n){lp.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(Wl())(0)):(this.x=new(Wl())(t,16),this.y=new(Wl())(r,16),this.z=new(Wl())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}gp.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new(Wl())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new(Wl())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],bp(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new(Wl())(e.a,16),b:new(Wl())(e.b,16)}})):this._getEndoBasis(r)}}},gp.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Wl().mont(e),r=new(Wl())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(Wl())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},gp.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,c,u,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),l=new(Wl())(1),p=new(Wl())(0),y=new(Wl())(0),b=new(Wl())(1),g=0;0!==d.cmpn(0);){var v=h.div(d);c=h.sub(v.mul(d)),u=y.sub(v.mul(l));var m=b.sub(v.mul(p));if(!n&&c.cmp(f)<0)t=a.neg(),r=l,n=c.neg(),i=u;else if(n&&2==++g)break;a=c,h=d,d=c,y=l,l=u,b=p,p=m}o=c.neg(),s=u;var w=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},gp.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},gp.prototype.pointFromX=function(e,t){(e=new(Wl())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},gp.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},gp.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=a,n[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return u},yp(mp,lp.BasePoint),gp.prototype.point=function(e,t,r){return new mp(this,e,t,r)},gp.prototype.pointFromJSON=function(e,t){return mp.fromJSON(this,e,t)},mp.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},mp.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},mp.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},mp.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},mp.prototype.isInfinity=function(){return this.inf},mp.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},mp.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},mp.prototype.getX=function(){return this.x.fromRed()},mp.prototype.getY=function(){return this.y.fromRed()},mp.prototype.mul=function(e){return e=new(Wl())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},mp.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},mp.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},mp.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},mp.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},mp.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},yp(wp,lp.BasePoint),gp.prototype.jpoint=function(e,t,r){return new wp(this,e,t,r)},wp.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},wp.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},wp.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),d=n.redMul(u),h=c.redSqr().redIAdd(f).redISub(d).redISub(d),l=c.redMul(d.redISub(h)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,l,p)},wp.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),f=r.redMul(c),d=a.redSqr().redIAdd(u).redISub(f).redISub(f),h=a.redMul(f.redISub(d)).redISub(i.redMul(u)),l=this.z.redMul(s);return this.curve.jpoint(d,h,l)},wp.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),l=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(c)),p=o.redMul(d),y=l.redSqr().redISub(p.redAdd(p)),b=p.redISub(y),g=l.redMul(b);g=g.redIAdd(g).redISub(h);var v=u.redMul(a);t+1<e&&(c=c.redMul(h)),o=y,a=v,u=g}return this.curve.jpoint(o,u.redMul(i),a)},wp.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},wp.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),l=this.x.redAdd(d).redSqr().redISub(f).redISub(h);l=l.redIAdd(l);var p=f.redAdd(f).redIAdd(f),y=p.redSqr(),b=h.redIAdd(h);b=(b=b.redIAdd(b)).redIAdd(b),e=y.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},wp.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),l=this.x.redSub(f).redMul(this.x.redAdd(f));l=l.redAdd(l).redIAdd(l);var p=h.redIAdd(h),y=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var b=d.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=l.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},wp.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),f=a.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=a.redMul(d).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,l,p)},wp.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),f=t.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.x.redMul(a).redISub(f);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(d,h,l)},wp.prototype.mul=function(e,t){return e=new(Wl())(e,t),this.curve._wnafMul(this,e)},wp.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},wp.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},wp.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},wp.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var xp=ip((function(e,t){var r=t;r.base=lp,r.short=vp,r.mont=null,r.edwards=null})),Ap=ip((function(e,t){var r,n=t,i=cp.assert;function o(e){"short"===e.type?this.curve=new xp.short(e):"edwards"===e.type?this.curve=new xp.edwards(e):this.curve=new xp.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new o(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:np().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:np().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:np().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:np().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:np().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:np().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:np().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:np().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Ep(e){if(!(this instanceof Ep))return new Ep(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=ap.toArray(e.entropy,e.entropyEnc||"hex"),r=ap.toArray(e.nonce,e.nonceEnc||"hex"),n=ap.toArray(e.pers,e.persEnc||"hex");op(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Mp=Ep;Ep.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Ep.prototype._hmac=function(){return new(np().hmac)(this.hash,this.K)},Ep.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Ep.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=ap.toArray(e,t),r=ap.toArray(r,n),op(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Ep.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=ap.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,ap.encode(o,t)};var Sp=cp.assert;function _p(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Ip=_p;_p.fromPublic=function(e,t,r){return t instanceof _p?t:new _p(e,{pub:t,pubEnc:r})},_p.fromPrivate=function(e,t,r){return t instanceof _p?t:new _p(e,{priv:t,privEnc:r})},_p.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},_p.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},_p.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},_p.prototype._importPrivate=function(e,t){this.priv=new(Wl())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},_p.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Sp(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Sp(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},_p.prototype.derive=function(e){return e.validate()||Sp(e.validate(),"public point not validated"),e.mul(this.priv).getX()},_p.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},_p.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},_p.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var kp=cp.assert;function jp(e,t){if(e instanceof jp)return e;this._importDER(e,t)||(kp(e.r&&e.s,"Signature without r or s"),this.r=new(Wl())(e.r,16),this.s=new(Wl())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Op=jp;function Cp(){this.place=0}function Rp(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function Np(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function Pp(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}jp.prototype._importDER=function(e,t){e=cp.toArray(e,t);var r=new Cp;if(48!==e[r.place++])return!1;var n=Rp(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=Rp(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=Rp(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(Wl())(o),this.s=new(Wl())(a),this.recoveryParam=null,!0},jp.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=Np(t),r=Np(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Pp(n,t.length),(n=n.concat(t)).push(2),Pp(n,r.length);var i=n.concat(r),o=[48];return Pp(o,i.length),o=o.concat(i),cp.encode(o,e)};var Bp=function(){throw new Error("unsupported")},Dp=cp.assert;function Tp(e){if(!(this instanceof Tp))return new Tp(e);"string"==typeof e&&(Dp(Object.prototype.hasOwnProperty.call(Ap,e),"Unknown curve "+e),e=Ap[e]),e instanceof Ap.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Up=Tp;Tp.prototype.keyPair=function(e){return new Ip(this,e)},Tp.prototype.keyFromPrivate=function(e,t){return Ip.fromPrivate(this,e,t)},Tp.prototype.keyFromPublic=function(e,t){return Ip.fromPublic(this,e,t)},Tp.prototype.genKeyPair=function(e){e||(e={});for(var t=new Mp({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Bp(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(Wl())(2));;){var i=new(Wl())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Tp.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Tp.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(Wl())(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new Mp({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new(Wl())(1)),u=0;;u++){var f=n.k?n.k(u):new(Wl())(a.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(c)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var h=d.getX(),l=h.umod(this.n);if(0!==l.cmpn(0)){var p=f.invm(this.n).mul(l.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var y=(d.getY().isOdd()?1:0)|(0!==h.cmp(l)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),y^=1),new Op({r:l,s:p,recoveryParam:y})}}}}}},Tp.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(Wl())(e,16)),r=this.keyFromPublic(r,n);var i=(t=new Op(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),c=a.mul(e).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,r.getPublic(),u)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(c,r.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Tp.prototype.recoverPubKey=function(e,t,r,n){Dp((3&r)===r,"The recovery param is more than two bits"),t=new Op(t,n);var i=this.n,o=new(Wl())(e),s=t.r,a=t.s,c=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var f=t.r.invm(i),d=i.sub(o).mul(f).umod(i),h=a.mul(f).umod(i);return this.g.mulAdd(d,s,h)},Tp.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Op(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Lp=ip((function(e,t){var r=t;r.version="6.5.4",r.utils=cp,r.rand=function(){throw new Error("unsupported")},r.curve=xp,r.curves=Ap,r.ec=Up,r.eddsa=null})),qp=Lp.ec;function zp(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}new _l("properties/5.7.0");const $p=new _l("signing-key/5.7.0");let Fp=null;function Vp(){return Fp||(Fp=new qp("secp256k1")),Fp}class Hp{constructor(e){zp(this,"curve","secp256k1"),zp(this,"privateKey",Bl(e)),32!==function(e){if("string"!=typeof e)e=Bl(e);else if(!Nl(e)||e.length%2)return null;return(e.length-2)/2}(this.privateKey)&&$p.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Vp().keyFromPrivate(Rl(this.privateKey));zp(this,"publicKey","0x"+t.getPublic(!1,"hex")),zp(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),zp(this,"_isSigningKey",!0)}_addPoint(e){const t=Vp().keyFromPublic(Rl(this.publicKey)),r=Vp().keyFromPublic(Rl(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=Vp().keyFromPrivate(Rl(this.privateKey)),r=Rl(e);32!==r.length&&$p.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return Ul({recoveryParam:n.recoveryParam,r:Tl("0x"+n.r.toString(16),32),s:Tl("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=Vp().keyFromPrivate(Rl(this.privateKey)),r=Vp().keyFromPublic(Rl(Kp(e)));return Tl("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function Kp(e,t){const r=Rl(e);if(32===r.length){const e=new Hp(r);return t?"0x"+Vp().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?Bl(r):"0x"+Vp().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+Vp().keyFromPublic(r).getPublic(!0,"hex"):Bl(r):$p.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Jp;function Wp(e,t){return function(e,t){return function(e){return tp(Dl(zl(Dl(Kp(e),1)),12))}(function(e,t){const r=Ul(t),n={r:Rl(r.r),s:Rl(r.s)};return"0x"+Vp().recoverPubKey(Rl(e),n,r.recoveryParam).encode("hex",!1)}(Rl(e),t))}(function(e){return"string"==typeof e&&(e=Kl(e)),zl(function(e){const t=e.map((e=>Rl(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),jl(n)}([Kl("Ethereum Signed Message:\n"),Kl(String(e.length)),e]))}(e),t)}new _l("transactions/5.7.0"),function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(Jp||(Jp={})),new _l("wallet/5.7.0");const Gp=new Date("2022-09-20").valueOf(),Zp="base64pad",Xp="base64url";function Qp(e){return gr(e,Zp)}function Yp(e){return JSON.parse(gr(br(e,Xp)))}const ey={eip191:async(e,t)=>{!function(e,t){Bf(e),function(e,t){const r=t.atTime?t.atTime.getTime():Date.now(),n=1e3*(t.clockSkewSecs??Rf);if(Date.parse(e.p.iat)>r+n||Date.parse(e.p.nbf)>r+n)throw new Error("CACAO is not valid yet");const i=t.revocationPhaseOutSecs?1e3*t.revocationPhaseOutSecs:0;if(!t.disableExpirationCheck&&Date.parse(e.p.exp)+i+n<r)throw new Error("CACAO has expired")}(e,t);const r=[Wp(Jc.fromCacao(e).toMessage(),e.s.s).toLowerCase()];if(Date.parse(e.p.iat)<=Gp){const t=Wp(function(e,t){const r=`${e.domain} wants you to sign in with your Ethereum account:`,n=`URI: ${e.uri}`;let i=[r,e.address].join("\n");const o=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const s=[n,o,`Nonce: ${e.nonce}`];if(e.issuedAt&&Date.parse(e.issuedAt),e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),s.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;s.push(t)}e.notBefore&&s.push(`Not Before: ${e.notBefore}`),e.requestId&&s.push(`Request ID: ${e.requestId}`),e.chainId&&s.push(`Chain ID: ${e.chainId}`),e.resources&&s.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const a=s.join("\n");return e.statement&&(i=[i,e.statement].join("\n\n")),[i,a].join("\n\n")}(Jc.fromCacao(e)),e.s.s).toLowerCase();r.push(t)}const n=ma.parse(e.p.iss.replace("did:pkh:","")).address.toLowerCase();if(!r.includes(n))throw new Error("Signature does not belong to issuer")}(e,t)}};class ty{get capability(){if(!this._capability)throw new Error("DID has no capability attached");return this._capability}get hasCapability(){return null!=this._capability}get parent(){if(!this._parentId)throw new Error("DID has no parent DID");return this._parentId}get hasParent(){return null!=this._parentId}get id(){if(null==this._id)throw new Error("DID is not authenticated");return this._id}get authenticated(){return null!=this._id}withCapability(e){return new ty({provider:this._client?.connection,resolver:this._resolver,capability:e,parent:this._parentId})}setProvider(e){if(null==this._client)this._client=new bl(e);else if(this._client.connection!==e)throw new Error("A different provider is already set, create a new DID instance to use another provider")}setResolver(e,t){this._resolver=function(e){return"registry"in e&&"cache"in e}(e)?e:new Bd(e,t)}async authenticate({provider:e,paths:t=[],aud:r}={}){if(null!=e&&this.setProvider(e),null==this._client)throw new Error("No provider available");const n=gr((0,Df.randomBytes)(16),"base64"),i=await this._client.request("did_authenticate",{nonce:n,aud:r,paths:t}),{kid:o}=await this.verifyJWS(i),s=Yp(i.payload);if(!o.includes(s.did))throw new Error("Invalid authencation response, kid mismatch");if(s.nonce!==n)throw new Error("Invalid authencation response, wrong nonce");if(s.aud!==r)throw new Error("Invalid authencation response, wrong aud");if(s.exp<Date.now()/1e3)throw new Error("Invalid authencation response, expired");return this._id=s.did,this._id}async createJWS(e,t={}){if(null==this._client)throw new Error("No provider available");if(null==this._id)throw new Error("DID is not authenticated");if(this._capability){const e=this._capability.p.exp;if(e&&Date.parse(e)<Date.now())throw new Error("Capability is expired, cannot create a valid signature");const r=await Pf.fromCacao(this._capability),n=pe.asCID(r.cid);if(!n)throw new Error("Capability CID of the JWS cannot be set to the capability payload cid as they are incompatible");t.protected=t.protected||{},t.protected.cap=`ipfs://${n?.toString()}`}const{jws:r}=await this._client.request("did_createJWS",{did:this._id,...t,payload:e});return r}async createDagJWS(e,t={}){const{cid:r,linkedBlock:n}=await async function(e){const t=await jf({value:e,codec:E,hasher:Cf});return{cid:t.cid,linkedBlock:t.bytes}}(e),i=function(e){return gr(e,Xp)}(r.bytes);Object.assign(t,{linkedBlock:Qp(n)});const o=await this.createJWS(i,t),s=pe.asCID(r);if(!s)throw new Error("CID of the JWS cannot be set to the encoded payload cid as they are incompatible");return o.link=s,this._capability?{jws:o,linkedBlock:n,cacaoBlock:(await Pf.fromCacao(this._capability)).bytes}:{jws:o,linkedBlock:n}}async verifyJWS(e,t={}){t=Object.assign({verifiers:ey},t),"string"!=typeof e&&(e=function(e){if(e.signatures.length>1)throw new Error("Cant convert to compact jws");return`${e.signatures[0].protected}.${e.payload}.${e.signatures[0].signature}`}(e));const r=Yp(e.split(".")[0]).kid;if(!r)throw new Error('No "kid" found in jws');const n=await this.resolve(r);if(!t.disableTimecheck){const e=n.didDocumentMetadata?.nextUpdate;if(e){const n=t.revocationPhaseOutSecs?1e3*t.revocationPhaseOutSecs:0,i=new Date(e).valueOf()+n;if(!(t.atTime&&t.atTime.getTime()<i))throw new Error(`invalid_jws: signature authored with a revoked DID version: ${r}`)}const i=n.didDocumentMetadata?.updated;if(i&&t.atTime&&t.atTime.getTime()<new Date(i).valueOf())throw new Error(`invalid_jws: signature authored before creation of DID version: ${r}`)}const i=n.didDocument?.id;if(t.issuer&&t.issuer===t.capability?.p.iss&&i===t.capability.p.aud){if(!t.verifiers)throw new Error("Registered verifiers needed for CACAO");await Nf.verify(t.capability,{disableExpirationCheck:t.disableTimecheck,atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}})}else if(t.issuer&&t.issuer!==i){const e=(o=t.issuer,(s=t.atTime)?`${o}?versionTime=${s.toISOString().split(".")[0]+"Z"}`:o),n=await this.resolve(e),a=n.didDocument?.controller,c=function(e){return e?Array.isArray(e)?e:[e]:[]}(a);if(t.capability?.s&&t.capability.p.aud===i&&c.includes(t.capability.p.iss))await Nf.verify(t.capability,{atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}});else if(!i||!c.includes(i))throw new Error(`invalid_jws: not a valid verificationMethod for issuer: ${r}`)}var o,s;let a;Vo(e,n.didDocument?.verificationMethod||[]);try{a=Yp(e.split(".")[1])}catch(e){}return{kid:r,payload:a,didResolutionResult:n}}async createJWE(e,t,r={}){return function(e,t,r={},n,i=!1){try{if("dir"===t[0].alg){if(t.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(t[0].encrypt(e,r,n)).then((function(e){return Go(e,n)}))}{const o=t[0].enc;if(!t.reduce(((e,t)=>e&&t.enc===o),!0))throw new Error("invalid_argument: Incompatible encrypters passed");let s,a,c;if(i){c=t[0].genEpk?.();const e=t[0].alg;r={...r,alg:e,epk:c?.publicKeyJWK}}const u=function(e,t,r){if("function"==typeof e[Ho]){var n,i,o,s=e[Ho]();function f(e){try{for(;!((n=s.next()).done||r&&r());)if((e=t(n.value))&&e.then){if(!Wo(e))return void e.then(f,o||(o=Ko.bind(null,i=new Jo,2)));e=e.v}i?Ko(i,1,e):i=e}catch(e){Ko(i||(i=new Jo),2,e)}}if(f(),s.return){var a=function(e){try{n.done||s.return()}catch(e){}return e};if(i&&i.then)return i.then(a,(function(e){throw a(e)}));a()}return i}if(!("length"in e))throw new TypeError("Object is not iterable");for(var c=[],u=0;u<e.length;u++)c.push(e[u]);return function(e,t,r){var n,i,o=-1;return function s(a){try{for(;++o<e.length&&(!r||!r());)if((a=t(o))&&a.then){if(!Wo(a))return void a.then(s,i||(i=Ko.bind(null,n=new Jo,2)));a=a.v}n?Ko(n,1,a):n=a}catch(e){Ko(n||(n=new Jo),2,e)}}(),n}(c,(function(e){return t(c[e])}),r)}(t,(function(t){const i=s?Promise.resolve(t.encryptCek?.(s,c)).then((function(e){e&&a?.recipients?.push(e)})):Promise.resolve(t.encrypt(e,r,n,c)).then((function(e){s=e.cek,a=Go(e,n)}));if(i&&i.then)return i.then((function(){}))}));return Promise.resolve(u&&u.then?u.then((function(){return a})):a)}}catch(e){return Promise.reject(e)}}(e,await es(t,this._resolver),r.protectedHeader,r.aad)}async createDagJWE(e,t,r={}){const n=await async function(e,t){return function(e,t=24){const r=(t-e.length%t)%t,n=new Uint8Array(e.length+r);return n.set(e,0),n}((await async function(e){return(await jf({value:e,codec:E,hasher:Td})).cid}(e)).bytes,t)}(e);return this.createJWE(n,t,r)}async decryptJWE(e,t={}){if(null==this._client)throw new Error("No provider available");if(null==this._id)throw new Error("DID is not authenticated");const{cleartext:r}=await this._client.request("did_decryptJWE",{did:this._id,...t,jwe:e});return function(e){return br(e,Zp)}(r)}async decryptDagJWE(e){return t=await this.decryptJWE(e),function(e){const t=pe.asCID(e);if(!t)throw new Error("CID could not be parsed");if(t.code!==fl)throw new Error("CID codec must be dag-cbor");if(t.multihash.code!==Td.code)throw new Error("CID must use identity multihash");return hl(t.multihash.digest)}(pe.decodeFirst(t)[0]);var t}async resolve(e){const t=await this._resolver.resolve(e);if(t.didResolutionMetadata.error){const{error:r,message:n}=t.didResolutionMetadata;throw new Error(`Failed to resolve ${e}: ${r}${n?`, ${n}`:""}`)}return t}constructor({provider:e,resolver:t={},resolverOptions:r,capability:n,parent:i}={}){if(null!=e&&(this._client=new bl(e)),n){if(this._capability=n,this._parentId=this._capability.p.iss,i&&this._parentId!==i)throw new Error("Capability issuer and parent not equal")}else i&&(this._parentId=i);this.setResolver(t,r)}}function ry(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function ny(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ry(e,t,"get"))}function iy(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function oy(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,ry(e,t,"set"),r),r}async function sy(e){const t=new sd(e||(0,Df.randomBytes)(32)),r=new ty({provider:t,resolver:jd()});return await r.authenticate(),r}var ay=new WeakMap,cy=new WeakMap,uy=new WeakMap;class fy{static async authorize(e,t={}){if(!t.resources||0===t.resources.length)throw new Error("Required: resource argument option when authorizing");const r=t,n=(0,Df.randomBytes)(32),i=await sy(n);if(r.uri=i.id,t.expiresInSecs){const e=new Date(Date.now()+1e3*t.expiresInSecs);r.expirationTime=e.toISOString()}const o=await e(t),s=await async function(e,t){const r=e.withCapability(t);return await r.authenticate(),r}(i,o);return new fy({cacao:o,keySeed:n,did:s})}static async initDID(e,t){const r=e.withCapability(t);return await r.authenticate(),r}get did(){return ny(this,ay)}serialize(){var e,t;return t={sessionKeySeed:(e=ny(this,cy),gr(e,"base64pad")),cacao:ny(this,uy)},gr(br(JSON.stringify(t)),"base64url")}static async fromSession(e){const{sessionKeySeed:t,cacao:r}=function(e){return JSON.parse(gr(br(e,"base64url")))}(e),n=function(e){return br(e,"base64pad")}(t),i=await sy(n),o=await fy.initDID(i,r);return new fy({cacao:r,keySeed:n,did:o})}get hasSession(){return!!ny(this,uy)&&!!ny(this,ay)}get isExpired(){const e=ny(this,uy).p.exp;return!!e&&Date.parse(e)<Date.now()}get expireInSecs(){const e=ny(this,uy).p.exp;if(!e)throw new Error("Session does not expire");const t=Date.parse(e)-Date.now();return t<0?0:t/1e3}get authorizations(){return ny(this,uy)?.p.resources??[]}get cacao(){return ny(this,uy)}isAuthorized(e){return!(!this.hasSession||this.isExpired)&&(!e||e.every((e=>this.authorizations.includes(e))))}get id(){return ny(this,ay).parent}constructor(e){iy(this,ay,{writable:!0,value:void 0}),iy(this,cy,{writable:!0,value:void 0}),iy(this,uy,{writable:!0,value:void 0}),oy(this,cy,e.keySeed),oy(this,uy,e.cacao),oy(this,ay,e.did)}}var dy=r(6547);async function hy(){const e=this.getMascaApi(),t=await e.getCredentialStore();if(I(t))throw new Error("Failed to get enabled VC stores.");if(!1===t.data.ceramic)return;const r=await e.validateStoredCeramicSession();if(!I(r))return;const n=await window.ethereum.request({method:"eth_requestAccounts"}),i=await async function(e,t){const r=await async function(e){const t=await Tf(e,"eth_chainId",[]);return parseInt(t,16)}(e),n=`${Uf}:${r}`;return new ma({address:t.toLowerCase(),chainId:n})}(window.ethereum,n[0]),o=await Lf.getAuthMethod(window.ethereum,i);let s;try{s=await fy.authorize(o,{expiresInSecs:86400,resources:["ceramic://*"]})}catch(e){throw new Error("User failed to sign session.")}const a=s.serialize(),c=await e.setCeramicSession(a);if(I(c))throw new Error("Failed to set session in Masca.")}async function ly(e,t){const r=await window.ethereum.request({method:"eth_requestAccounts"});let n="";if(n="string"==typeof e.issuer?e.issuer:e.issuer.id,!n.includes(r[0]))throw new Error("Invalid Issuer");const i=parseInt(await window.ethereum.request({method:"eth_chainId"}),16);e.proof={verificationMethod:`${n}#controller`,created:e.issuanceDate,proofPurpose:"assertionMethod",type:"EthereumEip712Signature2021"};const o=e,s={chainId:i,name:"VerifiableCredential",version:"1"},a="VerifiableCredential",c=(0,dy.getEthTypesFromInputDoc)(e,a),u={...c},f=JSON.stringify({domain:s,types:u,message:o,primaryType:a}),d=await window.ethereum.request({method:"eth_signTypedData_v4",params:[r[0],f]});if(e.proof.proofValue=d,e.proof.eip712={domain:s,types:c,primaryType:a},t.options&&t.options.save){const r=this.getMascaApi(),n=await r.saveCredential(e,{store:t.options.store});if(I(n))throw new Error("Failed to save VC in Masca.")}return e}var py=Object.defineProperty,yy=(e,t,r)=>(((e,t,r)=>{t in e?py(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);async function by(e,t){return window.ethereum.request({method:"wallet_invokeSnap",params:{snapId:t,request:e}})}async function gy(e){return await hy.bind(this)(),by({method:"queryCredentials",params:e??{}},this.snapId)}async function vy(e){await hy.bind(this)();const t=await by({method:"createPresentation",params:e},this.snapId);if(I(t))return t;if(t.data.proof)return t;const r=j.success(await async function(e){const t=await window.ethereum.request({method:"eth_requestAccounts"});if(!e.holder.includes(t[0]))throw new Error("Wrong holder");const r=parseInt(await window.ethereum.request({method:"eth_chainId"}),16);e.proof={verificationMethod:`${e.holder}#controller`,created:e.issuanceDate,proofPurpose:"assertionMethod",type:"EthereumEip712Signature2021"};const n=e,i={chainId:r,name:"VerifiablePresentation",version:"1"},o="VerifiablePresentation",s=(0,dy.getEthTypesFromInputDoc)(e,o),a=JSON.stringify({domain:i,types:s,message:n,primaryType:o}),c=await window.ethereum.request({method:"eth_signTypedData_v4",params:[t[0],a]});return e.proof.proofValue=c,e.proof.eip712={domain:i,types:s,primaryType:o},e}(t.data));return r}async function my(e,t){return await hy.bind(this)(),by({method:"saveCredential",params:{verifiableCredential:e,options:t}},this.snapId)}async function wy(e,t){return await hy.bind(this)(),by({method:"deleteCredential",params:{id:e,options:t}},this.snapId)}async function xy(){return by({method:"getDID"},this.snapId)}async function Ay(){return by({method:"getSelectedMethod"},this.snapId)}async function Ey(){return by({method:"getAvailableMethods"},this.snapId)}async function My(e){return this.supportedMethods.includes(e)?by({method:"switchDIDMethod",params:{didMethod:e}},this.snapId):j.error(`Method ${e} is not supported on this dapp.`)}async function Sy(){return by({method:"togglePopups"},this.snapId)}async function _y(){return by({method:"addFriendlyDapp"},this.snapId)}async function Iy(e){return by({method:"removeFriendlyDapp",params:{id:e}},this.snapId)}async function ky(){return by({method:"getCredentialStore"},this.snapId)}async function jy(){return by({method:"getAvailableCredentialStores"},this.snapId)}async function Oy(e,t){return by({method:"setCredentialStore",params:{store:e,value:t}},this.snapId)}async function Cy(){return by({method:"getAccountSettings"},this.snapId)}async function Ry(){return by({method:"getSnapSettings"},this.snapId)}async function Ny(e){return by({method:"resolveDID",params:{did:e}},this.snapId)}async function Py(e){await hy.bind(this)();const t=await by({method:"createCredential",params:e},this.snapId);return I(t)||t.data.proof?t:j.success(await ly.bind(this)(t.data,e))}async function By(e){return by({method:"setCurrentAccount",params:e},this.snapId)}async function Dy(e){return by({method:"verifyData",params:e},this.snapId)}async function Ty(e){return by({method:"handleCredentialOffer",params:e},this.snapId)}async function Uy(e){return by({method:"handleAuthorizationRequest",params:e},this.snapId)}async function Ly(e){return by({method:"setCeramicSession",params:{serializedSession:e}},this.snapId)}async function qy(){return by({method:"validateStoredCeramicSession"},this.snapId)}async function zy(){return by({method:"exportStateBackup"},this.snapId)}async function $y(e){return by({method:"importStateBackup",params:e},this.snapId)}async function Fy(){return by({method:"getWalletId"},this.snapId)}async function Vy(e){return by({method:"signData",params:e},this.snapId)}const Hy=e=>async(...t)=>{try{return await e(...t)}catch(e){return j.error(e.toString())}};class Ky{constructor(e,t){yy(this,"snapId"),yy(this,"supportedMethods"),yy(this,"getMascaApi",(()=>({saveCredential:Hy(my.bind(this)),queryCredentials:Hy(gy.bind(this)),createPresentation:Hy(vy.bind(this)),togglePopups:Hy(Sy.bind(this)),addFriendlyDapp:Hy(_y.bind(this)),removeFriendlyDapp:Hy(Iy.bind(this)),getDID:Hy(xy.bind(this)),getSelectedMethod:Hy(Ay.bind(this)),getAvailableMethods:Hy(Ey.bind(this)),switchDIDMethod:Hy(My.bind(this)),getCredentialStore:Hy(ky.bind(this)),setCredentialStore:Hy(Oy.bind(this)),getAvailableCredentialStores:Hy(jy.bind(this)),deleteCredential:Hy(wy.bind(this)),getSnapSettings:Hy(Ry.bind(this)),getAccountSettings:Hy(Cy.bind(this)),resolveDID:Hy(Ny.bind(this)),createCredential:Hy(Py.bind(this)),setCurrentAccount:Hy(By.bind(this)),verifyData:Hy(Dy.bind(this)),handleCredentialOffer:Hy(Ty.bind(this)),handleAuthorizationRequest:Hy(Uy.bind(this)),setCeramicSession:Hy(Ly.bind(this)),validateStoredCeramicSession:Hy(qy.bind(this)),importStateBackup:Hy($y.bind(this)),exportStateBackup:Hy(zy.bind(this)),getWalletId:Hy(Fy.bind(this)),signData:Hy(Vy.bind(this))}))),this.snapId=e,this.supportedMethods=t}}const Jy="npm:@blockchain-lab-um/masca";async function Wy(){try{return await window.ethereum.request({method:"wallet_getSnaps"}),!0}catch(e){return!1}}async function Gy(e,t={}){const{snapId:r=Jy,version:n=ua.H,supportedMethods:i=Rs}=t;if(!await ca()({mustBeMetaMask:!0}))return j.error("No provider found");if(!await Wy())return j.error("Currently installed MetaMask version doesn't support snaps.");try{await window.ethereum.request({method:"wallet_requestSnaps",params:{[r]:{version:n}}});const t=new Ky(r,i),o=t.getMascaApi(),s=await o.setCurrentAccount({account:e});if(I(s))return j.error(s.error);const a=await o.getSelectedMethod();if(I(a))return j.error(a.error);const c=a.data;if(!i.includes(c)){const e=await o.switchDIDMethod(t.supportedMethods[0]);if(I(e))return j.error(e.error);if(!e.data)return j.error("Could not switch to supported DID method")}return j.success(t)}catch(e){return j.error(e.message)}}})(),n})()));